<!doctype html><html lang=zh-CN data-theme=dark><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=theme-color content="#222" media="(prefers-color-scheme: dark)"><meta name=generator content="Hugo 0.157.0"><link rel="shortcut icon" type=image/x-icon href=/imgs/icons/favicon.ico><link rel=icon type=image/x-icon href=/imgs/icons/favicon.ico><link rel=icon type=image/png sizes=16x16 href=/imgs/icons/favicon_32_32_next.png><link rel=icon type=image/png sizes=32x32 href=/imgs/icons/favicon_128_128_next.png><link rel=apple-touch-icon sizes=180x180 href=/imgs/icons/apple_touch_icon_next.png><meta itemprop=name content="硬盘分区表和文件分配表格式"><meta itemprop=description content="福兮祸兮，焉知所依？冬去冰泮，春来萌荣。朝生暮死，亦可惊鸿。知足者富，自足者强。"><meta name=description content="福兮祸兮，焉知所依？冬去冰泮，春来萌荣。朝生暮死，亦可惊鸿。知足者富，自足者强。"><meta itemprop=datePublished zgotmplz><meta itemprop=dateModified zgotmplz><meta itemprop=image content="https://blogs.qipai360.cn/imgs/avatar.jpg"><meta itemprop=keywords content="Rise,ZhangTuohui,技术,C++,Unity3D,Lua,NodeJS,C#,JavaScript,游戏开发,机器学习,深度学习,AI,编程,编程语言,编程技术,编程开发,游戏引擎,游戏设计,游戏制作,游戏开发者,游戏开发者博客,游戏开发者网站,游戏开发者工具,游戏开发者教程,游戏开发者学习,游戏开发者交流,游戏开发者分享,游戏开发者经验,游戏开发者心得,游戏开发者技巧,游戏开发者方法,游戏开发者思路,游戏开发者理念,游戏开发者文化,游戏开发者精神,游戏开发者信仰"><meta property="og:type" content="article"><meta property="og:title" content="硬盘分区表和文件分配表格式"><meta property="og:description" content="福兮祸兮，焉知所依？冬去冰泮，春来萌荣。朝生暮死，亦可惊鸿。知足者富，自足者强。"><meta property="og:image" content="/imgs/avatar.jpg"><meta property="og:image:width" content="312"><meta property="og:image:height" content="312"><meta property="og:image:type" content="image/jpeg/png/svg/jpg"><meta property="og:url" content="https://blogs.qipai360.cn/post/hard-disk-partition-table-format/"><meta property="og:site_name" content="Rise的自留地"><meta property="og:locale" content="zh-CN"><meta property="article:author" content="Rise"><meta property="article:published_time" content="2004-10-10 19:04:00 +0800 +0800"><meta property="article:modified_time" content="2004-10-10 19:39:00 +0800 +0800"><link type=text/css rel=stylesheet href=https://blogs.qipai360.cn/js/3rd/font-awesome/6.7.2/css/all.min.css><link type=text/css rel=stylesheet href=https://blogs.qipai360.cn/js/3rd/animate.css/3.1.1/animate.min.css><link type=text/css rel=stylesheet href=https://blogs.qipai360.cn/js/3rd/viewerjs/1.11.6/viewer.min.css><link rel=stylesheet href="/css/main.min.css?=1772265589"><style type=text/css>.post-footer hr:after{content:"~ 我可是有底线的哟 ~"}.flinks-list-footer hr:after{content:"~ 我可是有底线的哟 ~"}</style><script type=text/javascript>(function(){localDB={set:function(e,t,n){if(n===0)return;const s=new Date,o=n*864e5,i={value:t,expiry:s.getTime()+o};localStorage.setItem(e,JSON.stringify(i))},get:function(e){const t=localStorage.getItem(e);if(!t)return 0[0];const n=JSON.parse(t),s=new Date;return s.getTime()>n.expiry?(localStorage.removeItem(e),0[0]):n.value}},theme={active:function(){const e=localDB.get("theme");if(e==null)return;theme.toggle(e),window.matchMedia("(prefers-color-scheme: dark)").addListener(function(e){theme.toggle(e.matches?"dark":"light")})},toggle:function(e){document.documentElement.setAttribute("data-theme",e),localDB.set("theme",e,2);const t=document.querySelector("iframe.giscus-frame");if(t){const n={setConfig:{theme:e}};t.contentWindow.postMessage({giscus:n},"https://giscus.app")}}},theme.active()})(window)</script><script type=text/javascript>document.addEventListener("DOMContentLoaded",()=>{var e=document.createElement("script");e.charset="UTF-8",e.src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js",e.async=!1,e.defer=!0,document.head.appendChild(e),e.onload=function(){NexT.utils.fmtBusuanzi()}})</script><script defer src=https://static.cloudflareinsights.com/beacon.min.js data-cf-beacon='{"token": "2b23669184fc49269e400525ac2447d9"}'></script><title>硬盘分区表和文件分配表格式 - Rise的自留地</title><noscript><link rel=stylesheet href=/css/noscript.css></noscript></head><body itemscope itemtype=http://schema.org/WebPage class=use-motion><div class=headband></div><main class=main><header class=header itemscope itemtype=http://schema.org/WPHeader><div class=header-inner><div class=site-brand-container><div class=site-nav-toggle><div class=toggle aria-label role=button><span class=toggle-line></span>
<span class=toggle-line></span>
<span class=toggle-line></span></div></div><div class=site-meta><a href=/ class=brand rel=start><i class=logo-line></i><h1 class=site-title>Rise的自留地</h1><i class=logo-line></i></a><p class=site-subtitle itemprop=description>记录生活中的点滴，分享编程技术和游戏开发经验。</p></div><div class=site-nav-right><div class="toggle popup-trigger"></div></div></div><nav class=site-nav><ul class="main-menu menu"><li class="menu-item menu-item-home"><a href=/ class=hvr-icon-pulse rel=section><i class="fa fa-home hvr-icon"></i>首页</a></li><li class="menu-item menu-item-about"><a href=/about.html class=hvr-icon-pulse rel=section><i class="fa fa-user hvr-icon"></i>关于</a></li><li class="menu-item menu-item-archives"><a href=/archives/ class=hvr-icon-pulse rel=section><i class="fa fa-archive hvr-icon"></i>归档
<span class=badge>679</span></a></li><li class="menu-item menu-item-tags"><a href=/tags/ class=hvr-icon-pulse rel=section><i class="fa fa-tags hvr-icon"></i>标签</a></li><li class="menu-item menu-item-message"><a href=/message/ class=hvr-icon-pulse rel=section><i class="fa fa-comments hvr-icon"></i>留言板</a></li><li class="menu-item menu-item-commonweal"><a href=/404.html class=hvr-icon-pulse rel=section><i class="fa fa-heartbeat hvr-icon"></i>公益 404</a></li></ul></nav></div><div class="toggle sidebar-toggle" role=button><span class=toggle-line></span>
<span class=toggle-line></span>
<span class=toggle-line></span></div><aside class=sidebar><div class="sidebar-inner sidebar-overview-active"><ul class=sidebar-nav><li class=sidebar-nav-toc>文章目录</li><li class=sidebar-nav-overview>站点概览</li></ul><div class=sidebar-panel-container><div class="post-toc-wrap sidebar-panel"><div class="post-toc animated"><nav id=TableOfContents></nav></div></div><div class="site-overview-wrap sidebar-panel"><div class="site-author site-overview-item animated" itemprop=author itemscope itemtype=http://schema.org/Person><img class=site-author-image itemprop=image alt=Rise src=/imgs/img-lazy-loading.gif data-src=/imgs/avatar.jpg><p class=site-author-name itemprop=name>Rise</p><div class=site-description itemprop=description>福兮祸兮，焉知所依？冬去冰泮，春来萌荣。朝生暮死，亦可惊鸿。知足者富，自足者强。</div></div><div class="site-state-wrap site-overview-item animated"><nav class=site-state><div class="site-state-item site-state-posts"><a href=/archives/><span class=site-state-item-count>679</span>
<span class=site-state-item-name>日志</span></a></div><div class="site-state-item site-state-categories"><a href=/categories/><span class=site-state-item-count>35</span>
<span class=site-state-item-name>分类</span></a></div><div class="site-state-item site-state-tags"><a href=/tags/><span class=site-state-item-count>118</span>
<span class=site-state-item-name>标签</span></a></div></nav></div><div class="links-of-social site-overview-item animated"><span class=links-of-social-item><a href=https://github.com/rise-worlds title="Github → https://github.com/rise-worlds" rel=noopener class=hvr-icon-pulse target=_blank><i class="fab fa-github fa-fw hvr-icon"></i>
Github
</a></span><span class=links-of-social-item><a href=mailto:rise.worlds@outlook.com title="E-Mail → mailto:rise.worlds@outlook.com" rel=noopener class=hvr-icon-pulse target=_blank><i class="fa fa-envelope fa-fw hvr-icon"></i>
E-Mail
</a></span><span class=links-of-social-item><a href=https://www.zhihu.com/people/rise-worlds title="知乎 → https://www.zhihu.com/people/rise-worlds" rel=noopener class=hvr-icon-pulse target=_blank><i class="fa fa-book fa-fw hvr-icon"></i>
知乎
</a></span><span class=links-of-social-item><a href=https://twitter.com/riseworlds title="Twitter → https://twitter.com/riseworlds" rel=noopener class=hvr-icon-pulse target=_blank><i class="fab fa-twitter fa-fw hvr-icon"></i>
Twitter
</a></span><span class=links-of-social-item><a href=https://www.facebook.com/rise.worlds title="facebook → https://www.facebook.com/rise.worlds" rel=noopener class=hvr-icon-pulse target=_blank><i class="fab fa-facebook fa-fw hvr-icon"></i>
facebook
</a></span><span class=links-of-social-item><a href=https://youtube.com/@YiXuan title="YouTube → https://youtube.com/@YiXuan" rel=noopener class=hvr-icon-pulse target=_blank><i class="fab fa-youtube fa-fw hvr-icon"></i>
YouTube
</a></span><span class=links-of-social-item><a href=https://instagram.com/rise.worlds title="Instagram → https://instagram.com/rise.worlds" rel=noopener class=hvr-icon-pulse target=_blank><i class="fab fa-instagram fa-fw hvr-icon"></i>
Instagram
</a></span><span class=links-of-social-item><a href=https://t.me/riseworlds title="Telegram → https://t.me/riseworlds" rel=noopener class=hvr-icon-pulse target=_blank><i class="fab fa-telegram fa-fw hvr-icon"></i>
Telegram</a></span></div><div class="links-of-blogroll site-overview-item animated"><div class=links-of-blogroll-title><i class="fa fa-globe fa-fw"></i>
友情链接</div><ul class=links-of-blogroll-list><li class=links-of-blogroll-item><a href=https://www.qipai360.cn title=https://www.qipai360.cn target=_blank>Qipai360</a></li><li class=links-of-blogroll-item><a href=https://www.cnblogs.com/flying_bat title=https://www.cnblogs.com/flying_bat target=_blank>博客园</a></li><li class=links-of-blogroll-item><a href=https://zishu.me title=https://zishu.me target=_blank>子舒的博客</a></li><li class=links-of-blogroll-item><a href=https://gitee.com/hugo-next/hugo-theme-next title=https://gitee.com/hugo-next/hugo-theme-next target=_blank>Hugo-NexT</a></li></ul></div></div></div></div><div id=siteinfo-card-widget class=sidebar-card-widget><div class=item-headline><i class="fas fa-chart-line"></i>
<span>网站资讯</span></div><div class=siteinfo><div class=siteinfo-item><div class=item-name><i class="fa-solid fa-calendar-check"></i>已运行：</div><div class=item-count id=runTimes data-publishdate="2004-10-06 15:24:00 +0800 +0800"></div></div><div class=siteinfo-item><div class=item-name><i class="fas fa fa-user"></i>总访客数：</div><div class=item-count id=busuanzi_value_site_uv><i class="fa fa-sync fa-spin"></i></div></div><div class=siteinfo-item><div class=item-name><i class="fas fa fa-eye"></i>页面浏览：</div><div class=item-count id=busuanzi_value_site_pv><i class="fa fa-sync fa-spin"></i></div></div><div class=siteinfo-item><div class=item-name><i class="fa fa-font"></i>总字数：</div><div class=item-count id=wordsCount data-count=2423147></div></div><div class=siteinfo-item><div class=item-name><i class="fa fa-mug-hot"></i>阅读约：</div><div class=item-count id=readTimes data-times=5207></div></div><div class=siteinfo-item><div class=item-name><i class="fa fa-clock-rotate-left"></i>最后更新于：</div><div class=item-count id=last-push-date data-lastpushdate="2026-02-28 15:59:00 +0800 +0800"></div></div></div></div></aside><div class=sidebar-dimmer></div></header><div class=tool-buttons><div id=goto-comments class="button goto-comments" title=直达评论><i class="fas fa-comments"></i></div><div id=toggle-theme class=button title=深浅模式切换><i class="fas fa-adjust"></i></div><div class=back-to-top role=button title=返回顶部><i class="fa fa-arrow-up"></i>
<span>0%</span></div></div><div class=reading-progress-bar></div><a role=button class="book-mark-link book-mark-link-fixed"></a><a href=https://github.com/rise-worlds rel="noopener external nofollow noreferrer" target=_blank title="Follow me on GitHub" class="exturl github-corner"><svg width="80" height="80" viewBox="0 0 250 250" aria-hidden="true"><path d="M0 0 115 115h15l12 27L250 250V0z"/><path d="M128.3 109C113.8 99.7 119 89.6 119 89.6 122 82.7 120.5 78.6 120.5 78.6 119.2 72 123.4 76.3 123.4 76.3 127.3 80.9 125.5 87.3 125.5 87.3 122.9 97.6 130.6 101.9 134.4 103.2" fill="currentColor" style="transform-origin:130px 106px" class="octo-arm"/><path d="M115 115C114.9 115.1 118.7 116.5 119.8 115.4l13.9-13.8C136.9 99.2 139.9 98.4 142.2 98.6 133.8 88 127.5 74.4 143.8 58 148.5 53.4 154 51.2 159.7 51 160.3 49.4 163.2 43.6 171.4 40.1 171.4 40.1 176.1 42.5 178.8 56.2 183.1 58.6 187.2 61.8 190.9 65.4 194.5 69 197.7 73.2 200.1 77.6 213.8 80.2 216.3 84.9 216.3 84.9 212.7 93.1 206.9 96 205.4 96.6 205.1 102.4 203 107.8 198.3 112.5 181.9 128.9 168.3 122.5 157.7 114.1 157.9 116.9 156.7 120.9 152.7 124.9L141 136.5C139.8 137.7 141.6 141.9 141.8 141.8z" fill="currentColor" class="octo-body"/></svg></a><noscript><div class=noscript-warning>Theme NexT works best with JavaScript enabled</div></noscript><div class="main-inner post posts-expand"><div class=post-block><article itemscope itemtype=http://schema.org/Article class=post-content lang><link itemprop=mainEntityOfPage href=https://blogs.qipai360.cn/post/hard-disk-partition-table-format/><span hidden itemprop=author itemscope itemtype=http://schema.org/Person><meta itemprop=image content="/imgs/avatar.jpg"><meta itemprop=name content="Rise"></span><span hidden itemprop=publisher itemscope itemtype=http://schema.org/Organization><meta itemprop=name content="Rise"><meta itemprop=description content="福兮祸兮，焉知所依？冬去冰泮，春来萌荣。朝生暮死，亦可惊鸿。知足者富，自足者强。"></span><span hidden itemprop=post itemscope itemtype=http://schema.org/CreativeWork><meta itemprop=name content="硬盘分区表和文件分配表格式"><meta itemprop=description content="硬盘分区表和文件分配表    硬盘只有经过物理格式化，分区，逻辑格式化后才能使用，在进行分区时，FDISK 会在硬盘的0柱面0磁头1扇区建一个64字节的分区表，在分表的前面是主引导记录 （MRB），后面是两个字节的有效标志55H，AAH，（H表示16进制）。此扇区被称为主 引导扇区，也是病毒最爱侵袭的地方，它由主引导记录+分区表+有效标志组成。   分区表对于系统自举十分重要，它规定着系统有几个分区；每个分区的起始及终止 扇区，大小以及是否为活动分区等重要信息。分区表由4个表项组成，每个表项16个字 节，各字节含义如下表1：                            表1 —————————————————————————————— —————————————————————————————— 第0字节     是否为活动分区，是则为80H，否则为00H 第1字节     该分区起始磁头号 第2字节     该分区起始扇区号（低6位）和起始柱面号            （高2位） 第3字节     该分区起始柱面号的低8位 第4字节     系统标志，00H表该分区未使用，06H表高版             本DOS系统，05H展DOS分区，65H表Netwear             分区 第5字节     该分区结束磁头号 第6字节     该分区结束扇区号（低6位）和结束柱面号            （高2位） 第7字节     该分区结束柱面号的低8位 第811字节  相对扇区号，该分区起始的相对逻辑扇区号，             高位在后低位在前 第1215字节 该分区所用扇区数，高位在后，低位在前 ——————————————————————————————       注意：   1. 分区表有四个表项，表示硬盘最多只能容纳四个分区。   2. 磁头的各个面称为磁头，软盘只有两个磁头，而硬盘往往有多个。   各个磁头相同半径的磁道合称为柱面。   3. 高位在后，低位在前是一种存储数字方式，读出时应对其进行调整。   如两字节12H，34H，应调整为3412H。 文件分配表   当一个磁盘Format后，在其逻辑0扇区（即BOOT扇区）后面的几个扇区中存 在着一个重要的数据表—文件分配（FAT），文件分配表一式两份，占据扇 区的多小凭磁盘类型大小而定。顾名思义，文件分配表是用来表示磁盘问件 的空分配信息的。它不对引导区，文件目录的信息进行表示，也不真正存储 文件内容。   我们知道磁盘是由一个一个扇区组成的，若干个扇区合为一个簇 ，文件存取 是以簇为单位的，哪怕这个文件只有1个字节。每个簇在文件分配表中都有对应 的表项，簇号即为表项号，每个表项占1.5个字节（磁盘空间在10MB以下）或2个 字节（磁盘空间在10MB以上）。为了方便起见，以后所说的表项都是指2个字节的。   文件分赔表结构如2（H表示16进制）   注意： 不要把表项内的数字误认为表示当前簇号，而应是该文件的下一个簇的簇号。 . 高字节在后，低字节在前是一种存储数字方式，读出时应对其进行调整。 是如两字节12H，34H，应调整为3412H。    文件分配表与文件目录（FDT）相配合，可以统一管理整个磁盘的文件。它告诉 系统磁盘上哪些簇是坏的或已被使用，哪些簇可以用，并存储每个文件所使用的簇 号。它是文件的“总调度师”。   当DOS写文件时，首先在文件目录中检查是否有相同文件名，若无则使用一个文 件目录表项，然后依次检测FAT中的每个表项对应的簇中，同时将该簇号写入文件目 录表项相的26-27字节，如文件长度不止一簇，则继续向后寻找可用簇，找到后将其 簇号写入上一次找到的表项中，如此直到文件结束，在最后一簇的表项里填上FFF8H， 形成单向链表。   DOS删除文件时只是把文件目录表中的该文件的表项第0个字节改为E5H，表此项已 被删除，并在文件分配表中把该文件占用的各簇的表项清0，并释放空间。其文件的 内容仍然在盘上，并没有被真正删除，这就是undelete.exe,unerase.exe等一类恢复 删除工具能起作用的原因。   文件分配表在系统中的地位十分重要，用户最好不要去修改它，以免误操作带来 严重的后果。                 表2 —————————————————————————————————— —————————————————————————————————— 第0字节                表头，表磁盘类型。                        FFH双面软盘，每次道8扇区                        FEH单面软盘，每磁道8扇区                        FDH 双面软盘，每磁道9扇区                        FCCH单面软盘，每磁道9扇区                        FC8H硬盘 第12字节（表项号1）   表示第一簇状态，因第一簇被系统占据，故此两字节                        为FFFFH 第34字节（表项号2）   表示第二簇状态，若为FFFH表此簇为坏的，DOS已标                         记为不能用；0000H表示此簇为空，可以用；FFF8H表                        不能示该簇为文件的最后一簇；其余数字表示文件的                        下一个簇号，注意高字节在后，低字节在前。 第5~6字节（表项号3）   表示第三簇状态，同上。 附表： 分区表参数 偏移 含义  1BEH 是否可自举(80：可自举)  1BFH&ndash;1C1H 分区的起始地址(面、扇区、头)  1C2H DOS分区标志(01为DOS分区)  1C3H&ndash;1C5H 分区终止地址  1C6H&ndash;1c9H 分区相对扇区数  1CAH&ndash;1CDH 分区实用扇区数  "></span><header class=post-header><h1 class=post-title itemprop="name headline">硬盘分区表和文件分配表格式</h1><div class=post-meta-container><div class=post-meta-items><span class=post-meta-item><span class=post-meta-item-icon><i class="fas fa-solid fa-calendar"></i>
</span><span class=post-meta-item-text title=发表于>发表于：
</span><time title="创建时间：2004年10月10日 19:04:00 CST" itemprop="dateCreated datePublished" datetime="2004-10-10 19:04:00 +0800 +0800">2004年10月10日
</time></span><span class=post-meta-item><span class=post-meta-item-icon><i class="fas fa-solid fa-calendar-check"></i>
</span><span class=post-meta-item-text title=更新于>更新于：
</span><time title="修改时间：2004年10月10日 19:39:00 CST" itemprop="dateModified dateLastmod" datetime="2004-10-10 19:39:00 +0800 +0800">2004年10月10日
</time></span><span class=post-meta-item><span class=post-meta-item-icon><i class="fas fa-solid fa-folder-open"></i>
</span><span class=post-meta-item-text title=分类于>分类于：
</span><span itemprop=about itemscope itemtype=http://schema.org/Thing><a href=/categories/dev/ itemprop=url rel=index><span itemprop=name>dev</span></a></span></span></div><div class=post-meta-items><span class=post-meta-item title=字数><span class=post-meta-item-icon><i class="fas fa-solid fa-file-word"></i>
</span><span class=post-meta-item-text>字数：</span>
<span>1952</span>
</span><span class=post-meta-item title=阅读><span class=post-meta-item-icon><i class="fas fa-solid fa-clock"></i>
</span><span class=post-meta-item-text>阅读：&ap;</span>
<span>4分钟</span>
</span><span class=post-meta-item title=浏览><span class=post-meta-item-icon><i class="fas fa-solid fa-eye"></i>
</span><span class=post-meta-item-text>浏览：
</span><span id=pageview-count data-path=/post/hard-disk-partition-table-format/><i class="fa fa-sync fa-spin"></i></span></span></div></div></header><div class=post-body itemprop=articleBody><p><font size=2><font face="Courier New">硬盘分区表和文件分配表  <br>  硬盘只有经过物理格式化，分区，逻辑格式化后才能使用，在进行分区时，FDISK 会在硬盘的0柱面0磁头1扇区建一个64字节的分区表，在分表的前面是主引导记录 （MRB），后面是两个字节的有效标志55H，AAH，（H表示16进制）。此扇区被称为主 引导扇区，也是病毒最爱侵袭的地方，它由主引导记录+分区表+有效标志组成。<br>  分区表对于系统自举十分重要，它规定着系统有几个分区；每个分区的起始及终止 扇区，大小以及是否为活动分区等重要信息。分区表由4个表项组成，每个表项16个字 节，各字节含义如下表1：  <br><br><br>                          表1<br>——————————————————————————————<br>——————————————————————————————<br>第0字节     是否为活动分区，是则为80H，否则为00H<br>第1字节     该分区起始磁头号<br>第2字节     该分区起始扇区号（低6位）和起始柱面号<br>           （高2位）<br>第3字节     该分区起始柱面号的低8位<br>第4字节     系统标志，00H表该分区未使用，06H表高版<br>            本DOS系统，05H展DOS分区，65H表Netwear<br>            分区<br>第5字节     该分区结束磁头号<br>第6字节     该分区结束扇区号（低6位）和结束柱面号<br>           （高2位）<br>第7字节     该分区结束柱面号的低8位<br>第8<del>11字节  相对扇区号，该分区起始的相对逻辑扇区号，<br>            高位在后低位在前<br>第12</del>15字节 该分区所用扇区数，高位在后，低位在前<br>——————————————————————————————<br>    <br>  注意：<br>  1. 分区表有四个表项，表示硬盘最多只能容纳四个分区。<br>  2. 磁头的各个面称为磁头，软盘只有两个磁头，而硬盘往往有多个。<br>  各个磁头相同半径的磁道合称为柱面。<br>  3. 高位在后，低位在前是一种存储数字方式，读出时应对其进行调整。<br>  如两字节12H，34H，应调整为3412H。<br><br><br>文件分配表<br><br>  当一个磁盘Format后，在其逻辑0扇区（即BOOT扇区）后面的几个扇区中存 在着一个重要的数据表—文件分配（FAT），文件分配表一式两份，占据扇 区的多小凭磁盘类型大小而定。顾名思义，文件分配表是用来表示磁盘问件 的空分配信息的。它不对引导区，文件目录的信息进行表示，也不真正存储 文件内容。<br>  我们知道磁盘是由一个一个扇区组成的，若干个扇区合为一个簇 ，文件存取 是以簇为单位的，哪怕这个文件只有1个字节。每个簇在文件分配表中都有对应 的表项，簇号即为表项号，每个表项占1.5个字节（磁盘空间在10MB以下）或2个 字节（磁盘空间在10MB以上）。为了方便起见，以后所说的表项都是指2个字节的。<br>  文件分赔表结构如2（H表示16进制）<br>  注意：<br>不要把表项内的数字误认为表示当前簇号，而应是该文件的下一个簇的簇号。<br>. 高字节在后，低字节在前是一种存储数字方式，读出时应对其进行调整。 是如两字节12H，34H，应调整为3412H。  <br><br>  文件分配表与文件目录（FDT）相配合，可以统一管理整个磁盘的文件。它告诉 系统磁盘上哪些簇是坏的或已被使用，哪些簇可以用，并存储每个文件所使用的簇 号。它是文件的“总调度师”。<br>  当DOS写文件时，首先在文件目录中检查是否有相同文件名，若无则使用一个文 件目录表项，然后依次检测FAT中的每个表项对应的簇中，同时将该簇号写入文件目 录表项相的26-27字节，如文件长度不止一簇，则继续向后寻找可用簇，找到后将其 簇号写入上一次找到的表项中，如此直到文件结束，在最后一簇的表项里填上FFF8H， 形成单向链表。<br>  DOS删除文件时只是把文件目录表中的该文件的表项第0个字节改为E5H，表此项已 被删除，并在文件分配表中把该文件占用的各簇的表项清0，并释放空间。其文件的 内容仍然在盘上，并没有被真正删除，这就是undelete.exe,unerase.exe等一类恢复 删除工具能起作用的原因。<br>  文件分配表在系统中的地位十分重要，用户最好不要去修改它，以免误操作带来 严重的后果。<br>                表2<br>——————————————————————————————————<br>——————————————————————————————————<br>第0字节                表头，表磁盘类型。<br>                       FFH双面软盘，每次道8扇区<br>                       FEH单面软盘，每磁道8扇区<br>                       FDH 双面软盘，每磁道9扇区<br>                       FCCH单面软盘，每磁道9扇区<br>                       FC8H硬盘<br><br><br>第1<del>2字节（表项号1）   表示第一簇状态，因第一簇被系统占据，故此两字节<br>                       为FFFFH<br>第3</del>4字节（表项号2）   表示第二簇状态，若为FFFH表此簇为坏的，DOS已标  <br>                       记为不能用；0000H表示此簇为空，可以用；FFF8H表<br>                       不能示该簇为文件的最后一簇；其余数字表示文件的<br>                       下一个簇号，注意高字节在后，低字节在前。<br>第5~6字节（表项号3）   表示第三簇状态，同上。<br><br><br>附表：<br>分区表参数 偏移 含义  <br>1BEH 是否可自举(80：可自举)  <br>1BFH&ndash;1C1H 分区的起始地址(面、扇区、头)  <br>1C2H DOS分区标志(01为DOS分区)  <br>1C3H&ndash;1C5H 分区终止地址  <br>1C6H&ndash;1c9H 分区相对扇区数  <br>1CAH&ndash;1CDH 分区实用扇区数  </font><br></font></p><a id=more></a></div><footer class=post-footer><hr><div class=post-copyright><img src=/imgs/cc/cc.svg class=cc-icon width=75 height=75 align=right alt=共享知识 title=共享知识><ul><li class=post-copyright-title><strong>文章标题：</strong>
硬盘分区表和文件分配表格式</li><li class=post-copyright-author><strong>本文作者： </strong>Rise</li><li class=post-copyright-link><strong>本文链接：</strong>
<a id=post-cr-link href=https://blogs.qipai360.cn/post/hard-disk-partition-table-format/ title=硬盘分区表和文件分配表格式>https://blogs.qipai360.cn/post/hard-disk-partition-table-format/</a></li><li class=post-copyright-license><strong>版权声明： </strong>本作品采用 <i class="fab fa-fw fa-creative-commons"></i><a target=_blank href=https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh-hans>BY-NC-SA</a> 许可协议。转载请注明出处！</li><li><div class=license-icons><a href=https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh-hans target=_blank><img src=/imgs/cc/big/by_nc_sa.svg alt=BY-NC-SA title=BY-NC-SA>
</a><a href=https://notbyai.fyi target=_blank><img src=/imgs/notbyai/zh-hans/black.svg title="Not By AI"></a></div></li></ul></div><div class=followme><span>欢迎关注我的其它发布渠道</span><div class=social-list><div class=social-item><a target=_blank class=social-link href=https://www.zhihu.com/people/rise-worlds><span class=icon><i class="fa fa-book"></i>
</span><span class=label>知乎</span></a></div><div class=social-item><a target=_blank class=social-link href=https://twitter.com/riseworlds><span class=icon><i class="fab fa-twitter"></i>
</span><span class=label>Twitter</span></a></div><div class=social-item><a target=_blank class=social-link href=https://www.facebook.com/rise.worlds><span class=icon><i class="fab fa-facebook"></i>
</span><span class=label>facebook</span></a></div><div class=social-item><a target=_blank class=social-link href=https://youtube.com/@YiXuan><span class=icon><i class="fab fa-youtube"></i>
</span><span class=label>YouTube</span></a></div><div class=social-item><a target=_blank class=social-link href=https://instagram.com/rise.worlds><span class=icon><i class="fab fa-instagram"></i>
</span><span class=label>Instagram</span></a></div><div class=social-item><a target=_blank class=social-link href=https://t.me/riseworlds><span class=icon><i class="fab fa-telegram"></i>
</span><span class=label>Telegram</span></a></div></div></div><div class=post-nav><div class="post-nav-next post-nav-item"><a href=/post/how-to-write-network-monitor/ rel=next title=何编写网络监视器><i class="fa fa-chevron-left"></i> 何编写网络监视器</a></div><div class="post-nav-prev post-nav-item"><a href=/post/half-life-2-source-code/ rel=prev title=半条命2(HalfLife2)的源代码>半条命2(HalfLife2)的源代码
<i class="fa fa-chevron-right"></i></a></div></div></footer></article></div><div id=comments class=post-comments><div class=comment-head><div class=comment-headline><i class="fas fa-comments fa-fw"></i>
<span>评论交流</span></div></div><div class=comment-wrap><div><div class=comment-loading><i class="fa fa-sync fa-spin"></i></div><div class=giscus-container></div></div></div></div></div></main><footer class=footer><div class=footer-inner><div class=copyright>&copy;
<span itemprop=copyrightYear>2004 - 2026
</span><span class=with-love><i class="fa fa-heart"></i>
</span><span class=author itemprop=copyrightHolder>Rise</span></div><div class=powered-by>由 <a href=https://gohugo.io title=0.157.0 target=_blank>Hugo</a> & <a href=https://github.com/hugo-next/hugo-theme-next title=4.8.3 target=_blank>Hugo NexT.Gemini</a> 强力驱动</div><div class=beian><a href=https://beian.miit.gov.cn target=_blank>豫ICP备2021009490号</a>
<img src=/imgs/gongan.png alt=豫公网安备>
<a href="http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=41162302000074" target=_blank>豫公网安备 41162302000074 号</a></div></div></footer><script class=next-config data-name=page type=application/json>{"comments":true,"expired":false,"isHome":false,"isPage":true,"path":"hard-disk-partition-table-format","permalink":"https://blogs.qipai360.cn/post/hard-disk-partition-table-format/","title":"硬盘分区表和文件分配表格式","toc":false,"waline3":{"pagecnt":{"alias":"@waline/client","alias_name":"waline","file":"dist/pageview.js","name":"pageview","version":"3.5.7"}}}</script><script type=text/javascript src=https://blogs.qipai360.cn/js/3rd/animejs/3.2.2/anime.min.js crossorigin=anonymous defer></script><script type=text/javascript src=https://blogs.qipai360.cn/js/3rd/viewerjs/1.11.6/viewer.min.js crossorigin=anonymous defer></script><script class=next-config data-name=main type=application/json>{"bookmark":{"color":"#222","enable":true,"save":"manual"},"copybtn":true,"darkmode":true,"giscus":{"cfg":{"category":"Announcements","categoryid":"DIC_kwDOA6L0YM4CiXf9","emit":false,"inputposition":"top","mapping":"title","reactions":false,"repo":"rise-worlds/rise-worlds.github.io","repoid":"MDEwOlJlcG9zaXRvcnk2MTAxMTA0MA==","theme":"transparent_dark"},"js":"https://giscus.app/client.js"},"hostname":"https://blogs.qipai360.cn/","i18n":{"ds_day":" 天前","ds_days":" 天 ","ds_hour":" 小时前","ds_hours":" 小时 ","ds_just":"刚刚","ds_min":" 分钟前","ds_mins":" 分钟","ds_month":" 个月前","ds_years":" 年 ","empty":"没有找到任何搜索结果：${query}","hits":"找到 ${hits} 个搜索结果","hits_time":"找到 ${hits} 个搜索结果（用时 ${time} 毫秒）","placeholder":"搜索..."},"isMultiLang":false,"lang":"zh-CN","lazyload":false,"motion":{"async":true,"enable":true,"transition":{"collheader":"fadeInLeft","postblock":"fadeIn","postbody":"fadeInDown","postheader":"fadeInDown","sidebar":"fadeInUp"}},"postmeta":{"comments":{"enable":false,"plugin":"waline3"},"views":{"enable":true,"plugin":"waline3"}},"root":"/","scheme":"Gemini","share":{"addtoany":{"js":"https://static.addtoany.com/menu/page.js","locale":"zh-CN","num":8},"enable":false},"sidebar":{"display":"post","offset":12,"padding":18,"position":"left","width":256},"vendor":{"plugins":"local","router":{"name":"local","type":"modern","url":"https://blogs.qipai360.cn/js/3rd"}},"version":"4.8.3","waline3":{"cfg":{"emoji":false,"imguploader":false,"placeholder":"请文明发言哟 ヾ(≧▽≦*)o 可用快捷键选取表情符号：😀😄😁🥳👻👽👀🚄 (Window系统：Win+.，Mac系统：Control+Command+Space)","reaction":true,"reactiontext":["点赞","踩一下","得意","不屑","尴尬","睡觉"],"reactiontitle":"你认为这篇文章怎么样？","requiredmeta":["nick","mail"],"search":true,"serverurl":"https://walinejs.comment.lithub.cc","sofa":"快来发表你的意见吧 (≧∀≦)ゞ","wordlimit":200},"css":{"alias":"@waline/client","file":"dist/waline.css","name":"waline","version":"3.5.7"},"js":{"alias":"@waline/client","file":"dist/waline.js","name":"waline","version":"3.5.7"}}}</script><script type=text/javascript src="/js/main.min.js?=1772265585" defer></script></body></html>