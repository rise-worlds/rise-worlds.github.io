<!doctype html><html lang=zh-CN data-theme=dark><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=theme-color content="#222" media="(prefers-color-scheme: dark)"><meta name=generator content="Hugo 0.157.0"><link rel="shortcut icon" type=image/x-icon href=/imgs/icons/favicon.ico><link rel=icon type=image/x-icon href=/imgs/icons/favicon.ico><link rel=icon type=image/png sizes=16x16 href=/imgs/icons/favicon_32_32_next.png><link rel=icon type=image/png sizes=32x32 href=/imgs/icons/favicon_128_128_next.png><link rel=apple-touch-icon sizes=180x180 href=/imgs/icons/apple_touch_icon_next.png><meta itemprop=name content="捅破窗户纸：如何从过程到对象—For金色的海洋以及所有为面向对象而困惑的Tx"><meta itemprop=description content="福兮祸兮，焉知所依？冬去冰泮，春来萌荣。朝生暮死，亦可惊鸿。知足者富，自足者强。"><meta name=description content="福兮祸兮，焉知所依？冬去冰泮，春来萌荣。朝生暮死，亦可惊鸿。知足者富，自足者强。"><meta itemprop=datePublished zgotmplz><meta itemprop=dateModified zgotmplz><meta itemprop=image content="https://blogs.qipai360.cn/imgs/avatar.jpg"><meta itemprop=keywords content="Reprint"><meta property="og:type" content="article"><meta property="og:title" content="捅破窗户纸：如何从过程到对象—For金色的海洋以及所有为面向对象而困惑的Tx"><meta property="og:description" content="福兮祸兮，焉知所依？冬去冰泮，春来萌荣。朝生暮死，亦可惊鸿。知足者富，自足者强。"><meta property="og:image" content="/imgs/avatar.jpg"><meta property="og:image:width" content="312"><meta property="og:image:height" content="312"><meta property="og:image:type" content="image/jpeg/png/svg/jpg"><meta property="og:url" content="https://blogs.qipai360.cn/post/from-procedural-to-object-oriented/"><meta property="og:site_name" content="Rise的自留地"><meta property="og:locale" content="zh-CN"><meta property="article:author" content="Rise"><meta property="article:published_time" content="2007-09-20 00:43:00 +0800 +0800"><meta property="article:modified_time" content="2007-09-20 00:43:00 +0800 +0800"><link type=text/css rel=stylesheet href=https://blogs.qipai360.cn/js/3rd/font-awesome/6.7.2/css/all.min.css><link type=text/css rel=stylesheet href=https://blogs.qipai360.cn/js/3rd/animate.css/3.1.1/animate.min.css><link type=text/css rel=stylesheet href=https://blogs.qipai360.cn/js/3rd/viewerjs/1.11.6/viewer.min.css><link rel=stylesheet href="/css/main.min.css?=1772265588"><style type=text/css>.post-footer hr:after{content:"~ 我可是有底线的哟 ~"}.flinks-list-footer hr:after{content:"~ 我可是有底线的哟 ~"}</style><script type=text/javascript>(function(){localDB={set:function(e,t,n){if(n===0)return;const s=new Date,o=n*864e5,i={value:t,expiry:s.getTime()+o};localStorage.setItem(e,JSON.stringify(i))},get:function(e){const t=localStorage.getItem(e);if(!t)return 0[0];const n=JSON.parse(t),s=new Date;return s.getTime()>n.expiry?(localStorage.removeItem(e),0[0]):n.value}},theme={active:function(){const e=localDB.get("theme");if(e==null)return;theme.toggle(e),window.matchMedia("(prefers-color-scheme: dark)").addListener(function(e){theme.toggle(e.matches?"dark":"light")})},toggle:function(e){document.documentElement.setAttribute("data-theme",e),localDB.set("theme",e,2);const t=document.querySelector("iframe.giscus-frame");if(t){const n={setConfig:{theme:e}};t.contentWindow.postMessage({giscus:n},"https://giscus.app")}}},theme.active()})(window)</script><script type=text/javascript>document.addEventListener("DOMContentLoaded",()=>{var e=document.createElement("script");e.charset="UTF-8",e.src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js",e.async=!1,e.defer=!0,document.head.appendChild(e),e.onload=function(){NexT.utils.fmtBusuanzi()}})</script><script defer src=https://static.cloudflareinsights.com/beacon.min.js data-cf-beacon='{"token": "2b23669184fc49269e400525ac2447d9"}'></script><title>捅破窗户纸：如何从过程到对象—For金色的海洋以及所有为面向对象而困惑的Tx - Rise的自留地</title><noscript><link rel=stylesheet href=/css/noscript.css></noscript></head><body itemscope itemtype=http://schema.org/WebPage class=use-motion><div class=headband></div><main class=main><header class=header itemscope itemtype=http://schema.org/WPHeader><div class=header-inner><div class=site-brand-container><div class=site-nav-toggle><div class=toggle aria-label role=button><span class=toggle-line></span>
<span class=toggle-line></span>
<span class=toggle-line></span></div></div><div class=site-meta><a href=/ class=brand rel=start><i class=logo-line></i><h1 class=site-title>Rise的自留地</h1><i class=logo-line></i></a><p class=site-subtitle itemprop=description>记录生活中的点滴，分享编程技术和游戏开发经验。</p></div><div class=site-nav-right><div class="toggle popup-trigger"></div></div></div><nav class=site-nav><ul class="main-menu menu"><li class="menu-item menu-item-home"><a href=/ class=hvr-icon-pulse rel=section><i class="fa fa-home hvr-icon"></i>首页</a></li><li class="menu-item menu-item-about"><a href=/about.html class=hvr-icon-pulse rel=section><i class="fa fa-user hvr-icon"></i>关于</a></li><li class="menu-item menu-item-archives"><a href=/archives/ class=hvr-icon-pulse rel=section><i class="fa fa-archive hvr-icon"></i>归档
<span class=badge>679</span></a></li><li class="menu-item menu-item-tags"><a href=/tags/ class=hvr-icon-pulse rel=section><i class="fa fa-tags hvr-icon"></i>标签</a></li><li class="menu-item menu-item-message"><a href=/message/ class=hvr-icon-pulse rel=section><i class="fa fa-comments hvr-icon"></i>留言板</a></li><li class="menu-item menu-item-commonweal"><a href=/404.html class=hvr-icon-pulse rel=section><i class="fa fa-heartbeat hvr-icon"></i>公益 404</a></li></ul></nav></div><div class="toggle sidebar-toggle" role=button><span class=toggle-line></span>
<span class=toggle-line></span>
<span class=toggle-line></span></div><aside class=sidebar><div class="sidebar-inner sidebar-overview-active"><ul class=sidebar-nav><li class=sidebar-nav-toc>文章目录</li><li class=sidebar-nav-overview>站点概览</li></ul><div class=sidebar-panel-container><div class="post-toc-wrap sidebar-panel"><div class="post-toc animated"><nav id=TableOfContents></nav></div></div><div class="site-overview-wrap sidebar-panel"><div class="site-author site-overview-item animated" itemprop=author itemscope itemtype=http://schema.org/Person><img class=site-author-image itemprop=image alt=Rise src=/imgs/img-lazy-loading.gif data-src=/imgs/avatar.jpg><p class=site-author-name itemprop=name>Rise</p><div class=site-description itemprop=description>福兮祸兮，焉知所依？冬去冰泮，春来萌荣。朝生暮死，亦可惊鸿。知足者富，自足者强。</div></div><div class="site-state-wrap site-overview-item animated"><nav class=site-state><div class="site-state-item site-state-posts"><a href=/archives/><span class=site-state-item-count>679</span>
<span class=site-state-item-name>日志</span></a></div><div class="site-state-item site-state-categories"><a href=/categories/><span class=site-state-item-count>35</span>
<span class=site-state-item-name>分类</span></a></div><div class="site-state-item site-state-tags"><a href=/tags/><span class=site-state-item-count>118</span>
<span class=site-state-item-name>标签</span></a></div></nav></div><div class="links-of-social site-overview-item animated"><span class=links-of-social-item><a href=https://github.com/rise-worlds title="Github → https://github.com/rise-worlds" rel=noopener class=hvr-icon-pulse target=_blank><i class="fab fa-github fa-fw hvr-icon"></i>
Github
</a></span><span class=links-of-social-item><a href=mailto:rise.worlds@outlook.com title="E-Mail → mailto:rise.worlds@outlook.com" rel=noopener class=hvr-icon-pulse target=_blank><i class="fa fa-envelope fa-fw hvr-icon"></i>
E-Mail
</a></span><span class=links-of-social-item><a href=https://www.zhihu.com/people/rise-worlds title="知乎 → https://www.zhihu.com/people/rise-worlds" rel=noopener class=hvr-icon-pulse target=_blank><i class="fa fa-book fa-fw hvr-icon"></i>
知乎
</a></span><span class=links-of-social-item><a href=https://twitter.com/riseworlds title="Twitter → https://twitter.com/riseworlds" rel=noopener class=hvr-icon-pulse target=_blank><i class="fab fa-twitter fa-fw hvr-icon"></i>
Twitter
</a></span><span class=links-of-social-item><a href=https://www.facebook.com/rise.worlds title="facebook → https://www.facebook.com/rise.worlds" rel=noopener class=hvr-icon-pulse target=_blank><i class="fab fa-facebook fa-fw hvr-icon"></i>
facebook
</a></span><span class=links-of-social-item><a href=https://youtube.com/@YiXuan title="YouTube → https://youtube.com/@YiXuan" rel=noopener class=hvr-icon-pulse target=_blank><i class="fab fa-youtube fa-fw hvr-icon"></i>
YouTube
</a></span><span class=links-of-social-item><a href=https://instagram.com/rise.worlds title="Instagram → https://instagram.com/rise.worlds" rel=noopener class=hvr-icon-pulse target=_blank><i class="fab fa-instagram fa-fw hvr-icon"></i>
Instagram
</a></span><span class=links-of-social-item><a href=https://t.me/riseworlds title="Telegram → https://t.me/riseworlds" rel=noopener class=hvr-icon-pulse target=_blank><i class="fab fa-telegram fa-fw hvr-icon"></i>
Telegram</a></span></div><div class="links-of-blogroll site-overview-item animated"><div class=links-of-blogroll-title><i class="fa fa-globe fa-fw"></i>
友情链接</div><ul class=links-of-blogroll-list><li class=links-of-blogroll-item><a href=https://www.qipai360.cn title=https://www.qipai360.cn target=_blank>Qipai360</a></li><li class=links-of-blogroll-item><a href=https://www.cnblogs.com/flying_bat title=https://www.cnblogs.com/flying_bat target=_blank>博客园</a></li><li class=links-of-blogroll-item><a href=https://zishu.me title=https://zishu.me target=_blank>子舒的博客</a></li><li class=links-of-blogroll-item><a href=https://gitee.com/hugo-next/hugo-theme-next title=https://gitee.com/hugo-next/hugo-theme-next target=_blank>Hugo-NexT</a></li></ul></div></div></div></div><div id=siteinfo-card-widget class=sidebar-card-widget><div class=item-headline><i class="fas fa-chart-line"></i>
<span>网站资讯</span></div><div class=siteinfo><div class=siteinfo-item><div class=item-name><i class="fa-solid fa-calendar-check"></i>已运行：</div><div class=item-count id=runTimes data-publishdate="2004-10-06 15:24:00 +0800 +0800"></div></div><div class=siteinfo-item><div class=item-name><i class="fas fa fa-user"></i>总访客数：</div><div class=item-count id=busuanzi_value_site_uv><i class="fa fa-sync fa-spin"></i></div></div><div class=siteinfo-item><div class=item-name><i class="fas fa fa-eye"></i>页面浏览：</div><div class=item-count id=busuanzi_value_site_pv><i class="fa fa-sync fa-spin"></i></div></div><div class=siteinfo-item><div class=item-name><i class="fa fa-font"></i>总字数：</div><div class=item-count id=wordsCount data-count=2423147></div></div><div class=siteinfo-item><div class=item-name><i class="fa fa-mug-hot"></i>阅读约：</div><div class=item-count id=readTimes data-times=5207></div></div><div class=siteinfo-item><div class=item-name><i class="fa fa-clock-rotate-left"></i>最后更新于：</div><div class=item-count id=last-push-date data-lastpushdate="2026-02-28 15:59:00 +0800 +0800"></div></div></div></div></aside><div class=sidebar-dimmer></div></header><div class=tool-buttons><div id=goto-comments class="button goto-comments" title=直达评论><i class="fas fa-comments"></i></div><div id=toggle-theme class=button title=深浅模式切换><i class="fas fa-adjust"></i></div><div class=back-to-top role=button title=返回顶部><i class="fa fa-arrow-up"></i>
<span>0%</span></div></div><div class=reading-progress-bar></div><a role=button class="book-mark-link book-mark-link-fixed"></a><a href=https://github.com/rise-worlds rel="noopener external nofollow noreferrer" target=_blank title="Follow me on GitHub" class="exturl github-corner"><svg width="80" height="80" viewBox="0 0 250 250" aria-hidden="true"><path d="M0 0 115 115h15l12 27L250 250V0z"/><path d="M128.3 109C113.8 99.7 119 89.6 119 89.6 122 82.7 120.5 78.6 120.5 78.6 119.2 72 123.4 76.3 123.4 76.3 127.3 80.9 125.5 87.3 125.5 87.3 122.9 97.6 130.6 101.9 134.4 103.2" fill="currentColor" style="transform-origin:130px 106px" class="octo-arm"/><path d="M115 115C114.9 115.1 118.7 116.5 119.8 115.4l13.9-13.8C136.9 99.2 139.9 98.4 142.2 98.6 133.8 88 127.5 74.4 143.8 58 148.5 53.4 154 51.2 159.7 51 160.3 49.4 163.2 43.6 171.4 40.1 171.4 40.1 176.1 42.5 178.8 56.2 183.1 58.6 187.2 61.8 190.9 65.4 194.5 69 197.7 73.2 200.1 77.6 213.8 80.2 216.3 84.9 216.3 84.9 212.7 93.1 206.9 96 205.4 96.6 205.1 102.4 203 107.8 198.3 112.5 181.9 128.9 168.3 122.5 157.7 114.1 157.9 116.9 156.7 120.9 152.7 124.9L141 136.5C139.8 137.7 141.6 141.9 141.8 141.8z" fill="currentColor" class="octo-body"/></svg></a><noscript><div class=noscript-warning>Theme NexT works best with JavaScript enabled</div></noscript><div class="main-inner post posts-expand"><div class=post-block><article itemscope itemtype=http://schema.org/Article class=post-content lang><link itemprop=mainEntityOfPage href=https://blogs.qipai360.cn/post/from-procedural-to-object-oriented/><span hidden itemprop=author itemscope itemtype=http://schema.org/Person><meta itemprop=image content="/imgs/avatar.jpg"><meta itemprop=name content="Rise"></span><span hidden itemprop=publisher itemscope itemtype=http://schema.org/Organization><meta itemprop=name content="Rise"><meta itemprop=description content="福兮祸兮，焉知所依？冬去冰泮，春来萌荣。朝生暮死，亦可惊鸿。知足者富，自足者强。"></span><span hidden itemprop=post itemscope itemtype=http://schema.org/CreativeWork><meta itemprop=name content="捅破窗户纸：如何从过程到对象—For金色的海洋以及所有为面向对象而困惑的Tx"><meta itemprop=description content="本来不想写这篇很挨打的Post，不过在最近几天的最热的几篇Post里面看到无数的Tx为了面向对象的争论，感触颇多，遂作此篇。鄙视OO的也进来鄙视我吧。望OO达人多多指正。前头有一篇关于对象持久化的。不过很多Tx，连OO都不理解，那么持久化也是空谈。我们首先抛弃千篇一律的什么对象来源于生活，是真是对象的程序表现的屁话，空洞，对于一个一接触程序就开始过程，将严谨的过程渗透到骨髓里的工程人员来说，跟他扯这个简直是对牛谈琴。所以我们从过程来讲对象，然后来看如何将过程化的思维方式转化到对象式的方法论。以及过程抽象的弊端以及为什么要在复杂系统里OO。我们不能否认，我们在描述一件事情的时候，可以按照过程的方式进行抽象。打个比方。=======================将一个表单存入数据库=======================按照过程的方式描述。1.一条条读取表单上字段的值2.根据值构建SQL语句3.创建链接4.创建命令5.执行命令6.关闭链接基本上也就6步就完成了，没有多余的步骤。同意？那么接下来我们把这个命题扩展到两个表单乃至N个表单，那么这个过程就会N倍的扩张。于是过程达人们就开始动脑筋了。于是开始了第一个迭代的抽象（根据怪怪的理论，我们认同过程的抽象）。我们把构建SQL语句的部分过程抽象出来成了单独的过程-[构建Sql语句]。再一看，我们其实对执行SQL都可以抽象，于是将3，4，5，6都抽象出来，于是SqlHelper诞生了。这就是过程抽象的方式，不可否认其实我们很多人都经历过这个阶段。而且对此很为困惑。如果所做的很简单，过程很短，那么看起来过程的抽象方式确实更加容易理解。但是我们来看看过程的噩梦在那里。我们继续扩充命题。现在我们提交一个表单需要提交到两个数据库。于是我们的N个表单又产生更多的子过程。随着单个过程的长度增加，我们抽象出来的子过程还可能抽象出子过程，结果抽象出来的子过程呈级数增加。直到你的脑袋爆掉。还有一个问题就是，我们抽象出来的子过程放哪里？C#是一个面向对象的语言，所有的过程（或者函数，方法）都是从属于类，于是就出现了一个巨大的类包含无数静态方法的怪胎。那么，我们来看面向对象。面向对象和过程有什么联系呢。其实程序最终的运行还是按照过程的，类的作用就像一个框框，指定了那个过程应该属于那个类，必须在存在对象的时候才能调用还是在类中调用。之前在过程的时候抽象出的一大堆子过程杂乱无章。但是在用面向对象的方法所抽象出来的对象确实井然有序的。对象在执行的时候是按照一定的时序和过程在执行（所以在UML里有时序图）。但是我们不能够因为计算机是按照过程在执行就否定了OO，因为OO是设计时的概念（所以只有OOA、OOD、OOP而没有OOR【面向对象执行-自我发明的词，不存在此物】），而OO的过程是在设计的时候自然而然的产生的，既然OO的语言都存在，那么在这么多年的实践中，证明OO的方法是行之有效的。下面我们来看如何OO。用一个很简单的例子，聊天室，不用数据库的，数据记录在内存。 "></span><header class=post-header><h1 class=post-title itemprop="name headline">捅破窗户纸：如何从过程到对象—For金色的海洋以及所有为面向对象而困惑的Tx</h1><div class=post-meta-container><div class=post-meta-items><span class=post-meta-item><span class=post-meta-item-icon><i class="fas fa-solid fa-calendar"></i>
</span><span class=post-meta-item-text title=发表于>发表于：
</span><time title="创建时间：2007年09月20日 00:43:00 CST" itemprop="dateCreated datePublished" datetime="2007-09-20 00:43:00 +0800 +0800">2007年09月20日</time></span></div><div class=post-meta-items><span class=post-meta-item title=字数><span class=post-meta-item-icon><i class="fas fa-solid fa-file-word"></i>
</span><span class=post-meta-item-text>字数：</span>
<span>3387</span>
</span><span class=post-meta-item title=阅读><span class=post-meta-item-icon><i class="fas fa-solid fa-clock"></i>
</span><span class=post-meta-item-text>阅读：&ap;</span>
<span>7分钟</span>
</span><span class=post-meta-item title=浏览><span class=post-meta-item-icon><i class="fas fa-solid fa-eye"></i>
</span><span class=post-meta-item-text>浏览：
</span><span id=pageview-count data-path=/post/from-procedural-to-object-oriented/><i class="fa fa-sync fa-spin"></i></span></span></div></div></header><div class=post-body itemprop=articleBody><p>本来不想写这篇很挨打的Post，不过在最近几天的最热的几篇Post里面看到无数的Tx为了面向对象的争论，感触颇多，遂作此篇。<br>鄙视OO的也进来鄙视我吧。望OO达人多多指正。<br><br>前头有一篇关于对象持久化的。不过很多Tx，连OO都不理解，那么持久化也是空谈。<br>我们首先抛弃千篇一律的什么对象来源于生活，是真是对象的程序表现的屁话，空洞，对于一个一接触程序就开始过程，将严谨的过程渗透到骨髓里的工程人员来说，跟他扯这个简直是对牛谈琴。所以我们从过程来讲对象，然后来看如何将过程化的思维方式转化到对象式的方法论。以及过程抽象的弊端以及为什么要在复杂系统里OO。<br>我们不能否认，我们在描述一件事情的时候，可以按照过程的方式进行抽象。打个比方。<br>=======================<br>将一个表单存入数据库<br>=======================<br>按照过程的方式描述。<br>1.一条条读取表单上字段的值<br>2.根据值构建SQL语句<br>3.创建链接<br>4.创建命令<br>5.执行命令<br>6.关闭链接<br>基本上也就6步就完成了，没有多余的步骤。同意？<br><br>那么接下来我们把这个命题扩展到两个表单乃至N个表单，那么这个过程就会N倍的扩张。于是过程达人们就开始动脑筋了。于是开始了第一个迭代的抽象（根据怪怪的理论，我们认同过程的抽象）。我们把构建SQL语句的部分过程抽象出来成了单独的过程-[构建Sql语句]。再一看，我们其实对执行SQL都可以抽象，于是将3，4，5，6都抽象出来，于是SqlHelper诞生了。<br><br>这就是过程抽象的方式，不可否认其实我们很多人都经历过这个阶段。而且对此很为困惑。如果所做的很简单，过程很短，那么看起来过程的抽象方式确实更加容易理解。但是我们来看看过程的噩梦在那里。<br><br>我们继续扩充命题。<br>现在我们提交一个表单需要提交到两个数据库。于是我们的N个表单又产生更多的子过程。随着单个过程的长度增加，我们抽象出来的子过程还可能抽象出子过程，结果抽象出来的子过程呈级数增加。直到你的脑袋爆掉。<br>还有一个问题就是，我们抽象出来的子过程放哪里？C#是一个面向对象的语言，所有的过程（或者函数，方法）都是从属于类，于是就出现了一个巨大的类包含无数静态方法的怪胎。<br><br>那么，我们来看面向对象。面向对象和过程有什么联系呢。其实程序最终的运行还是按照过程的，类的作用就像一个框框，指定了那个过程应该属于那个类，必须在存在对象的时候才能调用还是在类中调用。之前在过程的时候抽象出的一大堆子过程杂乱无章。但是在用面向对象的方法所抽象出来的对象确实井然有序的。<br>对象在执行的时候是按照一定的时序和过程在执行（所以在UML里有时序图）。但是我们不能够因为计算机是按照过程在执行就否定了OO，因为OO是设计时的概念（所以只有OOA、OOD、OOP而没有OOR【面向对象执行-自我发明的词，不存在此物】），而OO的过程是在设计的时候自然而然的产生的，既然OO的语言都存在，那么在这么多年的实践中，证明OO的方法是行之有效的。<br><br>下面我们来看如何OO。<br>用一个很简单的例子，聊天室，不用数据库的，数据记录在内存。<br> </p><a id=more></a><p class=MsoNormal><span lang=EN-US><span style=mso-tab-count:1>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span style="font-family:宋体;mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman'">虽然聊天室比较简单，但是我们还是通过用例分析来构建业务逻辑的领域模型。首先我们来找用例。下面是我们对聊天室业务的描述：</span></p><p class=MsoNormal><span lang=EN-US><span style=mso-tab-count:1>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span style="font-family:宋体;mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman'">建立一个聊天系统，用户在登陆后方可发言，用户可以看到所有人的公共发言和其他用户发给自己的私聊信息，用户可以发布公共信息和单独发送私聊信息给某个用户。用户可以自己创建聊天的房间，并作为聊天的主持人拥有对房间的控制权，可以踢人出房间。用户可以加入任何一个房间开始聊天。</span></p><p class=MsoNormal><span lang=EN-US><span style=mso-tab-count:1>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span style="font-family:宋体;mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman'">我们通过上面的描述可以得到两个粗略的实体：用户，房间。然后画个用例图来看看：</span></p><img height=254 alt src=http://www.alexander-li.com/24.1.gif width=182 border=0><br>&nbsp;<p class=MsoNormal><span lang=EN-US><span style=mso-tab-count:1>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span style="font-family:宋体;mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman'">然后我们分别建立这几个用例的用例卡片：</span></p><p class=MsoNormal><span style="font-family:宋体;mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman'">创建房间的用例</span></p><table class=MsoNormalTable style="border-right:none;border-top:none;border-left:none;border-bottom:none;border-collapse:collapse;mso-border-alt:solid black .5pt;mso-yfti-tbllook:1184;mso-padding-alt:0 5.4pt 0 5.4pt;mso-border-insideh:.5pt solid black;mso-border-insidev:.5pt solid black" cellspacing=0 cellpadding=0 border=1><tbody><tr style=mso-yfti-irow:0;mso-yfti-firstrow:yes><td style="border-right:#000 1pt solid;padding-right:5.4pt;border-top:#000 1pt solid;padding-left:5.4pt;padding-bottom:0;border-left:#000 1pt solid;width:104.65pt;padding-top:0;border-bottom:#000 1pt solid;mso-border-alt:solid black .5pt" valign=top width=140><p class=MsoNormal><span style="font-family:宋体;mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman'">用例名称</span></p></td><td style="border-right:#000 1pt solid;padding-right:5.4pt;border-top:#000 1pt solid;padding-left:5.4pt;padding-bottom:0;border-left:none;width:321.45pt;padding-top:0;border-bottom:#000 1pt solid;mso-border-alt:solid black .5pt;mso-border-left-alt:solid black .5pt" valign=top width=429><p class=MsoNormal><span style="font-family:宋体;mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman'">创建房间</span></p></td></tr><tr style=mso-yfti-irow:1><td style="border-right:#000 1pt solid;padding-right:5.4pt;border-top:none;padding-left:5.4pt;padding-bottom:0;border-left:#000 1pt solid;width:104.65pt;padding-top:0;border-bottom:#000 1pt solid;mso-border-alt:solid black .5pt;mso-border-top-alt:solid black .5pt" valign=top width=140><p class=MsoNormal><span style="font-family:宋体;mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman'">用例描述</span></p></td><td style="border-right:#000 1pt solid;padding-right:5.4pt;border-top:none;padding-left:5.4pt;padding-bottom:0;border-left:none;width:321.45pt;padding-top:0;border-bottom:#000 1pt solid;mso-border-alt:solid black .5pt;mso-border-left-alt:solid black .5pt;mso-border-top-alt:solid black .5pt" valign=top width=429><p class=MsoNormal><span style="font-family:宋体;mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman'">用户创建一个自己控制的聊天区域</span></p></td></tr><tr style=mso-yfti-irow:2><td style="border-right:#000 1pt solid;padding-right:5.4pt;border-top:none;padding-left:5.4pt;padding-bottom:0;border-left:#000 1pt solid;width:104.65pt;padding-top:0;border-bottom:#000 1pt solid;mso-border-alt:solid black .5pt;mso-border-top-alt:solid black .5pt" valign=top width=140><p class=MsoNormal><span style="font-family:宋体;mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman'">事件流</span></p></td><td style="border-right:#000 1pt solid;padding-right:5.4pt;border-top:none;padding-left:5.4pt;padding-bottom:0;border-left:none;width:321.45pt;padding-top:0;border-bottom:#000 1pt solid;mso-border-alt:solid black .5pt;mso-border-left-alt:solid black .5pt;mso-border-top-alt:solid black .5pt" valign=top width=429><p class=MsoNormal><span style="font-family:宋体;mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman'">（用户已登陆）用户输入要创建的房间名称后系统创建一个新房间，创建房间的用户自动进入房间</span></p></td></tr><tr style=mso-yfti-irow:3><td style="border-right:#000 1pt solid;padding-right:5.4pt;border-top:none;padding-left:5.4pt;padding-bottom:0;border-left:#000 1pt solid;width:104.65pt;padding-top:0;border-bottom:#000 1pt solid;mso-border-alt:solid black .5pt;mso-border-top-alt:solid black .5pt" valign=top width=140><p class=MsoNormal><span style="font-family:宋体;mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman'">备选流</span><span lang=EN-US>1</span></p></td><td style="border-right:#000 1pt solid;padding-right:5.4pt;border-top:none;padding-left:5.4pt;padding-bottom:0;border-left:none;width:321.45pt;padding-top:0;border-bottom:#000 1pt solid;mso-border-alt:solid black .5pt;mso-border-left-alt:solid black .5pt;mso-border-top-alt:solid black .5pt" valign=top width=429><p class=MsoNormal><span style="font-family:宋体;mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman'">（用户已登陆，已经创建了一个房间）提示用户一次只能创建一个房间</span></p></td></tr><tr style=mso-yfti-irow:4;mso-yfti-lastrow:yes><td style="border-right:#000 1pt solid;padding-right:5.4pt;border-top:none;padding-left:5.4pt;padding-bottom:0;border-left:#000 1pt solid;width:104.65pt;padding-top:0;border-bottom:#000 1pt solid;mso-border-alt:solid black .5pt;mso-border-top-alt:solid black .5pt" valign=top width=140><p class=MsoNormal><span style="font-family:宋体;mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman'">备选流</span><span lang=EN-US>2</span></p></td><td style="border-right:#000 1pt solid;padding-right:5.4pt;border-top:none;padding-left:5.4pt;padding-bottom:0;border-left:none;width:321.45pt;padding-top:0;border-bottom:#000 1pt solid;mso-border-alt:solid black .5pt;mso-border-left-alt:solid black .5pt;mso-border-top-alt:solid black .5pt" valign=top width=429><p class=MsoNormal><span style="font-family:宋体;mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman'">（用户未登录）按钮无发点击</span></p></td></tr></tbody></table><p class=MsoNormal><span style="font-family:宋体;mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman'">进入房间的用例</span></p><table class=MsoNormalTable style="border-right:none;border-top:none;border-left:none;border-bottom:none;border-collapse:collapse;mso-border-alt:solid black .5pt;mso-yfti-tbllook:1184;mso-padding-alt:0 5.4pt 0 5.4pt;mso-border-insideh:.5pt solid black;mso-border-insidev:.5pt solid black" cellspacing=0 cellpadding=0 border=1><tbody><tr style=mso-yfti-irow:0;mso-yfti-firstrow:yes><td style="border-right:#000 1pt solid;padding-right:5.4pt;border-top:#000 1pt solid;padding-left:5.4pt;padding-bottom:0;border-left:#000 1pt solid;width:104.65pt;padding-top:0;border-bottom:#000 1pt solid;mso-border-alt:solid black .5pt" valign=top width=140><p class=MsoNormal><span style="font-family:宋体;mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman'">用例名称</span></p></td><td style="border-right:#000 1pt solid;padding-right:5.4pt;border-top:#000 1pt solid;padding-left:5.4pt;padding-bottom:0;border-left:none;width:321.45pt;padding-top:0;border-bottom:#000 1pt solid;mso-border-alt:solid black .5pt;mso-border-left-alt:solid black .5pt" valign=top width=429><p class=MsoNormal><span style="font-family:宋体;mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman'">进入房间</span></p></td></tr><tr style=mso-yfti-irow:1><td style="border-right:#000 1pt solid;padding-right:5.4pt;border-top:none;padding-left:5.4pt;padding-bottom:0;border-left:#000 1pt solid;width:104.65pt;padding-top:0;border-bottom:#000 1pt solid;mso-border-alt:solid black .5pt;mso-border-top-alt:solid black .5pt" valign=top width=140><p class=MsoNormal><span style="font-family:宋体;mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman'">用例描述</span></p></td><td style="border-right:#000 1pt solid;padding-right:5.4pt;border-top:none;padding-left:5.4pt;padding-bottom:0;border-left:none;width:321.45pt;padding-top:0;border-bottom:#000 1pt solid;mso-border-alt:solid black .5pt;mso-border-left-alt:solid black .5pt;mso-border-top-alt:solid black .5pt" valign=top width=429><p class=MsoNormal><span style="font-family:宋体;mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman'">用户选择一个聊天区域进入</span></p></td></tr><tr style=mso-yfti-irow:2;mso-yfti-lastrow:yes><td style="border-right:#000 1pt solid;padding-right:5.4pt;border-top:none;padding-left:5.4pt;padding-bottom:0;border-left:#000 1pt solid;width:104.65pt;padding-top:0;border-bottom:#000 1pt solid;mso-border-alt:solid black .5pt;mso-border-top-alt:solid black .5pt" valign=top width=140><p class=MsoNormal><span style="font-family:宋体;mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman'">事件流</span></p></td><td style="border-right:#000 1pt solid;padding-right:5.4pt;border-top:none;padding-left:5.4pt;padding-bottom:0;border-left:none;width:321.45pt;padding-top:0;border-bottom:#000 1pt solid;mso-border-alt:solid black .5pt;mso-border-left-alt:solid black .5pt;mso-border-top-alt:solid black .5pt" valign=top width=429><p class=MsoNormal><span style="font-family:宋体;mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman'">用户进入一个聊天区域后获取当前公共聊天区域的信息，</span></p></td></tr></tbody></table><p class=MsoNormal><span style="font-family:宋体;mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman'">发布公共信息的用例</span></p><table class=MsoNormalTable style="border-right:none;border-top:none;border-left:none;border-bottom:none;border-collapse:collapse;mso-border-alt:solid black .5pt;mso-yfti-tbllook:1184;mso-padding-alt:0 5.4pt 0 5.4pt;mso-border-insideh:.5pt solid black;mso-border-insidev:.5pt solid black" cellspacing=0 cellpadding=0 border=1><tbody><tr style=mso-yfti-irow:0;mso-yfti-firstrow:yes><td style="border-right:#000 1pt solid;padding-right:5.4pt;border-top:#000 1pt solid;padding-left:5.4pt;padding-bottom:0;border-left:#000 1pt solid;width:104.65pt;padding-top:0;border-bottom:#000 1pt solid;mso-border-alt:solid black .5pt" valign=top width=140><p class=MsoNormal><span style="font-family:宋体;mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman'">用例名称</span></p></td><td style="border-right:#000 1pt solid;padding-right:5.4pt;border-top:#000 1pt solid;padding-left:5.4pt;padding-bottom:0;border-left:none;width:321.45pt;padding-top:0;border-bottom:#000 1pt solid;mso-border-alt:solid black .5pt;mso-border-left-alt:solid black .5pt" valign=top width=429><p class=MsoNormal><span style="font-family:宋体;mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman'">发布公共信息</span></p></td></tr><tr style=mso-yfti-irow:1><td style="border-right:#000 1pt solid;padding-right:5.4pt;border-top:none;padding-left:5.4pt;padding-bottom:0;border-left:#000 1pt solid;width:104.65pt;padding-top:0;border-bottom:#000 1pt solid;mso-border-alt:solid black .5pt;mso-border-top-alt:solid black .5pt" valign=top width=140><p class=MsoNormal><span style="font-family:宋体;mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman'">用例描述</span></p></td><td style="border-right:#000 1pt solid;padding-right:5.4pt;border-top:none;padding-left:5.4pt;padding-bottom:0;border-left:none;width:321.45pt;padding-top:0;border-bottom:#000 1pt solid;mso-border-alt:solid black .5pt;mso-border-left-alt:solid black .5pt;mso-border-top-alt:solid black .5pt" valign=top width=429><p class=MsoNormal><span style="font-family:宋体;mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman'">用户向其他所有用户发布信息，所有的用户都能够收到</span></p></td></tr><tr style=mso-yfti-irow:2><td style="border-right:#000 1pt solid;padding-right:5.4pt;border-top:none;padding-left:5.4pt;padding-bottom:0;border-left:#000 1pt solid;width:104.65pt;padding-top:0;border-bottom:#000 1pt solid;mso-border-alt:solid black .5pt;mso-border-top-alt:solid black .5pt" valign=top width=140><p class=MsoNormal><span style="font-family:宋体;mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman'">事件流</span></p></td><td style="border-right:#000 1pt solid;padding-right:5.4pt;border-top:none;padding-left:5.4pt;padding-bottom:0;border-left:none;width:321.45pt;padding-top:0;border-bottom:#000 1pt solid;mso-border-alt:solid black .5pt;mso-border-left-alt:solid black .5pt;mso-border-top-alt:solid black .5pt" valign=top width=429><p class=MsoNormal><span style="font-family:宋体;mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman'">（用户已登陆）用户输入要发布的信息后将信息发送给所有用户</span></p></td></tr><tr style=mso-yfti-irow:3;mso-yfti-lastrow:yes><td style="border-right:#000 1pt solid;padding-right:5.4pt;border-top:none;padding-left:5.4pt;padding-bottom:0;border-left:#000 1pt solid;width:104.65pt;padding-top:0;border-bottom:#000 1pt solid;mso-border-alt:solid black .5pt;mso-border-top-alt:solid black .5pt" valign=top width=140><p class=MsoNormal><span style="font-family:宋体;mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman'">备选流</span><span lang=EN-US>1</span></p></td><td style="border-right:#000 1pt solid;padding-right:5.4pt;border-top:none;padding-left:5.4pt;padding-bottom:0;border-left:none;width:321.45pt;padding-top:0;border-bottom:#000 1pt solid;mso-border-alt:solid black .5pt;mso-border-left-alt:solid black .5pt;mso-border-top-alt:solid black .5pt" valign=top width=429><p class=MsoNormal><span style="font-family:宋体;mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman'">（用户未登录）不能发布</span></p></td></tr></tbody></table><p class=MsoNormal><span style="font-family:宋体;mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman'">发布私聊信息的用例</span></p><table class=MsoNormalTable style="border-right:none;border-top:none;border-left:none;border-bottom:none;border-collapse:collapse;mso-border-alt:solid black .5pt;mso-yfti-tbllook:1184;mso-padding-alt:0 5.4pt 0 5.4pt;mso-border-insideh:.5pt solid black;mso-border-insidev:.5pt solid black" cellspacing=0 cellpadding=0 border=1><tbody><tr style=mso-yfti-irow:0;mso-yfti-firstrow:yes><td style="border-right:#000 1pt solid;padding-right:5.4pt;border-top:#000 1pt solid;padding-left:5.4pt;padding-bottom:0;border-left:#000 1pt solid;width:104.65pt;padding-top:0;border-bottom:#000 1pt solid;mso-border-alt:solid black .5pt" valign=top width=140><p class=MsoNormal><span style="font-family:宋体;mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman'">用例名称</span></p></td><td style="border-right:#000 1pt solid;padding-right:5.4pt;border-top:#000 1pt solid;padding-left:5.4pt;padding-bottom:0;border-left:none;width:321.45pt;padding-top:0;border-bottom:#000 1pt solid;mso-border-alt:solid black .5pt;mso-border-left-alt:solid black .5pt" valign=top width=429><p class=MsoNormal><span style="font-family:宋体;mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman'">发布私聊信息</span></p></td></tr><tr style=mso-yfti-irow:1><td style="border-right:#000 1pt solid;padding-right:5.4pt;border-top:none;padding-left:5.4pt;padding-bottom:0;border-left:#000 1pt solid;width:104.65pt;padding-top:0;border-bottom:#000 1pt solid;mso-border-alt:solid black .5pt;mso-border-top-alt:solid black .5pt" valign=top width=140><p class=MsoNormal><span style="font-family:宋体;mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman'">用例描述</span></p></td><td style="border-right:#000 1pt solid;padding-right:5.4pt;border-top:none;padding-left:5.4pt;padding-bottom:0;border-left:none;width:321.45pt;padding-top:0;border-bottom:#000 1pt solid;mso-border-alt:solid black .5pt;mso-border-left-alt:solid black .5pt;mso-border-top-alt:solid black .5pt" valign=top width=429><p class=MsoNormal><span style="font-family:宋体;mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman'">用户给指定用户发送消息</span></p></td></tr><tr style=mso-yfti-irow:2><td style="border-right:#000 1pt solid;padding-right:5.4pt;border-top:none;padding-left:5.4pt;padding-bottom:0;border-left:#000 1pt solid;width:104.65pt;padding-top:0;border-bottom:#000 1pt solid;mso-border-alt:solid black .5pt;mso-border-top-alt:solid black .5pt" valign=top width=140><p class=MsoNormal><span style="font-family:宋体;mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman'">事件流</span></p></td><td style="border-right:#000 1pt solid;padding-right:5.4pt;border-top:none;padding-left:5.4pt;padding-bottom:0;border-left:none;width:321.45pt;padding-top:0;border-bottom:#000 1pt solid;mso-border-alt:solid black .5pt;mso-border-left-alt:solid black .5pt;mso-border-top-alt:solid black .5pt" valign=top width=429><p class=MsoNormal><span style="font-family:宋体;mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman'">（用户已登陆）用户选择要发送消息的用户和要发送的信息后将信息发送给指定用户</span></p></td></tr><tr style=mso-yfti-irow:3><td style="border-right:#000 1pt solid;padding-right:5.4pt;border-top:none;padding-left:5.4pt;padding-bottom:0;border-left:#000 1pt solid;width:104.65pt;padding-top:0;border-bottom:#000 1pt solid;mso-border-alt:solid black .5pt;mso-border-top-alt:solid black .5pt" valign=top width=140><p class=MsoNormal><span style="font-family:宋体;mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman'">备选流</span><span lang=EN-US>1</span></p></td><td style="border-right:#000 1pt solid;padding-right:5.4pt;border-top:none;padding-left:5.4pt;padding-bottom:0;border-left:none;width:321.45pt;padding-top:0;border-bottom:#000 1pt solid;mso-border-alt:solid black .5pt;mso-border-left-alt:solid black .5pt;mso-border-top-alt:solid black .5pt" valign=top width=429><p class=MsoNormal><span style="font-family:宋体;mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman'">（用户已登陆，要发送的用户不存在）提示用户要发送的用户不存在</span></p></td></tr><tr style=mso-yfti-irow:4;mso-yfti-lastrow:yes><td style="border-right:#000 1pt solid;padding-right:5.4pt;border-top:none;padding-left:5.4pt;padding-bottom:0;border-left:#000 1pt solid;width:104.65pt;padding-top:0;border-bottom:#000 1pt solid;mso-border-alt:solid black .5pt;mso-border-top-alt:solid black .5pt" valign=top width=140><p class=MsoNormal><span style="font-family:宋体;mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman'">备选流</span><span lang=EN-US>2</span></p></td><td style="border-right:#000 1pt solid;padding-right:5.4pt;border-top:none;padding-left:5.4pt;padding-bottom:0;border-left:none;width:321.45pt;padding-top:0;border-bottom:#000 1pt solid;mso-border-alt:solid black .5pt;mso-border-left-alt:solid black .5pt;mso-border-top-alt:solid black .5pt" valign=top width=429><p class=MsoNormal><span style="font-family:宋体;mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman'">（用户未登录）不能发布</span></p></td></tr></tbody></table><p class=MsoNormal><span style="font-family:宋体;mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman'">踢人的用例</span></p><table class=MsoNormalTable style="border-right:none;border-top:none;border-left:none;border-bottom:none;border-collapse:collapse;mso-border-alt:solid black .5pt;mso-yfti-tbllook:1184;mso-padding-alt:0 5.4pt 0 5.4pt;mso-border-insideh:.5pt solid black;mso-border-insidev:.5pt solid black" cellspacing=0 cellpadding=0 border=1><tbody><tr style=mso-yfti-irow:0;mso-yfti-firstrow:yes><td style="border-right:#000 1pt solid;padding-right:5.4pt;border-top:#000 1pt solid;padding-left:5.4pt;padding-bottom:0;border-left:#000 1pt solid;width:104.65pt;padding-top:0;border-bottom:#000 1pt solid;mso-border-alt:solid black .5pt" valign=top width=140><p class=MsoNormal><span style="font-family:宋体;mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman'">用例名称</span></p></td><td style="border-right:#000 1pt solid;padding-right:5.4pt;border-top:#000 1pt solid;padding-left:5.4pt;padding-bottom:0;border-left:none;width:321.45pt;padding-top:0;border-bottom:#000 1pt solid;mso-border-alt:solid black .5pt;mso-border-left-alt:solid black .5pt" valign=top width=429><p class=MsoNormal><span style="font-family:宋体;mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman'">踢人</span></p></td></tr><tr style=mso-yfti-irow:1><td style="border-right:#000 1pt solid;padding-right:5.4pt;border-top:none;padding-left:5.4pt;padding-bottom:0;border-left:#000 1pt solid;width:104.65pt;padding-top:0;border-bottom:#000 1pt solid;mso-border-alt:solid black .5pt;mso-border-top-alt:solid black .5pt" valign=top width=140><p class=MsoNormal><span style="font-family:宋体;mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman'">用例描述</span></p></td><td style="border-right:#000 1pt solid;padding-right:5.4pt;border-top:none;padding-left:5.4pt;padding-bottom:0;border-left:none;width:321.45pt;padding-top:0;border-bottom:#000 1pt solid;mso-border-alt:solid black .5pt;mso-border-left-alt:solid black .5pt;mso-border-top-alt:solid black .5pt" valign=top width=429><p class=MsoNormal><span style="font-family:宋体;mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman'">创建房间的用户将选定用户踢出房间</span></p></td></tr><tr style=mso-yfti-irow:2><td style="border-right:#000 1pt solid;padding-right:5.4pt;border-top:none;padding-left:5.4pt;padding-bottom:0;border-left:#000 1pt solid;width:104.65pt;padding-top:0;border-bottom:#000 1pt solid;mso-border-alt:solid black .5pt;mso-border-top-alt:solid black .5pt" valign=top width=140><p class=MsoNormal><span style="font-family:宋体;mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman'">事件流</span></p></td><td style="border-right:#000 1pt solid;padding-right:5.4pt;border-top:none;padding-left:5.4pt;padding-bottom:0;border-left:none;width:321.45pt;padding-top:0;border-bottom:#000 1pt solid;mso-border-alt:solid black .5pt;mso-border-left-alt:solid black .5pt;mso-border-top-alt:solid black .5pt" valign=top width=429><p class=MsoNormal><span style="font-family:宋体;mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman'">（用户已登陆，是房间创建者）用户选择踢的用户，改变该用户的状态为被踢</span></p></td></tr><tr style=mso-yfti-irow:3><td style="border-right:#000 1pt solid;padding-right:5.4pt;border-top:none;padding-left:5.4pt;padding-bottom:0;border-left:#000 1pt solid;width:104.65pt;padding-top:0;border-bottom:#000 1pt solid;mso-border-alt:solid black .5pt;mso-border-top-alt:solid black .5pt" valign=top width=140><p class=MsoNormal><span style="font-family:宋体;mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman'">备选流</span><span lang=EN-US>1</span></p></td><td style="border-right:#000 1pt solid;padding-right:5.4pt;border-top:none;padding-left:5.4pt;padding-bottom:0;border-left:none;width:321.45pt;padding-top:0;border-bottom:#000 1pt solid;mso-border-alt:solid black .5pt;mso-border-left-alt:solid black .5pt;mso-border-top-alt:solid black .5pt" valign=top width=429><p class=MsoNormal><span style="font-family:宋体;mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman'">（用户已登陆，但不是房间创建者）看不到此功能</span></p></td></tr><tr style=mso-yfti-irow:4;mso-yfti-lastrow:yes><td style="border-right:#000 1pt solid;padding-right:5.4pt;border-top:none;padding-left:5.4pt;padding-bottom:0;border-left:#000 1pt solid;width:104.65pt;padding-top:0;border-bottom:#000 1pt solid;mso-border-alt:solid black .5pt;mso-border-top-alt:solid black .5pt" valign=top width=140><p class=MsoNormal><span style="font-family:宋体;mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman'">备选流</span><span lang=EN-US>2</span></p></td><td style="border-right:#000 1pt solid;padding-right:5.4pt;border-top:none;padding-left:5.4pt;padding-bottom:0;border-left:none;width:321.45pt;padding-top:0;border-bottom:#000 1pt solid;mso-border-alt:solid black .5pt;mso-border-left-alt:solid black .5pt;mso-border-top-alt:solid black .5pt" valign=top width=429><p class=MsoNormal><span style="font-family:宋体;mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman'">（用户未登录）看不到此功能</span></p></td></tr></tbody></table><p class=MsoNormal><span lang=EN-US><span style=mso-tab-count:1>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span style="font-family:宋体;mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman'">我们根据上面的用例描述基本覆盖了大部分业务的流程。我们在其中抽象出下面的对象：</span></p><p class=MsoNormal style="margin-left:21pt;text-indent:-21pt;mso-list:l0 level1 lfo1"><span lang=EN-US style=font-family:Wingdings;mso-fareast-font-family:Wingdings;mso-bidi-font-family:Wingdings><span style=mso-list:Ignore>l<span style="font:7pt times new roman">&nbsp; </span></span></span><span style="font-family:宋体;mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman'">聊天系统</span></p><p class=MsoNormal style="margin-left:21pt;text-indent:-21pt;mso-list:l0 level1 lfo1"><span lang=EN-US style=font-family:Wingdings;mso-fareast-font-family:Wingdings;mso-bidi-font-family:Wingdings><span style=mso-list:Ignore>l<span style="font:7pt times new roman">&nbsp; </span></span></span><span style="font-family:宋体;mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman'">房间</span></p><p class=MsoNormal style="margin-left:21pt;text-indent:-21pt;mso-list:l0 level1 lfo1"><span lang=EN-US style=font-family:Wingdings;mso-fareast-font-family:Wingdings;mso-bidi-font-family:Wingdings><span style=mso-list:Ignore>l<span style="font:7pt times new roman">&nbsp; </span></span></span><span style="font-family:宋体;mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman'">用户</span></p><p class=MsoNormal style="margin-left:21pt;text-indent:-21pt;mso-list:l0 level1 lfo1"><span lang=EN-US style=font-family:Wingdings;mso-fareast-font-family:Wingdings;mso-bidi-font-family:Wingdings><span style=mso-list:Ignore>l<span style="font:7pt times new roman">&nbsp; </span></span></span><span style="font-family:宋体;mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman'">消息</span></p><p class=MsoNormal style="margin-left:21pt;text-indent:-21pt;mso-list:l0 level1 lfo1"><span lang=EN-US style=font-family:Wingdings;mso-fareast-font-family:Wingdings;mso-bidi-font-family:Wingdings><span style=mso-list:Ignore>l<span style="font:7pt times new roman">&nbsp; </span></span></span><span style="font-family:宋体;mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman'">消息区域</span></p>&nbsp;<p class=MsoNormal><span style="font-family:宋体;mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman'">现在我们来分析这几个对象之间的关系，首先是聊天系统，因为是多人的系统，所以比如说创建房间的行为，虽然是用户发出的，但是实际上的创建者和拥有者却是系统，我们需要一个容器来容纳所有的对象。所以其实换一个思路来说，系统对象就相当于一个大楼，而房间就应该在大楼里。因为系统里有多个房间，所以系统里应该有一个房间对象的列表。</span></p><p class=MsoNormal><span lang=EN-US><span style=mso-tab-count:1>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span style="font-family:宋体;mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman'">因为房间是有名字的，所以为了方便检索，我们需要将房间的名字作为索引。因为我们要从系统找到房间，就需要提供一个查找房间的行为，而且系统也要提供房间的列表。最后我们得到了一个类图：</span></p><img height=243 alt src=http://www.alexander-li.com/24.2.gif width=166 border=0><br><span lang=EN-US style="font-size:10.5pt;font-family:times new roman,serif;mso-fareast-font-family:宋体;mso-bidi-font-size:12pt;mso-font-kerning:1pt;mso-ansi-language:EN-US;mso-fareast-language:ZH-CN;mso-bidi-language:AR-SA"><span style=mso-tab-count:1>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span style="font-size:10.5pt;font-family:宋体;mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman';mso-bidi-font-family:'Times New Roman';mso-bidi-font-size:12pt;mso-font-kerning:1pt;mso-ansi-language:EN-US;mso-fareast-language:ZH-CN;mso-bidi-language:AR-SA">然后我们来看房间，房间包含在系统中，被用户通知系统来创建，在创建的时候要给房间一个名字，以方便用户来找到这个房间。房间里有什么呢？房间里有人，也就是在交谈中的人，所以我们要在房间里准备椅子，也就是聊天用户对象的列表。因为是不见面的聊天，所以每个人都将要说的话写下来（一个消息），然后如果是给所有人看的，就贴到公共的留言板上（消息区域），如果是发给某个人的就把消息交给某个用户，所以房间的程序（房间对象）需要两个处理消息的行为，一个处理公共消息，一个处理私人消息。最后将用户清除出房间的行为也需要房间来执行（因为用户包含在房间里，所以根据封装的原则，这个行为只能由房间来执行，当然可能不一定是房间发起的）。最后我们得到了类图：</span><br><img height=297 alt src=http://www.alexander-li.com/24.3.gif width=426 border=0><br>&nbsp;<p class=MsoNormal><span style="font-family:宋体;mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman'">接下来我们继续分析用户对象。因为很多动作都是用户主动发出的。首先用户对象必须实现所有用例上的行为：</span></p><p class=MsoNormal style="margin-left:21pt;text-indent:-21pt;mso-list:l0 level1 lfo1"><span lang=EN-US style=font-family:Wingdings;mso-fareast-font-family:Wingdings;mso-bidi-font-family:Wingdings><span style=mso-list:Ignore>l<span style="font:7pt times new roman">&nbsp; </span></span></span><span style="font-family:宋体;mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman'">创建房间</span></p><p class=MsoNormal style="margin-left:21pt;text-indent:-21pt;mso-list:l0 level1 lfo1"><span lang=EN-US style=font-family:Wingdings;mso-fareast-font-family:Wingdings;mso-bidi-font-family:Wingdings><span style=mso-list:Ignore>l<span style="font:7pt times new roman">&nbsp; </span></span></span><span style="font-family:宋体;mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman'">进入房间</span></p><p class=MsoNormal style="margin-left:21pt;text-indent:-21pt;mso-list:l0 level1 lfo1"><span lang=EN-US style=font-family:Wingdings;mso-fareast-font-family:Wingdings;mso-bidi-font-family:Wingdings><span style=mso-list:Ignore>l<span style="font:7pt times new roman">&nbsp; </span></span></span><span style="font-family:宋体;mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman'">发公共信息</span></p><p class=MsoNormal style="margin-left:21pt;text-indent:-21pt;mso-list:l0 level1 lfo1"><span lang=EN-US style=font-family:Wingdings;mso-fareast-font-family:Wingdings;mso-bidi-font-family:Wingdings><span style=mso-list:Ignore>l<span style="font:7pt times new roman">&nbsp; </span></span></span><span style="font-family:宋体;mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman'">发私聊信息</span></p><p class=MsoNormal style="margin-left:21pt;text-indent:-21pt;mso-list:l0 level1 lfo1"><span lang=EN-US style=font-family:Wingdings;mso-fareast-font-family:Wingdings;mso-bidi-font-family:Wingdings><span style=mso-list:Ignore>l<span style="font:7pt times new roman">&nbsp; </span></span></span><span style="font-family:宋体;mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman'">踢人</span></p><p class=MsoNormal style=text-indent:21pt><span style="font-family:宋体;mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman'">然后再来分析用户的属性，首先用户在一个房间内，那么用户需要有一个房间的属性，在进入一个房间就具备这一个房间的属性。然后我们还需要一个属性用来表示用户的状态。还有就是用户收到的消息需要一个地方来存，所以需要一个用户消息的存储区域，所以需要一个消息池。最后得到类图：</span></p><img height=318 alt src=http://www.alexander-li.com/24.4.gif width=720 border=0><br><br><br>&nbsp;<p class=MsoNormal><span lang=EN-US><span style=mso-tab-count:1>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span style="font-family:宋体;mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman'">消息池对象是属于用户和房间的，算是一个公共的结构，作用就是用来存放消息，并且从特性上来说是一个栈结构的容器，也就是</span><span lang=EN-US>FIFO</span><span style="font-family:宋体;mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman'">队列。而由于这个类的对象的生命周期都是由房间或者用户来维护管理，所以基本上属于内部对象，这里也就不用画关系了。消息池需要几个行为：添加消息、清除消息两个方法。这两个方法主要出于封装上的需要，主要是用来提高整个对象的内聚减小耦合。类图如下：</span></p><br><img height=231 alt src=http://www.alexander-li.com/24.5.gif width=172 border=0><br>&nbsp;<p class=MsoNormal><span style="font-family:宋体;mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman'">最后是消息对象，消息对象基本上算是</span><span lang=EN-US>DTO</span><span style="font-family:宋体;mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman'">对象，用来传递信息的，所以只需要值属性就可以了。</span></p><p class=MsoNormal style=text-indent:21pt><span style="font-family:宋体;mso-ascii-font-family:'Times New Roman';mso-hansi-font-family:'Times New Roman'">最后我们初步的通过分析整个业务逻辑的问题域得到了体现领域模型的类结构。我们在之后会继续修改完善这个模型，因为如果我们在某个过程的实现当中需要操作另外一个对象的内部成员的时候，那么我们就需要在目标对象上增加属性，或者是增加方法，这里对于值对象我们推荐用属性，而对于一些需要操作的复杂对象，比如列表，我建议使用方法。</span></p>最后我们实现这几个类就OK拉。<br><br><br><br>原文:http://www.cnblogs.com/Alexander-Lee/archive/2007/09/19/898610.html</div><footer class=post-footer><div class=post-tags><a href=/tags/reprint/>Reprint</a></div><hr><div class=post-copyright><img src=/imgs/cc/cc.svg class=cc-icon width=75 height=75 align=right alt=共享知识 title=共享知识><ul><li class=post-copyright-title><strong>文章标题：</strong>
捅破窗户纸：如何从过程到对象—For金色的海洋以及所有为面向对象而困惑的Tx</li><li class=post-copyright-author><strong>本文作者： </strong>Rise</li><li class=post-copyright-link><strong>本文链接：</strong>
<a id=post-cr-link href=https://blogs.qipai360.cn/post/from-procedural-to-object-oriented/ title=捅破窗户纸：如何从过程到对象—For金色的海洋以及所有为面向对象而困惑的Tx>https://blogs.qipai360.cn/post/from-procedural-to-object-oriented/</a></li><li class=post-copyright-license><strong>版权声明： </strong>本作品采用 <i class="fab fa-fw fa-creative-commons"></i><a target=_blank href=https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh-hans>BY-NC-SA</a> 许可协议。转载请注明出处！</li><li><div class=license-icons><a href=https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh-hans target=_blank><img src=/imgs/cc/big/by_nc_sa.svg alt=BY-NC-SA title=BY-NC-SA>
</a><a href=https://notbyai.fyi target=_blank><img src=/imgs/notbyai/zh-hans/black.svg title="Not By AI"></a></div></li></ul></div><div class=followme><span>欢迎关注我的其它发布渠道</span><div class=social-list><div class=social-item><a target=_blank class=social-link href=https://www.zhihu.com/people/rise-worlds><span class=icon><i class="fa fa-book"></i>
</span><span class=label>知乎</span></a></div><div class=social-item><a target=_blank class=social-link href=https://twitter.com/riseworlds><span class=icon><i class="fab fa-twitter"></i>
</span><span class=label>Twitter</span></a></div><div class=social-item><a target=_blank class=social-link href=https://www.facebook.com/rise.worlds><span class=icon><i class="fab fa-facebook"></i>
</span><span class=label>facebook</span></a></div><div class=social-item><a target=_blank class=social-link href=https://youtube.com/@YiXuan><span class=icon><i class="fab fa-youtube"></i>
</span><span class=label>YouTube</span></a></div><div class=social-item><a target=_blank class=social-link href=https://instagram.com/rise.worlds><span class=icon><i class="fab fa-instagram"></i>
</span><span class=label>Instagram</span></a></div><div class=social-item><a target=_blank class=social-link href=https://t.me/riseworlds><span class=icon><i class="fab fa-telegram"></i>
</span><span class=label>Telegram</span></a></div></div></div><div class=post-nav><div class="post-nav-next post-nav-item"><a href=/post/vc-common-code-collection/ rel=next title=VC常用代码收集><i class="fa fa-chevron-left"></i> VC常用代码收集</a></div><div class="post-nav-prev post-nav-item"><a href=/post/code-injection-prevention/ rel=prev title=防止注入的代码>防止注入的代码
<i class="fa fa-chevron-right"></i></a></div></div></footer></article></div><div id=comments class=post-comments><div class=comment-head><div class=comment-headline><i class="fas fa-comments fa-fw"></i>
<span>评论交流</span></div></div><div class=comment-wrap><div><div class=comment-loading><i class="fa fa-sync fa-spin"></i></div><div class=giscus-container></div></div></div></div></div></main><footer class=footer><div class=footer-inner><div class=copyright>&copy;
<span itemprop=copyrightYear>2004 - 2026
</span><span class=with-love><i class="fa fa-heart"></i>
</span><span class=author itemprop=copyrightHolder>Rise</span></div><div class=powered-by>由 <a href=https://gohugo.io title=0.157.0 target=_blank>Hugo</a> & <a href=https://github.com/hugo-next/hugo-theme-next title=4.8.3 target=_blank>Hugo NexT.Gemini</a> 强力驱动</div><div class=beian><a href=https://beian.miit.gov.cn target=_blank>豫ICP备2021009490号</a>
<img src=/imgs/gongan.png alt=豫公网安备>
<a href="http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=41162302000074" target=_blank>豫公网安备 41162302000074 号</a></div></div></footer><script class=next-config data-name=page type=application/json>{"comments":true,"expired":false,"isHome":false,"isPage":true,"path":"from-procedural-to-object-oriented","permalink":"https://blogs.qipai360.cn/post/from-procedural-to-object-oriented/","title":"捅破窗户纸：如何从过程到对象—For金色的海洋以及所有为面向对象而困惑的Tx","toc":false,"waline3":{"pagecnt":{"alias":"@waline/client","alias_name":"waline","file":"dist/pageview.js","name":"pageview","version":"3.5.7"}}}</script><script type=text/javascript src=https://blogs.qipai360.cn/js/3rd/animejs/3.2.2/anime.min.js crossorigin=anonymous defer></script><script type=text/javascript src=https://blogs.qipai360.cn/js/3rd/viewerjs/1.11.6/viewer.min.js crossorigin=anonymous defer></script><script class=next-config data-name=main type=application/json>{"bookmark":{"color":"#222","enable":true,"save":"manual"},"copybtn":true,"darkmode":true,"giscus":{"cfg":{"category":"Announcements","categoryid":"DIC_kwDOA6L0YM4CiXf9","emit":false,"inputposition":"top","mapping":"title","reactions":false,"repo":"rise-worlds/rise-worlds.github.io","repoid":"MDEwOlJlcG9zaXRvcnk2MTAxMTA0MA==","theme":"transparent_dark"},"js":"https://giscus.app/client.js"},"hostname":"https://blogs.qipai360.cn/","i18n":{"ds_day":" 天前","ds_days":" 天 ","ds_hour":" 小时前","ds_hours":" 小时 ","ds_just":"刚刚","ds_min":" 分钟前","ds_mins":" 分钟","ds_month":" 个月前","ds_years":" 年 ","empty":"没有找到任何搜索结果：${query}","hits":"找到 ${hits} 个搜索结果","hits_time":"找到 ${hits} 个搜索结果（用时 ${time} 毫秒）","placeholder":"搜索..."},"isMultiLang":false,"lang":"zh-CN","lazyload":false,"motion":{"async":true,"enable":true,"transition":{"collheader":"fadeInLeft","postblock":"fadeIn","postbody":"fadeInDown","postheader":"fadeInDown","sidebar":"fadeInUp"}},"postmeta":{"comments":{"enable":false,"plugin":"waline3"},"views":{"enable":true,"plugin":"waline3"}},"root":"/","scheme":"Gemini","share":{"addtoany":{"js":"https://static.addtoany.com/menu/page.js","locale":"zh-CN","num":8},"enable":false},"sidebar":{"display":"post","offset":12,"padding":18,"position":"left","width":256},"vendor":{"plugins":"local","router":{"name":"local","type":"modern","url":"https://blogs.qipai360.cn/js/3rd"}},"version":"4.8.3","waline3":{"cfg":{"emoji":false,"imguploader":false,"placeholder":"请文明发言哟 ヾ(≧▽≦*)o 可用快捷键选取表情符号：😀😄😁🥳👻👽👀🚄 (Window系统：Win+.，Mac系统：Control+Command+Space)","reaction":true,"reactiontext":["点赞","踩一下","得意","不屑","尴尬","睡觉"],"reactiontitle":"你认为这篇文章怎么样？","requiredmeta":["nick","mail"],"search":true,"serverurl":"https://walinejs.comment.lithub.cc","sofa":"快来发表你的意见吧 (≧∀≦)ゞ","wordlimit":200},"css":{"alias":"@waline/client","file":"dist/waline.css","name":"waline","version":"3.5.7"},"js":{"alias":"@waline/client","file":"dist/waline.js","name":"waline","version":"3.5.7"}}}</script><script type=text/javascript src="/js/main.min.js?=1772265585" defer></script></body></html>