<!doctype html><html lang=zh-CN data-theme=dark><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=theme-color content="#222" media="(prefers-color-scheme: dark)"><meta name=generator content="Hugo 0.152.2"><link rel="shortcut icon" type=image/x-icon href=/imgs/icons/favicon.ico><link rel=icon type=image/x-icon href=/imgs/icons/favicon.ico><link rel=icon type=image/png sizes=16x16 href=/imgs/icons/favicon_32_32_next.png><link rel=icon type=image/png sizes=32x32 href=/imgs/icons/favicon_128_128_next.png><link rel=apple-touch-icon sizes=180x180 href=/imgs/icons/apple_touch_icon_next.png><meta itemprop=name content="Posts"><meta itemprop=description content="福兮祸兮，焉知所依？冬去冰泮，春来萌荣。朝生暮死，亦可惊鸿。知足者富，自足者强。"><meta name=description content="福兮祸兮，焉知所依？冬去冰泮，春来萌荣。朝生暮死，亦可惊鸿。知足者富，自足者强。"><meta itemprop=image content="https://blogs.qipai360.cn/imgs/avatar.jpg"><meta itemprop=keywords content="Rise,ZhangTuohui,技术,C++,Unity3D,Lua,NodeJS,C#,JavaScript,游戏开发,机器学习,深度学习,AI,编程,编程语言,编程技术,编程开发,游戏引擎,游戏设计,游戏制作,游戏开发者,游戏开发者博客,游戏开发者网站,游戏开发者工具,游戏开发者教程,游戏开发者学习,游戏开发者交流,游戏开发者分享,游戏开发者经验,游戏开发者心得,游戏开发者技巧,游戏开发者方法,游戏开发者思路,游戏开发者理念,游戏开发者文化,游戏开发者精神,游戏开发者信仰"><meta property="og:type" content="website"><meta property="og:title" content="Posts"><meta property="og:description" content="福兮祸兮，焉知所依？冬去冰泮，春来萌荣。朝生暮死，亦可惊鸿。知足者富，自足者强。"><meta property="og:image" content="/imgs/avatar.jpg"><meta property="og:image:width" content="312"><meta property="og:image:height" content="312"><meta property="og:image:type" content="image/jpeg/png/svg/jpg"><meta property="og:url" content="https://blogs.qipai360.cn/post/"><meta property="og:site_name" content="Rise的自留地"><meta property="og:locale" content="zh-CN"><link type=text/css rel=stylesheet href=https://blogs.qipai360.cn/js/3rd/font-awesome/6.7.2/css/all.min.css><link type=text/css rel=stylesheet href=https://blogs.qipai360.cn/js/3rd/animate.css/3.1.1/animate.min.css><link type=text/css rel=stylesheet href=https://blogs.qipai360.cn/js/3rd/viewerjs/1.11.6/viewer.min.css><link rel=stylesheet href="/css/main.min.css?=1761990626"><style type=text/css>.post-footer hr:after{content:"~ 我可是有底线的哟 ~"}.flinks-list-footer hr:after{content:"~ 我可是有底线的哟 ~"}</style><script type=text/javascript>(function(){localDB={set:function(e,t,n){if(n===0)return;const s=new Date,o=n*864e5,i={value:t,expiry:s.getTime()+o};localStorage.setItem(e,JSON.stringify(i))},get:function(e){const t=localStorage.getItem(e);if(!t)return 0[0];const n=JSON.parse(t),s=new Date;return s.getTime()>n.expiry?(localStorage.removeItem(e),0[0]):n.value}},theme={active:function(){const e=localDB.get("theme");if(e==null)return;theme.toggle(e),window.matchMedia("(prefers-color-scheme: dark)").addListener(function(e){theme.toggle(e.matches?"dark":"light")})},toggle:function(e){document.documentElement.setAttribute("data-theme",e),localDB.set("theme",e,2);const t=document.querySelector("iframe.giscus-frame");if(t){const n={setConfig:{theme:e}};t.contentWindow.postMessage({giscus:n},"https://giscus.app")}}},theme.active()})(window)</script><script type=text/javascript>document.addEventListener("DOMContentLoaded",()=>{var e=document.createElement("script");e.charset="UTF-8",e.src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js",e.async=!1,e.defer=!0,document.head.appendChild(e),e.onload=function(){NexT.utils.fmtBusuanzi()}})</script><script defer src=https://static.cloudflareinsights.com/beacon.min.js data-cf-beacon='{"token": "2b23669184fc49269e400525ac2447d9"}'></script><title>post - Rise的自留地</title><noscript><link rel=stylesheet href=/css/noscript.css></noscript></head><body itemscope itemtype=http://schema.org/WebPage class=use-motion><div class=headband></div><main class=main><header class=header itemscope itemtype=http://schema.org/WPHeader><div class=header-inner><div class=site-brand-container><div class=site-nav-toggle><div class=toggle aria-label role=button><span class=toggle-line></span>
<span class=toggle-line></span>
<span class=toggle-line></span></div></div><div class=site-meta><a href=/ class=brand rel=start><i class=logo-line></i><h1 class=site-title>Rise的自留地</h1><i class=logo-line></i></a><p class=site-subtitle itemprop=description>记录生活中的点滴，分享编程技术和游戏开发经验。</p></div><div class=site-nav-right><div class="toggle popup-trigger"></div></div></div><nav class=site-nav><ul class="main-menu menu"><li class="menu-item menu-item-home"><a href=/ class=hvr-icon-pulse rel=section><i class="fa fa-home hvr-icon"></i>首页</a></li><li class="menu-item menu-item-about"><a href=/about.html class=hvr-icon-pulse rel=section><i class="fa fa-user hvr-icon"></i>关于</a></li><li class="menu-item menu-item-archives"><a href=/archives/ class=hvr-icon-pulse rel=section><i class="fa fa-archive hvr-icon"></i>归档
<span class=badge>678</span></a></li><li class="menu-item menu-item-tags"><a href=/tags/ class=hvr-icon-pulse rel=section><i class="fa fa-tags hvr-icon"></i>标签</a></li><li class="menu-item menu-item-message"><a href=/message/ class=hvr-icon-pulse rel=section><i class="fa fa-comments hvr-icon"></i>留言板</a></li><li class="menu-item menu-item-commonweal"><a href=/404.html class=hvr-icon-pulse rel=section><i class="fa fa-heartbeat hvr-icon"></i>公益 404</a></li></ul></nav></div><div class="toggle sidebar-toggle" role=button><span class=toggle-line></span>
<span class=toggle-line></span>
<span class=toggle-line></span></div><aside class=sidebar><div class="sidebar-inner sidebar-overview-active"><ul class=sidebar-nav><li class=sidebar-nav-toc>文章目录</li><li class=sidebar-nav-overview>站点概览</li></ul><div class=sidebar-panel-container><div class="post-toc-wrap sidebar-panel"><div class="post-toc animated"><nav id=TableOfContents></nav></div></div><div class="site-overview-wrap sidebar-panel"><div class="site-author site-overview-item animated" itemprop=author itemscope itemtype=http://schema.org/Person><img class=site-author-image itemprop=image alt=Rise src=/imgs/img-lazy-loading.gif data-src=/imgs/avatar.jpg><p class=site-author-name itemprop=name>Rise</p><div class=site-description itemprop=description>福兮祸兮，焉知所依？冬去冰泮，春来萌荣。朝生暮死，亦可惊鸿。知足者富，自足者强。</div></div><div class="site-state-wrap site-overview-item animated"><nav class=site-state><div class="site-state-item site-state-posts"><a href=/archives/><span class=site-state-item-count>678</span>
<span class=site-state-item-name>日志</span></a></div><div class="site-state-item site-state-categories"><a href=/categories/><span class=site-state-item-count>34</span>
<span class=site-state-item-name>分类</span></a></div><div class="site-state-item site-state-tags"><a href=/tags/><span class=site-state-item-count>117</span>
<span class=site-state-item-name>标签</span></a></div></nav></div><div class="links-of-social site-overview-item animated"><span class=links-of-social-item><a href=https://github.com/rise-worlds title="Github → https://github.com/rise-worlds" rel=noopener class=hvr-icon-pulse target=_blank><i class="fab fa-github fa-fw hvr-icon"></i>
Github
</a></span><span class=links-of-social-item><a href=mailto:rise.worlds@outlook.com title="E-Mail → mailto:rise.worlds@outlook.com" rel=noopener class=hvr-icon-pulse target=_blank><i class="fa fa-envelope fa-fw hvr-icon"></i>
E-Mail
</a></span><span class=links-of-social-item><a href=https://www.zhihu.com/people/rise-worlds title="知乎 → https://www.zhihu.com/people/rise-worlds" rel=noopener class=hvr-icon-pulse target=_blank><i class="fa fa-book fa-fw hvr-icon"></i>
知乎
</a></span><span class=links-of-social-item><a href=https://twitter.com/riseworlds title="Twitter → https://twitter.com/riseworlds" rel=noopener class=hvr-icon-pulse target=_blank><i class="fab fa-twitter fa-fw hvr-icon"></i>
Twitter
</a></span><span class=links-of-social-item><a href=https://www.facebook.com/rise.worlds title="facebook → https://www.facebook.com/rise.worlds" rel=noopener class=hvr-icon-pulse target=_blank><i class="fab fa-facebook fa-fw hvr-icon"></i>
facebook
</a></span><span class=links-of-social-item><a href=https://youtube.com/@YiXuan title="YouTube → https://youtube.com/@YiXuan" rel=noopener class=hvr-icon-pulse target=_blank><i class="fab fa-youtube fa-fw hvr-icon"></i>
YouTube
</a></span><span class=links-of-social-item><a href=https://instagram.com/rise.worlds title="Instagram → https://instagram.com/rise.worlds" rel=noopener class=hvr-icon-pulse target=_blank><i class="fab fa-instagram fa-fw hvr-icon"></i>
Instagram
</a></span><span class=links-of-social-item><a href=https://t.me/riseworlds title="Telegram → https://t.me/riseworlds" rel=noopener class=hvr-icon-pulse target=_blank><i class="fab fa-telegram fa-fw hvr-icon"></i>
Telegram</a></span></div><div class="links-of-blogroll site-overview-item animated"><div class=links-of-blogroll-title><i class="fa fa-globe fa-fw"></i>
友情链接</div><ul class=links-of-blogroll-list><li class=links-of-blogroll-item><a href=https://www.qipai360.cn title=https://www.qipai360.cn target=_blank>Qipai360</a></li><li class=links-of-blogroll-item><a href=https://www.cnblogs.com/flying_bat title=https://www.cnblogs.com/flying_bat target=_blank>博客园</a></li><li class=links-of-blogroll-item><a href=https://zishu.me title=https://zishu.me target=_blank>子舒的博客</a></li><li class=links-of-blogroll-item><a href=https://gitee.com/hugo-next/hugo-theme-next title=https://gitee.com/hugo-next/hugo-theme-next target=_blank>Hugo-NexT</a></li></ul></div></div></div></div><div id=siteinfo-card-widget class=sidebar-card-widget><div class=item-headline><i class="fas fa-chart-line"></i>
<span>网站资讯</span></div><div class=siteinfo><div class=siteinfo-item><div class=item-name><i class="fa-solid fa-calendar-check"></i>已运行：</div><div class=item-count id=runTimes data-publishdate="2004-10-06 15:24:00 +0800 +0800"></div></div><div class=siteinfo-item><div class=item-name><i class="fas fa fa-user"></i>总访客数：</div><div class=item-count id=busuanzi_value_site_uv><i class="fa fa-sync fa-spin"></i></div></div><div class=siteinfo-item><div class=item-name><i class="fas fa fa-eye"></i>页面浏览：</div><div class=item-count id=busuanzi_value_site_pv><i class="fa fa-sync fa-spin"></i></div></div><div class=siteinfo-item><div class=item-name><i class="fa fa-font"></i>总字数：</div><div class=item-count id=wordsCount data-count=2418817></div></div><div class=siteinfo-item><div class=item-name><i class="fa fa-mug-hot"></i>阅读约：</div><div class=item-count id=readTimes data-times=5198></div></div><div class=siteinfo-item><div class=item-name><i class="fa fa-clock-rotate-left"></i>最后更新于：</div><div class=item-count id=last-push-date data-lastpushdate="2025-11-01 14:55:00 +0800 +0800"></div></div></div></div></aside><div class=sidebar-dimmer></div></header><div class=tool-buttons><div id=goto-comments class="button goto-comments" title=直达评论><i class="fas fa-comments"></i></div><div id=toggle-theme class=button title=深浅模式切换><i class="fas fa-adjust"></i></div><div class=back-to-top role=button title=返回顶部><i class="fa fa-arrow-up"></i>
<span>0%</span></div></div><div class=reading-progress-bar></div><a role=button class="book-mark-link book-mark-link-fixed"></a><a href=https://github.com/rise-worlds rel="noopener external nofollow noreferrer" target=_blank title="Follow me on GitHub" class="exturl github-corner"><svg width="80" height="80" viewBox="0 0 250 250" aria-hidden="true"><path d="M0 0 115 115h15l12 27L250 250V0z"/><path d="M128.3 109C113.8 99.7 119 89.6 119 89.6 122 82.7 120.5 78.6 120.5 78.6 119.2 72 123.4 76.3 123.4 76.3 127.3 80.9 125.5 87.3 125.5 87.3 122.9 97.6 130.6 101.9 134.4 103.2" fill="currentColor" style="transform-origin:130px 106px" class="octo-arm"/><path d="M115 115C114.9 115.1 118.7 116.5 119.8 115.4l13.9-13.8C136.9 99.2 139.9 98.4 142.2 98.6 133.8 88 127.5 74.4 143.8 58 148.5 53.4 154 51.2 159.7 51 160.3 49.4 163.2 43.6 171.4 40.1 171.4 40.1 176.1 42.5 178.8 56.2 183.1 58.6 187.2 61.8 190.9 65.4 194.5 69 197.7 73.2 200.1 77.6 213.8 80.2 216.3 84.9 216.3 84.9 212.7 93.1 206.9 96 205.4 96.6 205.1 102.4 203 107.8 198.3 112.5 181.9 128.9 168.3 122.5 157.7 114.1 157.9 116.9 156.7 120.9 152.7 124.9L141 136.5C139.8 137.7 141.6 141.9 141.8 141.8z" fill="currentColor" class="octo-body"/></svg></a><noscript><div class=noscript-warning>Theme NexT works best with JavaScript enabled</div></noscript><div class="main-inner index posts-expand"><div class=post-block><article itemscope itemtype=http://schema.org/Article class=post-content lang><link itemprop=mainEntityOfPage href=https://blogs.qipai360.cn/post/lua-third-party-plugins-list/><span hidden itemprop=author itemscope itemtype=http://schema.org/Person><meta itemprop=image content="/imgs/avatar.jpg"><meta itemprop=name content="Rise"></span><span hidden itemprop=publisher itemscope itemtype=http://schema.org/Organization><meta itemprop=name content="Rise"><meta itemprop=description content="福兮祸兮，焉知所依？冬去冰泮，春来萌荣。朝生暮死，亦可惊鸿。知足者富，自足者强。"></span><span hidden itemprop=post itemscope itemtype=http://schema.org/CreativeWork><meta itemprop=name content="Lua第三方插件列表"><meta itemprop=description content="下面的这些内容不包含在本文中：官方的Lua包和文档 (参看 http://www.lua.org/),；涉及到Lua使用但不是被Lua使用者普遍使用的东西 (参看 http://www.lua.org/uses.html), ；本wiki已经存在的内容(参看 LuaDirectory). 

类库和与Lua绑定的资源



LibrariesAndBindings 

开发环境


[LuaIDE] (5.0) - Windows平台Lua的整合开发环境(最新发布 2004-01-29). 
[wxLua] (5.0) -&nbsp;Lua and wxWidgets的混合体.有自己的带有调试器的IDE。这个IDE使用wxlua开发的。 
[LuaEclipse] (5.0) - Eclipse 平台的Lua IDE . 
[Vortex LuaIDE] (5.0) -&nbsp;Brazilian Portuguese的一些免费的Lua IDE! (Outra IDE para Lua gratuita, mas em Português!). 
[LuaX] (5.x) - 支持多种操作系统下开发Lua应用的开发平台(with GUI, serial port etc. modules)特别适合于工业自动化和嵌入式产品开发。 
[VisualWx] (5.x) -&nbsp;Lua & wxLua的IDE (自由软件) 
[QDE] (5.x) -&nbsp;Lua的Quotix 开发环境. 他支持工程管理，多文档接口等 (最新发布2005-03-06). 
[B:Lua] -&nbsp;开源项目： 具备各种特征的Lua IDE. 

代码封装

[CPB] (5.0)(Win32) - C++&nbsp;和 Lua连接之桥,实现两种语言的相互通信. 
[CaLua] (5.0) - 实现了绑定C函数和结构体到Lua，可以在Lua中使用C指针、数组、函数。(使用x86结构的计算机) 
[CppLua] (5.0) - lua API的C++封装。 
[lua2c] (5.0) - 将Lua代码转换成C代码的工具. 
[luabind] (5.0) - 基于模板的，绑定Lua和C++类以及函数 
[tolua] (5.0) - 自动绑定C/C++和Lua的工具. 
LuaWrapper 基于模版的封装包，很容易绑定C++代码和Lua。纯头文件。 
[tolua++] (5.0) - tolua的高级版本，带有c++面向对象的特征. ( CompilingToluappWithoutScons i.e., Compiling Tolua++ Without SCons ) 
[luapi] (5.0) - Lua api的C封装. 
[PBLua] (5.0.2) - Lua 5.0.2基本库的封装. 
[PowerBLua] (5.0) - PowerBASIC include & source for wrapping Lua (work in progress). 
[wxScript] (5.0.2) - 一些抽象类，添加到脚本解释器可以使你的wxWidgets支持Lua语言。 
[LunaticPython] (0.1) - Lua/Python&nbsp;的双向桥。可以将Lua解释器嵌入到python中，反过来也可以。 


Lua的使用Lua的使用列表[1]. 


[Premake] -一个用Lua语言实现的 automake 替代品. 可以为MS VC++, GNU make, 等创建工程文件. 
[Lumikki] (5.0) - 使用Lua宏创建web站点，可以使用导航菜单，风格等。

工具


ExpLua (5.0) - 代码文档工具(开发中。。。). 
[Hamster (ex SCons/Lua)] (5.x) - Lua front-end to the SCons build engine (or others). 
[Kepler Project] (5.0) - 使用 [CGILua 5.0]实现的Lua 5.0的web模板引擎&nbsp;. 
[Mod_Lua (5.0)] - &nbsp;Apache 2的 module，使得web应用与PHP类似。 
[ctrace] (5.0) - 跟踪Lua API调用的工具. 
[lper] (5.0) - 创建持久Lua 状态的工具,&nbsp;基于 [GNU mmalloc] (part of GDB). 
PlutoLibrary (5.0.2) - 为Lua创建重量级的持久性. 
[ChunkSpy] (5.0.2) - a binary chunk disassembler, with interactive mode, reading custom binary chunk formats, etc. 
[lua bakefile] (5.0.2) -&nbsp;创建 LUA&nbsp;工程的makefile和工程文件。 
[tolua bakefile] (5.0.2) - 创建 TOLUA&nbsp;工程的makefile和工程文件。 
[ChunkBake] (5.0.2) - a line-oriented assembler for Lua 5 virtual machine instructions 
[LuaSrcDiet] (5.0.2) - 通过删除不必要的空白和注释缩减Lua文件的大小。 
[LuaProfiler] (5.0) - 一个用来查找Lua应用瓶颈的工具time profiler 。



See also LuaEditorSupport. 

文档


[介绍性的指导] (5.0) - Lua 5.0 的介绍教程- 基于 Joe Taylor的评论. ( Try http://lua.riscos.org.uk/ ) 
[Lua&nbsp;5手册&nbsp;(webbook)] (5.0) -&nbsp; webbook格式的Lua 5.0手册。 
Lua简短参考 
Lua教程 
[Lua 5 快速参考] (5.0) - Lua 5.0的小参考手册(PDF)，包含彩色导航栏。&nbsp; 
[Lua 5 虚拟机指令介绍] (5.0) - SXW和PDF格式。 
Lua帮助, 方便在Lua手册中查找信息，类似Unix的man页面。


发布版
See LuaBinaries for links to precompiled vanilla Lua 5.0 executables for various platforms. Real binaries (without addons) should move from here to there. 


[LuaCheia] (5.0) - Lua 5.0 for GNU/Linux, Mac/OS X, Windows, *BSD, Solaris, etc. Includes many add-on binary modules. 
[LuaPlus] (5.0) - C++ enhancements and various extensions to core Lua functionality 
[Linux RPMs] (5.0) - i386 binary, source and spec file for Lua 5.0.2 
[RPMs for Lua] (5.0) - from Rpmfind.Net. 
[RPMs with Lua modules] 
[Lua 5 for EPOC] (5.0) - Lua 5.0.1 for Symbian OS v1-5. 
[LuaCE] (5.0) - additional source files for compiling Lua for Windows CE. 
[LuaPPC] (5.0) - Stand-alone Lua 5.0 interpreter for the Pocket PC. (Built using LuaCE above.) 
[LuaPocket] (5.0) - Stand-alone Lua 5.0 interpreter for the Pocket PC with graphic support. (Built using LuaPPC above.) 
[Lua for RISC OS] (5.0) 
[Lua for Palm OS] (5.0) Port of Lua for Palm (in alpha). 
[Lua89] (5.0) Experimental port of Lua to the TI89 graphing calculator. 

其他的一些Lua实现方式


[Sol] - Lua 的派生物. 
[Lua.NET] .net相关的Lua 
[LuaLeo] -&nbsp; 根据[Leonardo VM] 实现的Lua 3.1 
[Lua-ML] -&nbsp; 由面向对象的Caml实现的 Lua 2.5 
[Yindo] - Lua 的实现，作为OpenGL 浏览器插件(很快过时了) 
[Yueliang] (5.0.2) - 使用Lua实现Lua，包括词法解析、语法解析、代码生成和生成二进制chunks."></span><header class=post-header><h2 class=post-title itemprop="name headline"><a href=/post/lua-third-party-plugins-list/ itemprop=url class=post-title-link>Lua第三方插件列表</a></h2><div class=post-meta-container><div class=post-meta-items><span class=post-meta-item><span class=post-meta-item-icon><i class="fas fa-solid fa-calendar"></i>
</span><span class=post-meta-item-text title=发表于>发表于：
</span><time title="创建时间：2007年09月21日 12:21:00 CST" itemprop="dateCreated datePublished" datetime="2007-09-21 12:21:00 +0800 +0800">2007年09月21日
</time></span><span class=post-meta-item><span class=post-meta-item-icon><i class="fas fa-solid fa-folder-open"></i>
</span><span class=post-meta-item-text title=分类于>分类于：
</span><span itemprop=about itemscope itemtype=http://schema.org/Thing><a href=/categories/lua/ itemprop=url rel=index><span itemprop=name>dev/Lua</span>
</a></span></span><span class=post-meta-item title=浏览><span class=post-meta-item-icon><i class="fas fa-solid fa-eye"></i>
</span><span class=post-meta-item-text>浏览：
</span><span id=pageview-count data-path=/post/lua-third-party-plugins-list/><i class="fa fa-sync fa-spin"></i></span></span></div></div></header><div class=post-body itemprop=articleBody><p>下面的这些内容不包含在本文中：<br>官方的Lua包和文档 (参看 <a href=http://www.lua.org/><u><font color=#800080><a href=http://www.lua.org/),；涉及到Lua使用但不是被Lua使用者普遍使用的东西%20(参看>http://www.lua.org/</font></u></a>),<font color=#000000>；<br></font>涉及到Lua使用但不是被Lua使用者普遍使用的东西<font color=#000000> (参看 </font></a><a href=http://www.lua.org/uses.html><u><font color=#0000ff>http://www.lua.org/uses.html</font></u></a><a href=http://www.lua.org/),；涉及到Lua使用但不是被Lua使用者普遍使用的东西；things><font color=#000000>), </font>；<br></a>本wiki已经存在的内容(参看 <a href=http://lua-users.org/wiki/LuaDirectory><u><font color=#0000ff>LuaDirectory</font></u></a>).<p><h2><a href=http://lua-users.org/wiki/LibrariesAndBindings><u><font color=#0000ff>类库和与Lua绑定的资源</font></u></a></h2><p><u><font color=#0000ff></font></u><dl><dt><u><font color=#0000ff></font></u><dd><a href=http://lua-users.org/wiki/LibrariesAndBindings><u><font color=#0000ff>LibrariesAndBindings</font></u></a></dd></dl><p><h2>开发环境</h2><p><ul><li><a href=http://www.gorlice.net.pl/~rybak/luaide><u><font color=#0000ff>[LuaIDE]</font></u></a> (5.0) - Windows平台Lua的整合开发环境(最新发布 2004-01-29).<li><a href=http://www.luascript.thersgb.net/><u><font color=#0000ff>[wxLua]</font></u></a> (5.0) -&nbsp;Lua and wxWidgets的混合体.有自己的带有调试器的IDE。这个IDE使用wxlua开发的。<li><a href=http://www.ideais.com.br/luaeclipse/><u><font color=#0000ff>[LuaEclipse]</font></u></a> (5.0) - Eclipse 平台的Lua IDE .<li><a href="http://www.vortexentertainment.com/produto.php?id=luaide"><u><font color=#0000ff>[Vortex LuaIDE]</font></u></a> (5.0) -&nbsp;Brazilian Portuguese的一些免费的Lua IDE! (Outra IDE para Lua gratuita, mas em Português!).<li><a href=http://luaforge.net/projects/luax/><u><font color=#0000ff>[LuaX]</font></u></a> (5.x) - 支持多种操作系统下开发Lua应用的开发平台(with GUI, serial port etc. modules)特别适合于工业自动化和嵌入式产品开发。<li><a href=http://visualwx.altervista.org/><u><font color=#0000ff>[VisualWx]</font></u></a> (5.x) -&nbsp;Lua & wxLua的IDE (自由软件)<li><a href=http://www.quotixsoftware.com/qde_index.htm><u><font color=#0000ff>[QDE]</font></u></a> (5.x) -&nbsp;Lua的Quotix 开发环境. 他支持工程管理，多文档接口等 (最新发布2005-03-06).<li><a href=http://blua.sourceforge.net/><u><font color=#0000ff>[B:Lua]</font></u></a> -&nbsp;开源项目： 具备各种特征的Lua IDE.</li></ul><p><h2>代码封装</h2><ul><li><a href=http://www.thomasandamy.com/projects/CPB/><u><font color=#0000ff>[CPB]</font></u></a> (5.0)(Win32) - C++&nbsp;和 Lua连接之桥,实现两种语言的相互通信.<li><a href=http://sourceforge.net/projects/calua><u><font color=#0000ff>[CaLua]</font></u></a> (5.0) - 实现了绑定C函数和结构体到Lua，可以在Lua中使用C指针、数组、函数。(使用x86结构的计算机)<li><a href=http://sourceforge.net/projects/cpplua><u><font color=#0000ff>[CppLua]</font></u></a> (5.0) - lua API的C++封装。<li><a href=ftp://ftp.tecgraf.puc-rio.br/pub/lhf/lua2c.tar.gz><u><font color=#0000ff>[lua2c]</font></u></a> (5.0) - 将Lua代码转换成C代码的工具.<li><a href=http://luabind.sf.net/><u><font color=#0000ff>[luabind]</font></u></a> (5.0) - 基于模板的，绑定Lua和C++类以及函数<li><a href=http://www.tecgraf.puc-rio.br/~celes/tolua/><u><font color=#0000ff>[tolua]</font></u></a> (5.0) - 自动绑定C/C++和Lua的工具.<li><a href=http://lua-users.org/wiki/LuaWrapper><u><font color=#0000ff>LuaWrapper</font></u></a> 基于模版的封装包，很容易绑定C++代码和Lua。纯头文件。<li><a href=http://www.codenix.com/~tolua><u><font color=#0000ff>[tolua++]</font></u></a> (5.0) - tolua的高级版本，带有c++面向对象的特征. ( <a href=http://lua-users.org/wiki/CompilingToluappWithoutScons><u><font color=#0000ff>CompilingToluappWithoutScons</font></u></a> i.e., Compiling Tolua++ Without SCons )<li><a href=http://lua-users.org/files/wiki_insecure/users/luapi/><u><font color=#0000ff>[luapi]</font></u></a> (5.0) - Lua api的C封装.<li><a href=http://rzserv2.fhnon.de/~lg016586/PBLua/><u><font color=#0000ff>[PBLua]</font></u></a> (5.0.2) - Lua 5.0.2基本库的封装.<li><a href=http://mark0.net/code-powerblua-e.html><u><font color=#0000ff>[PowerBLua]</font></u></a> (5.0) - PowerBASIC include & source for wrapping Lua (work in progress).<li><a href=http://wxcode.sourceforge.net/components/wxscript/index.html><u><font color=#0000ff>[wxScript]</font></u></a> (5.0.2) - 一些抽象类，添加到脚本解释器可以使你的wxWidgets支持Lua语言。<li><a href=http://moin.conectiva.com.br/LunaticPython><u><font color=#0000ff>[LunaticPython]</font></u></a> (0.1) - Lua/Python&nbsp;的双向桥。可以将Lua解释器嵌入到python中，反过来也可以。</li></ul><p><p><h2>Lua的使用</h2><em>Lua的使用列表<a href=http://www.lua.org/uses.html><u><font color=#0000ff>[1]</font></u></a>.</em><p><ul><li><a href=http://premake.sourceforge.net/><u><font color=#0000ff>[Premake]</font></u></a> -一个用Lua语言实现的 automake 替代品. 可以为MS VC++, GNU make, 等创建工程文件.<li><a href=http://luaforge.net/projects/lumikki><u><font color=#0000ff>[Lumikki]</font></u></a> (5.0) - 使用Lua宏创建web站点，可以使用导航菜单，风格等。</li></ul><p><h2>工具</h2><p><ul><li><a href=http://lua-users.org/wiki/ExpLua><u><font color=#0000ff>ExpLua</font></u></a> (5.0) - 代码文档工具(开发中。。。).<li><a href=http://luaforge.net/projects/hamster/><u><font color=#0000ff>[Hamster (ex SCons/Lua)]</font></u></a> (5.x) - Lua front-end to the SCons build engine (or others).<li><a href=http://www.keplerproject.org/><u><font color=#0000ff>[Kepler Project]</font></u></a> (5.0) - 使用 <a href=http://www.keplerproject.org/cgilua/><u><font color=#0000ff>[CGILua 5.0]</font></u></a>实现的Lua 5.0的web模板引擎&nbsp;.<li><a href=http://www.xtgsystems.com/linux/lua/mod_lua.php><u><font color=#0000ff>[Mod_Lua (5.0)]</font></u></a> - &nbsp;Apache 2的 module，使得web应用与PHP类似。<li><a href=http://www.tecgraf.puc-rio.br/~lhf/ftp/lua/><u><font color=#0000ff>[ctrace]</font></u></a> (5.0) - 跟踪Lua API调用的工具.<li><a href=http://www.tecgraf.puc-rio.br/~lhf/ftp/lua/><u><font color=#0000ff>[lper]</font></u></a> (5.0) - 创建持久Lua 状态的工具,&nbsp;基于 <a href=http://sources.redhat.com/gdb/5/onlinedocs/mmalloc.html><u><font color=#0000ff>[GNU mmalloc]</font></u></a> (part of GDB).<li><a href=http://lua-users.org/wiki/PlutoLibrary><u><font color=#0000ff>PlutoLibrary</font></u></a> (5.0.2) - 为Lua创建重量级的持久性.<li><a href=http://luaforge.net/projects/chunkspy/><u><font color=#0000ff>[ChunkSpy]</font></u></a> (5.0.2) - a binary chunk disassembler, with interactive mode, reading custom binary chunk formats, etc.<li><a href=http://www.geocities.com/f18m_cpp217828/prog/lua_win32.zip><u><font color=#0000ff>[lua bakefile]</font></u></a> (5.0.2) -&nbsp;创建 LUA&nbsp;工程的makefile和工程文件。<li><a href=http://www.geocities.com/f18m_cpp217828/prog/tolua_win32.zip><u><font color=#0000ff>[tolua bakefile]</font></u></a> (5.0.2) - 创建 TOLUA&nbsp;工程的makefile和工程文件。<li><a href=http://luaforge.net/projects/chunkbake/><u><font color=#0000ff>[ChunkBake]</font></u></a> (5.0.2) - a line-oriented assembler for Lua 5 virtual machine instructions<li><a href=http://luaforge.net/projects/luasrcdiet/><u><font color=#0000ff>[LuaSrcDiet]</font></u></a> (5.0.2) - 通过删除不必要的空白和注释缩减Lua文件的大小。<li><a href=http://www.keplerproject.org/luaprofiler><u><font color=#0000ff>[LuaProfiler]</font></u></a> (5.0) - 一个用来查找Lua应用瓶颈的工具time profiler 。</li></ul><p><dl><dt><dd>See also <a href=http://lua-users.org/wiki/LuaEditorSupport><u><font color=#0000ff>LuaEditorSupport</font></u></a>.</dd></dl><p><h2>文档</h2><p><ul><li><a href=http://lua.riscos.org.uk/Guide/><u><font color=#0000ff>[介绍性的指导]</font></u></a> (5.0) - Lua 5.0 的介绍教程- 基于 Joe Taylor的评论. ( Try <a href=http://lua.riscos.org.uk/><u><font color=#0000ff>http://lua.riscos.org.uk/</font></u></a> )<li><a href=http://lua-users.org/files/wiki_insecure/users/lcandido/lua5.0man_webbook.zip><u><font color=#0000ff>[Lua&nbsp;5手册&nbsp;(webbook)]</font></u></a> (5.0) -&nbsp; webbook格式的Lua 5.0手册。<li><a href=http://lua-users.org/wiki/LuaShortReference><u><font color=#0000ff>Lua简短参考</font></u></a><li><u><font color=#800080>Lua教程</font></u><li><a href="http://luaforge.net/docman/?group_id=80"><u><font color=#0000ff>[Lua 5 快速参考]</font></u></a> (5.0) - Lua 5.0的小参考手册(PDF)，包含彩色导航栏。&nbsp;<li><a href="http://luaforge.net/docman/?group_id=83"><u><font color=#0000ff>[Lua 5 虚拟机指令介绍]</font></u></a> (5.0) - SXW和PDF格式。<li><a href=http://lua-users.org/wiki/LuaHelp><u><font color=#0000ff>Lua帮助</font></u></a>, 方便在Lua手册中查找信息，类似Unix的man页面。</li></ul><p><p><h2>发布版</h2><p>See <a href=http://lua-users.org/wiki/LuaBinaries><u><font color=#0000ff>LuaBinaries</font></u></a> for links to precompiled vanilla Lua 5.0 executables for various platforms. Real binaries (without addons) should move from here to there.<p><ul><li><a href=http://luacheia.lua-users.org/><u><font color=#0000ff>[LuaCheia]</font></u></a> (5.0) - Lua 5.0 for GNU/Linux, Mac/OS X, Windows, *BSD, Solaris, etc. Includes many add-on binary modules.<li><a href=http://luaplus.org/tiki-index.php><u><font color=#0000ff>[LuaPlus]</font></u></a> (5.0) - C++ enhancements and various extensions to core Lua functionality<li><a href=http://gwpr03.microlink.com.br/~acosta/lua/><u><font color=#0000ff>[Linux RPMs]</font></u></a> (5.0) - i386 binary, source and spec file for Lua 5.0.2<li><a href="http://rpmfind.net/linux/rpm2html/search.php?query=lua"><u><font color=#0000ff>[RPMs for Lua]</font></u></a> (5.0) - from Rpmfind.Net.<li><a href=http://lsp2html.sourceforge.net/luarpms/><u><font color=#0000ff>[RPMs with Lua modules]</font></u></a><li><a href="http://www.freepoc.org/viewapp.php?id=32"><u><font color=#0000ff>[Lua 5 for EPOC]</font></u></a> (5.0) - Lua 5.0.1 for Symbian OS v1-5.<li><a href=http://www.inf.puc-rio.br/~miller/luace><u><font color=#0000ff>[LuaCE]</font></u></a> (5.0) - additional source files for compiling Lua for Windows CE.<li><a href=http://www.uoam.net/lua.html><u><font color=#0000ff>[LuaPPC]</font></u></a> (5.0) - Stand-alone Lua 5.0 interpreter for the Pocket PC. (Built using LuaCE above.)<li><a href=http://luaforge.net/projects/luapocket/><u><font color=#0000ff>[LuaPocket]</font></u></a> (5.0) - Stand-alone Lua 5.0 interpreter for the Pocket PC with graphic support. (Built using LuaPPC above.)<li><a href=http://lua.riscos.org.uk/><u><font color=#0000ff>[Lua for RISC OS]</font></u></a> (5.0)<li><a href=http://sourceforge.net/projects/luapalmos/><u><font color=#0000ff>[Lua for Palm OS]</font></u></a> (5.0) Port of Lua for Palm (in alpha).<li><a href=http://lekernel.lya-fr.com/lua.html><u><font color=#0000ff>[Lua89]</font></u></a> (5.0) Experimental port of Lua to the TI89 graphing calculator.</li></ul><p><h2>其他的一些Lua实现方式</h2><p><ul><li><a href=http://www.goron.de/~froese/sol/><u><font color=#0000ff>[Sol]</font></u></a> - Lua 的派生物.<li><a href=http://www.tecgraf.puc-rio.br/~rcerq/luadotnet/><u><font color=#0000ff>[Lua.NET]</font></u></a> .net相关的Lua<li><a href=http://www.dis.uniroma1.it/pub/demetres/LeonardoPrograms/lua.sit.bin><u><font color=#0000ff>[LuaLeo]</font></u></a> -&nbsp; 根据<a href=http://www.dis.uniroma1.it/~demetres/Leonardo/><u><font color=#0000ff>[Leonardo VM]</font></u></a> 实现的Lua 3.1<li><a href=http://www.cminusminus.org/code.html#luaml><u><font color=#0000ff>[Lua-ML]</font></u></a> -&nbsp; 由面向对象的Caml实现的 Lua 2.5<li><a href="http://www.yindo.com/?from=steve"><u><font color=#0000ff>[Yindo]</font></u></a> - Lua 的实现，作为OpenGL 浏览器插件(很快过时了)<li><a href=http://luaforge.net/projects/yueliang/><u><font color=#0000ff>[Yueliang]</font></u></a> (5.0.2) - 使用Lua实现Lua，包括词法解析、语法解析、代码生成和生成二进制chunks.</li></ul></div><footer class=post-footer><div class=post-button><a class=btn href=/post/lua-third-party-plugins-list/#more rel=contents>阅读全文 &#187;</a></div><div class=post-eof></div></footer></article></div><div class=post-block><article itemscope itemtype=http://schema.org/Article class=post-content lang><link itemprop=mainEntityOfPage href=https://blogs.qipai360.cn/post/lua-useful-resources-links/><span hidden itemprop=author itemscope itemtype=http://schema.org/Person><meta itemprop=image content="/imgs/avatar.jpg"><meta itemprop=name content="Rise"></span><span hidden itemprop=publisher itemscope itemtype=http://schema.org/Organization><meta itemprop=name content="Rise"><meta itemprop=description content="福兮祸兮，焉知所依？冬去冰泮，春来萌荣。朝生暮死，亦可惊鸿。知足者富，自足者强。"></span><span hidden itemprop=post itemscope itemtype=http://schema.org/CreativeWork><meta itemprop=name content="Lua常用资源连接"><meta itemprop=description content="
官方资源&nbsp; 

[Lua 官方主页]
Lua社区&nbsp; 

[Lua 邮件列表] 
[Lua IRC 聊天频道] (#来自irc.freenode.net) 
[Jean-Claude Wippler的wiki]. (不再维护)
Lua&nbsp;文档 

[Lua架构] - 描述了Lua的业务驱动方式，目的以及架构解决方案。
带有例证的Lua文档 

[与Will Harvey的谈话记录]
Lua&nbsp;教程 

[来自GameDev.net的：An Introduction to Lua] 
[扩展性的Lua] 
[嵌入式的 Lua] 
[Win32平台下使用Pelles C编译Lua] 
[在BlitzMax中使用 Lua]
认证考试&nbsp; 

[Lua高级认证] 提供Lua认证考试和相关练习. 
Benchmarks 

[Experiments with Scripting and User-Interface Language] is a paper by Kernighan and Van Wyk that benchmarks several scripting languages. An [implementation] of these benchmarks in Lua is available. 
Doug Bagley's的书： [Great Computer Language Shootout] 的更新版本.还有一个不太新的[Windows版本] . 
语言比较&nbsp; 

[Hello World!] 
[Hello You]: [Lua entry]. 
[99 Bottles of Beer]: [Lua entry]. 
[ROT13]: [Lua entry] 
[The Quine Page] 
[OO 例子] 
[APLC: Andreas' 实践语言对比]. 
[Scriptometer] 
[Syntax accross languages] (Big page!) 
[Michael Neumann's关于语言的比较] 
[与C++一起使用Lua:简短的教程] 
[PLEAC - 类似食谱一样的编程语言例子]
Lua 其他相关站点 

[Lua使用指南],&nbsp;来自 [Google Groups]. 
[Dr. Dobb's 的脚本语言列表]. 
[免费的编译器和解释器分类]: [Lua entry]. 
[编程语言字典]: [Lua entry]. 
[SAL, Linux上的科学上的应用]: [Lua entry] (site no longer exists?). 
[Freshmeat]: [Lua entry]. 
[FreeBSD]: [Lua entry]. 
[NetBSD]: [Lua entry]. 
[Mathtools.net]: [Lua entry] (404 error). 
[Wikipedia]: [Lua entry]. 
[Conectiva]: [Lua entry] (404 error). 
[Hypernews Computer Language List]. 
[语言列表- Version 2.4] (开始于1995年! 现在404错误,&nbsp;到 [主页] 察看原因). 
[现存语言的评论]: [Lua entry]. 
[开源的工程目录]: [Lua entry]. 
[GNU 自由软件目录]: [Lua entry]. 
[流行的脚本语言]"></span><header class=post-header><h2 class=post-title itemprop="name headline"><a href=/post/lua-useful-resources-links/ itemprop=url class=post-title-link>Lua常用资源连接</a></h2><div class=post-meta-container><div class=post-meta-items><span class=post-meta-item><span class=post-meta-item-icon><i class="fas fa-solid fa-calendar"></i>
</span><span class=post-meta-item-text title=发表于>发表于：
</span><time title="创建时间：2007年09月21日 12:16:00 CST" itemprop="dateCreated datePublished" datetime="2007-09-21 12:16:00 +0800 +0800">2007年09月21日
</time></span><span class=post-meta-item><span class=post-meta-item-icon><i class="fas fa-solid fa-folder-open"></i>
</span><span class=post-meta-item-text title=分类于>分类于：
</span><span itemprop=about itemscope itemtype=http://schema.org/Thing><a href=/categories/lua/ itemprop=url rel=index><span itemprop=name>dev/Lua</span>
</a></span></span><span class=post-meta-item title=浏览><span class=post-meta-item-icon><i class="fas fa-solid fa-eye"></i>
</span><span class=post-meta-item-text>浏览：
</span><span id=pageview-count data-path=/post/lua-useful-resources-links/><i class="fa fa-sync fa-spin"></i></span></span></div></div></header><div class=post-body itemprop=articleBody><ul><li>官方资源&nbsp;<ul><li><a href=http://www.lua.org/><u><font color=#800080>[Lua 官方主页]</font></u></a></li></ul><li>Lua社区&nbsp;<ul><li><a href=http://lua-users.org/lists/lua-l/><u><font color=#0000ff>[Lua 邮件列表]</font></u></a><li><a href=irc://irc.freenode.net/lua><u><font color=#800080>[Lua IRC 聊天频道]</font></u></a> (#来自irc.freenode.net)<li><a href=http://mini.net/cgi-bin/lua/><u><font color=#0000ff>[Jean-Claude Wippler的wiki]</font></u></a>. <em>(不再维护)</em></li></ul><li>Lua&nbsp;文档<ul><li><em><a href=http://www.tecgraf.org/~mark/luaarchitecture.doc><u><font color=#0000ff>[Lua架构]</font></u></a></em> - 描述了Lua的业务驱动方式，目的以及架构解决方案。</li></ul><li>带有例证的Lua文档<ul><li><em><a href="http://www.acmqueue.org/modules.php?name=Content&amp;pa=showpage&amp;pid=112"><u><font color=#0000ff>[与Will Harvey的谈话记录]</font></u></a></em></li></ul><li>Lua&nbsp;教程<ul><li><a href=http://www.gamedev.net/reference/articles/article1932.asp><u><font color=#0000ff>[来自GameDev.net的：An Introduction to Lua]</font></u></a><li><a href=http://davespalace.co.uk/tutorials/lua_extend.html><u><font color=#0000ff>[扩展性的Lua]</font></u></a><li><a href=http://davespalace.co.uk/tutorials/lua_embed.html><u><font color=#0000ff>[嵌入式的 Lua]</font></u></a><li><a href="http://smorgasbordet.com/phpBB2/viewtopic.php?p=778#778"><u><font color=#0000ff>[Win32平台下使用Pelles C编译Lua]</font></u></a><li><a href=http://www.blitzwiki.org/index.php/Introduction_to_Lua><u><font color=#0000ff>[在BlitzMax中使用 Lua]</font></u></a></li></ul><li>认证考试&nbsp;<ul><li><a href=http://www.high-levelcert.com/><u><font color=#0000ff>[Lua高级认证]</font></u></a> 提供Lua认证考试和相关练习.</li></ul><li>Benchmarks<ul><li><a href=http://cm.bell-labs.com/cm/cs/who/bwk/interps/pap.html><u><font color=#0000ff>[Experiments with Scripting and User-Interface Language]</font></u></a> is a paper by Kernighan and Van Wyk that benchmarks several scripting languages. An <a href=http://www.inf.puc-rio.br/~roberto/bwk-lua.tar.gz><u><font color=#0000ff>[implementation]</font></u></a> of these benchmarks in Lua is available.<li>Doug Bagley's的书： <a href=http://shootout.alioth.debian.org/><u><font color=#0000ff>[Great Computer Language Shootout]</font></u></a> 的更新版本.还有一个不太新的<a href=http://dada.perl.it/shootout/><u><font color=#0000ff>[Windows版本]</font></u></a> .</li></ul><li>语言比较&nbsp;<ul><li><a href=http://www.latech.edu/~acm/HelloWorld.shtml><u><font color=#0000ff>[Hello World!]</font></u></a><li><a href=http://kevin.alteu.com/code/helloyou/index.html><u><font color=#0000ff>[Hello You]</font></u></a>: <a href=http://kevin.alteu.com/code/helloyou/lua.html><u><font color=#0000ff>[Lua entry]</font></u></a>.<li><a href=http://www.99-bottles-of-beer.net/><u><font color=#0000ff>[99 Bottles of Beer]</font></u></a>: <a href=http://www.99-bottles-of-beer.net/language-lua-365.html><u><font color=#0000ff>[Lua entry]</font></u></a>.<li><a href=http://www.miranda.org/~jkominek/rot13/><u><font color=#0000ff>[ROT13]</font></u></a>: <a href=http://www.miranda.org/~jkominek/rot13/lua/><u><font color=#0000ff>[Lua entry]</font></u></a><li><a href=http://www.nyx.net/~gthompso/quine.htm><u><font color=#0000ff>[The Quine Page]</font></u></a><li><a href=http://www.angelfire.com/tx4/cus/shapes/index.html><u><font color=#0000ff>[OO 例子]</font></u></a><li><a href=http://www.kochandreas.com/home/language/lang.htm><u><font color=#0000ff>[APLC: Andreas' 实践语言对比]</font></u></a>.<li><a href=http://***.sourceforge.net/pixel/language-study/scripting-language/><u><font color=#0000ff>[Scriptometer]</font></u></a><li><a href=http://***.sourceforge.net/pixel/language-study/syntax-across-languages.html><u><font color=#0000ff>[Syntax accross languages]</font></u></a> (Big page!)<li><a href=http://www.ntecs.de/old-hp/uu9r/lang/html/lang.en.html><u><font color=#0000ff>[Michael Neumann's关于语言的比较]</font></u></a><li><a href=http://csl.sublevel3.org/lua/><u><font color=#0000ff>[与C++一起使用Lua:简短的教程]</font></u></a><li><a href=http://pleac.sourceforge.net/><u><font color=#0000ff>[PLEAC - 类似食谱一样的编程语言例子]</font></u></a></li></ul><li>Lua 其他相关站点<ul><li><a href="http://groups.google.com/groups?as_q=Lua&amp;num=20&amp;as_scoring=date&amp;btnG=Google+Search&amp;as_ugroup=comp.*+*game*&amp;as_drrb=quick"><u><font color=#0000ff>[Lua使用指南]</font></u></a>,&nbsp;来自 <a href=http://groups.google.com/><u><font color=#0000ff>[Google Groups]</font></u></a>.<li><a href="http://www.ddj.com/topics/altlang/sites.htm?topic=altlang"><u><font color=#0000ff>[Dr. Dobb's 的脚本语言列表]</font></u></a>.<li><a href=http://www.idiom.com/free-compilers/><u><font color=#0000ff>[免费的编译器和解释器分类]</font></u></a>: <a href=http://www.idiom.com/free-compilers/TOOL/lua-1.html><u><font color=#0000ff>[Lua entry]</font></u></a>.<li><a href=http://www.erols.com/ziring/dopl.html><u><font color=#0000ff>[编程语言字典]</font></u></a>: <a href="http://cgibin.erols.com/ziring/cgi-bin/cep/cep.pl?_key=Lua"><u><font color=#0000ff>[Lua entry]</font></u></a>.<li><a href=http://sal.kachinatech.com/><u><font color=#0000ff>[SAL, Linux上的科学上的应用]</font></u></a>: <a href=http://sal.kachinatech.com/F/1/LUA.html><u><font color=#0000ff>[Lua entry]</font></u></a> (site no longer exists?).<li><a href=http://freshmeat.net/><u><font color=#0000ff>[Freshmeat]</font></u></a>: <a href=http://freshmeat.net/projects/lua/><u><font color=#0000ff>[Lua entry]</font></u></a>.<li><a href=http://www.freebsd.org/><u><font color=#0000ff>[FreeBSD]</font></u></a>: <a href=http://www.freebsd.org/ports/lang.html><u><font color=#0000ff>[Lua entry]</font></u></a>.<li><a href=http://www.netbsd.org/><u><font color=#0000ff>[NetBSD]</font></u></a>: <a href=ftp://ftp.netbsd.org/pub/NetBSD/packages/pkgsrc/lang/lua/README.html><u><font color=#0000ff>[Lua entry]</font></u></a>.<li><a href=http://www.mathtools.net/><u><font color=#0000ff>[Mathtools.net]</font></u></a>: <a href=http://www.mathtools.net/C++/Interpreters/Other/><u><font color=#0000ff>[Lua entry]</font></u></a> (404 error).<li><a href=http://www.wikipedia.com/><u><font color=#0000ff>[Wikipedia]</font></u></a>: <a href=http://wikipedia.org/wiki/Lua_programming_language><u><font color=#0000ff>[Lua entry]</font></u></a>.<li><a href=http://www.conectiva.com/><u><font color=#0000ff>[Conectiva]</font></u></a>: <a href=http://snapshot.conectiva.com/SRPMS/Interpreters/lua.html><u><font color=#0000ff>[Lua entry]</font></u></a> (404 error).<li><a href=http://www.hypernews.org/HyperNews/get/computing/lang-list.html><u><font color=#0000ff>[Hypernews Computer Language List]</font></u></a>.<li><a href=http://wuarchive.wustl.edu/doc/misc/lang-list.txt><u><font color=#0000ff>[语言列表- Version 2.4]</font></u></a> (开始于1995年! 现在404错误,&nbsp;到 <a href=http://wuarchive.wustl.edu/><u><font color=#0000ff>[主页]</font></u></a> 察看原因).<li><a href=http://cliki.tunes.org/Programming%20Languages><u><font color=#0000ff>[现存语言的评论]</font></u></a>: <a href=http://cliki.tunes.org/LUA><u><font color=#0000ff>[Lua entry]</font></u></a>.<li><a href=http://dmoz.org/><u><font color=#0000ff>[开源的工程目录]</font></u></a>: <a href=http://dmoz.org/Computers/Programming/Languages/Lua/><u><font color=#0000ff>[Lua entry]</font></u></a>.<li><a href=http://www.gnu.org/directory/><u><font color=#0000ff>[GNU 自由软件目录]</font></u></a>: <a href=http://www.gnu.org/directory/lua.html><u><font color=#0000ff>[Lua entry]</font></u></a>.<li><a href=http://www.scriptol.org/choose.php><u><font color=#0000ff>[流行的脚本语言]</font></u></a></li></ul></li></ul></div><footer class=post-footer><div class=post-button><a class=btn href=/post/lua-useful-resources-links/#more rel=contents>阅读全文 &#187;</a></div><div class=post-eof></div></footer></article></div><div class=post-block><article itemscope itemtype=http://schema.org/Article class=post-content lang><link itemprop=mainEntityOfPage href=https://blogs.qipai360.cn/post/windows-nt-2000-xp-ring0-implementation-without-driver/><span hidden itemprop=author itemscope itemtype=http://schema.org/Person><meta itemprop=image content="/imgs/avatar.jpg"><meta itemprop=name content="Rise"></span><span hidden itemprop=publisher itemscope itemtype=http://schema.org/Organization><meta itemprop=name content="Rise"><meta itemprop=description content="福兮祸兮，焉知所依？冬去冰泮，春来萌荣。朝生暮死，亦可惊鸿。知足者富，自足者强。"></span><span hidden itemprop=post itemscope itemtype=http://schema.org/CreativeWork><meta itemprop=name content="Windows NT/2000/XP下不用驱动的Ring0代码实现"><meta itemprop=description content='大家知道，Windows NT/2000为实现其可靠性，严格将系统划分为内核模式与用户模式，在i386系统中分别对应CPU的Ring0与Ring3级别。Ring0下，可以执行特权级指令，对任何I/O设备都有访问权等等。要实现从用户态进入核心态，即从Ring 3进入Ring 0必须借助CPU的某种门机制，如中断门、调用门等。而Windows NT/2000提供用户态执行系统服务(Ring 0例程)的此类机制即System Service的int 2eh中断服务等，严格的参数检查，只能严格的执行Windows NT/2000提供的服务，而如果想执行用户提供的Ring 0代码(指运行在Ring 0权限的代码)，常规方法似乎只有编写设备驱动程序。本文将介绍一种在用户态不借助任何驱动程序执行Ring0代码的方法。    Windows NT/2000将设备驱动程序调入内核区域(常见的位于地址0x80000000上)，由DPL为0的GDT项8，即cs为8时实现Ring 0权限。本文通过在系统中构造一个指向我们的代码的调用门(CallGate)，实现Ring0代码。基于这个思路，为实现这个目的主要是构造自己的CallGate。CallGate由系统中叫Global Descriptor Table(GDT)的全局表指定。GDT地址可由i386指令sgdt获得(sgdt不是特权级指令，普通Ring 3程序均可执行)。GDT地址在Windows NT/2000保存于KPCR(Processor Control Region)结构中(见《再谈Windows NT/2000环境切换》)。GDT中的CallGate是如下的格式：    typedef struct    {        unsigned short  offset_0_15;        unsigned short  selector;        unsigned char    param_count : 4;        unsigned char    some_bits   : 4;        unsigned char    type        : 4;        unsigned char    app_system  : 1;        unsigned char    dpl         : 2;        unsigned char    present     : 1;            unsigned short  offset_16_31;    } CALLGATE_DESCRIPTOR;    GDT位于内核区域，一般用户态的程序是不可能对这段内存区域有直接的访问权。幸运的是Windows NT/2000提供了一个叫PhysicalMemory的Section内核对象位于\Device的路径下。顾名思义，通过这个Section对象可以对物理内存进行操作。用objdir.exe对这个对象分析如下：    C:\NTDDK\bin>objdir /D \Device    PhysicalMemory                           Section        DACL -            Ace[ 0] - Grant - 0xf001f - NT AUTHORITY\SYSTEM                             Inherit:                              Access: 0x001F  and  ( D RCtl WOwn WDacl )           Ace[ 1] - Grant - 0x2000d - BUILTIN\Administrators                             Inherit:                              Access: 0x000D  and  ( RCtl )    从dump出的这个对象DACL的Ace可以看出默认情况下只有SYSTEM用户才有对这个对象的读写权限，即对物理内存有读写能力，而Administrator只有读权限，普通用户根本就没有权限。不过如果我们有Administrator权限就可以通过GetSecurityInfo、SetEntriesInAcl与SetSecurityInfo这些API来修改这个对象的ACE。这也是我提供的代码需要Administrator的原因。实现的代码如下：    VOID SetPhyscialMemorySectionCanBeWrited(HANDLE hSection)    {       PACL pDacl=NULL;       PACL pNewDacl=NULL;       PSECURITY_DESCRIPTOR pSD=NULL;       DWORD dwRes;       EXPLICIT_ACCESS ea;       if(dwRes=GetSecurityInfo(hSection,SE_KERNEL_OBJECT,DACL_SECURITY_INFORMATION,                  NULL,NULL,&amp;pDacl,NULL,&amp;pSD)!=ERROR_SUCCESS)          {             printf( &ldquo;GetSecurityInfo Error %u\n&rdquo;, dwRes );             goto CleanUp;          }       ZeroMemory(&amp;ea, sizeof(EXPLICIT_ACCESS));       ea.grfAccessPermissions = SECTION_MAP_WRITE;       ea.grfAccessMode = GRANT_ACCESS;       ea.grfInheritance= NO_INHERITANCE;       ea.Trustee.TrusteeForm = TRUSTEE_IS_NAME;       ea.Trustee.TrusteeType = TRUSTEE_IS_USER;       ea.Trustee.ptstrName = &ldquo;CURRENT_USER&rdquo;;       if(dwRes=SetEntriesInAcl(1,&amp;ea,pDacl,&amp;pNewDacl)!=ERROR_SUCCESS)          {             printf( &ldquo;SetEntriesInAcl %u\n&rdquo;, dwRes );             goto CleanUp;          }       if(dwRes=SetSecurityInfo(hSection,SE_KERNEL_OBJECT,DACL_SECURITY_INFORMATION,NULL,NULL,pNewDacl,NULL)!=ERROR_SUCCESS)          {             printf(&ldquo;SetSecurityInfo %u\n&rdquo;,dwRes);             goto CleanUp;          }    CleanUp:       if(pSD)          LocalFree(pSD);       if(pNewDacl)          LocalFree(pSD);    }    这段代码对给定HANDLE的对象增加了如下的ACE:     PhysicalMemory                           Section        DACL -            Ace[ 0] - Grant - 0x2 - WEBCRAZY\Administrator                             Inherit:                              Access: 0x0002    //SECTION_MAP_WRITE    这样我们在有Administrator权限的条件下就有了对物理内存的读写能力。但若要修改GDT表实现Ring 0代码。我们将面临着另一个难题，因为sgdt指令获得的GDT地址是虚拟地址(线性地址)，我们只有知道GDT表的物理地址后才能通过\Device\PhysicalMemory对象修改GDT表，这就牵涉到了线性地址转化成物理地址的问题。我们先来看一看Windows NT/2000是如何实现这个的：    kd> u nt!MmGetPhysicalAddress l 30    ntoskrnl!MmGetPhysicalAddress:    801374e0 56               push    esi    801374e1 8b742408         mov     esi,[esp+0x8]    801374e5 33d2             xor     edx,edx    801374e7 81fe00000080     cmp     esi,0x80000000    801374ed 722c             jb    ntoskrnl!MmGetPhysicalAddress+0x2b (8013751b)    801374ef 81fe000000a0     cmp     esi,0xa0000000    801374f5 7324             jnb   ntoskrnl!MmGetPhysicalAddress+0x2b (8013751b)    801374f7 39153ce71780     cmp     [ntoskrnl!MmKseg2Frame (8017e73c)],edx    801374fd 741c             jz    ntoskrnl!MmGetPhysicalAddress+0x2b (8013751b)    801374ff 8bc6             mov     eax,esi    80137501 c1e80c           shr     eax,0xc    80137504 25ffff0100       and     eax,0x1ffff    80137509 6a0c             push    0xc    8013750b 59               pop     ecx    8013750c e8d3a7fcff       call    ntoskrnl!_allshl (80101ce4)    80137511 81e6ff0f0000     and     esi,0xfff    80137517 03c6             add     eax,esi    80137519 eb17             jmp   ntoskrnl!MmGetPhysicalAddress+0x57 (80137532)    8013751b 8bc6             mov     eax,esi    8013751d c1e80a           shr     eax,0xa    80137520 25fcff3f00       and     eax,0x3ffffc    80137525 2d00000040       sub     eax,0x40000000    8013752a 8b00             mov     eax,[eax]    8013752c a801             test    al,0x1    8013752e 7506             jnz   ntoskrnl!MmGetPhysicalAddress+0x44 (80137536)    80137530 33c0             xor     eax,eax    80137532 5e               pop     esi    80137533 c20400           ret     0x4    从这段汇编代码可看出如果线性地址在0x80000000与0xa0000000范围内，只是简单的进行移位操作(位于801374ff-80137519指令间)，并未查页表。我想Microsoft这样安排肯定是出于执行效率的考虑。这也为我们指明了一线曙光，因为GDT表在Windows NT/2000中一般情况下均位于这个区域(我不知道/3GB开关的Windows NT/2000是不是这种情况)。    经过这样的分析，我们就可以只通过用户态程序修改GDT表了。而增加一个CallGate就不是我可以介绍的了，找本Intel手册自己看一看了。具体实现代码如下：    typedef struct gdtr {        short Limit;        short BaseLow;        short BaseHigh;    } Gdtr_t, PGdtr_t;    ULONG MiniMmGetPhysicalAddress(ULONG virtualaddress)    {        if(virtualaddress<0x80000000||virtualaddress>=0xA0000000)           return 0;        return virtualaddress&amp;0x1FFFF000;    }    BOOL ExecRing0Proc(ULONG Entry,ULONG seglen)    {       Gdtr_t gdt;       __asm sgdt gdt;            ULONG mapAddr=MiniMmGetPhysicalAddress(gdt.BaseHigh<<16U|gdt.BaseLow);       if(!mapAddr) return 0;       HANDLE   hSection=NULL;       NTSTATUS status;       OBJECT_ATTRIBUTES        objectAttributes;       UNICODE_STRING objName;       CALLGATE_DESCRIPTOR cg;       status = STATUS_SUCCESS;          RtlInitUnicodeString(&amp;objName,L"\Device\PhysicalMemory");       InitializeObjectAttributes(&amp;objectAttributes,                                  &amp;objName,                                  OBJ_CASE_INSENSITIVE | OBJ_KERNEL_HANDLE,                                  NULL,                                 (PSECURITY_DESCRIPTOR) NULL);       status = ZwOpenSection(&amp;hSection,SECTION_MAP_READ|SECTION_MAP_WRITE,&amp;objectAttributes);       if(status == STATUS_ACCESS_DENIED){          status = ZwOpenSection(&amp;hSection,READ_CONTROL|WRITE_DAC,&amp;objectAttributes);          SetPhyscialMemorySectionCanBeWrited(hSection);          ZwClose(hSection);          status =ZwOpenSection(&amp;hSection,SECTION_MAP_WRITE|SECTION_MAP_WRITE,&amp;objectAttributes);       }       if(status != STATUS_SUCCESS)         {            printf(&ldquo;Error Open PhysicalMemory Section Object,Status:%08X\n&rdquo;,status);            return 0;         }             PVOID BaseAddress;       BaseAddress=MapViewOfFile(hSection,                     FILE_MAP_READ|FILE_MAP_WRITE,                     0,                     mapAddr,    //low part                     (gdt.Limit+1));       if(!BaseAddress)          {             printf(&ldquo;Error MapViewOfFile:&rdquo;);             PrintWin32Error(GetLastError());             return 0;          }       BOOL setcg=FALSE;       for(cg=(CALLGATE_DESCRIPTOR )((ULONG)BaseAddress+(gdt.Limit&amp;0xFFF8));(ULONG)cg>(ULONG)BaseAddress;cg&ndash;)           if(cg->type == 0){             cg->offset_0_15 = LOWORD(Entry);             cg->selector = 8;             cg->param_count = 0;             cg->some_bits = 0;             cg->type = 0xC;          // 386 call gate             cg->app_system = 0;      // A system descriptor             cg->dpl = 3;             // Ring 3 code can call             cg->present = 1;             cg->offset_16_31 = HIWORD(Entry);             setcg=TRUE;             break;          }       if(!setcg){            ZwClose(hSection);            return 0;       }       short farcall[3];       farcall[2]=((short)((ULONG)cg-(ULONG)BaseAddress))|3;  //Ring 3 callgate;       if(!VirtualLock((PVOID)Entry,seglen))          {             printf(&ldquo;Error VirtualLock:&rdquo;);             PrintWin32Error(GetLastError());             return 0;          }       SetThreadPriority(GetCurrentThread(),THREAD_PRIORITY_TIME_CRITICAL);       Sleep(0);       _asm call fword ptr [farcall]       SetThreadPriority(GetCurrentThread(),THREAD_PRIORITY_NORMAL);       VirtualUnlock((PVOID)Entry,seglen);       //Clear callgate       (ULONG )cg=0;       ((ULONG *)cg+1)=0;       ZwClose(hSection);       return TRUE;    }    我在提供的代码中演示了对Control Register与I/O端口的操作。CIH病毒在Windows 9X中就是因为获得Ring 0权限才有了一定的危害，但Windows NT/2000毕竟不是Windows 9X，她已经有了比较多的安全审核机制，本文提供的代码也要求具有Administrator权限，但如果系统存在某种漏洞，如缓冲区溢出等等，还是有可能获得这种权限的，所以我不对本文提供的方法负有任何的责任，所有讨论只是一个技术热爱者在讨论技术而已。谢谢！     参考资料：      1.Intel Corp<<Intel Architecture Software Developer&rsquo;s Manual,Volume 3>>  代码下载:http://www.cnblogs.com/Files/flying_bat/ntring0.zip'></span><header class=post-header><h2 class=post-title itemprop="name headline"><a href=/post/windows-nt-2000-xp-ring0-implementation-without-driver/ itemprop=url class=post-title-link>Windows NT/2000/XP下不用驱动的Ring0代码实现</a></h2><div class=post-meta-container><div class=post-meta-items><span class=post-meta-item><span class=post-meta-item-icon><i class="fas fa-solid fa-calendar"></i>
</span><span class=post-meta-item-text title=发表于>发表于：
</span><time title="创建时间：2007年09月21日 09:38:00 CST" itemprop="dateCreated datePublished" datetime="2007-09-21 09:38:00 +0800 +0800">2007年09月21日
</time></span><span class=post-meta-item><span class=post-meta-item-icon><i class="fas fa-solid fa-calendar-check"></i>
</span><span class=post-meta-item-text title=更新于>更新于：
</span><time title="修改时间：2007年09月21日 09:40:00 CST" itemprop="dateModified dateLastmod" datetime="2007-09-21 09:40:00 +0800 +0800">2007年09月21日
</time></span><span class=post-meta-item><span class=post-meta-item-icon><i class="fas fa-solid fa-folder-open"></i>
</span><span class=post-meta-item-text title=分类于>分类于：
</span><span itemprop=about itemscope itemtype=http://schema.org/Thing><a href=/categories/safe/ itemprop=url rel=index><span itemprop=name>dev/Safe</span>
</a></span></span><span class=post-meta-item title=浏览><span class=post-meta-item-icon><i class="fas fa-solid fa-eye"></i>
</span><span class=post-meta-item-text>浏览：
</span><span id=pageview-count data-path=/post/windows-nt-2000-xp-ring0-implementation-without-driver/><i class="fa fa-sync fa-spin"></i></span></span></div></div></header><div class=post-body itemprop=articleBody><p>大家知道，Windows NT/2000为实现其可靠性，严格将系统划分为内核模式与用户模式，在i386系统中分别对应CPU的Ring0与Ring3级别。Ring0下，可以执行特权级指令，对任何I/O设备都有访问权等等。要实现从用户态进入核心态，即从Ring 3进入Ring 0必须借助CPU的某种门机制，如中断门、调用门等。而Windows NT/2000提供用户态执行系统服务(Ring 0例程)的此类机制即System Service的int 2eh中断服务等，严格的参数检查，只能严格的执行Windows NT/2000提供的服务，而如果想执行用户提供的Ring 0代码(指运行在Ring 0权限的代码)，常规方法似乎只有编写设备驱动程序。本文将介绍一种在用户态不借助任何驱动程序执行Ring0代码的方法。<br><br>    Windows NT/2000将设备驱动程序调入内核区域(常见的位于地址0x80000000上)，由DPL为0的GDT项8，即cs为8时实现Ring 0权限。本文通过在系统中构造一个指向我们的代码的调用门(CallGate)，实现Ring0代码。基于这个思路，为实现这个目的主要是构造自己的CallGate。CallGate由系统中叫Global Descriptor Table(GDT)的全局表指定。GDT地址可由i386指令sgdt获得(sgdt不是特权级指令，普通Ring 3程序均可执行)。GDT地址在Windows NT/2000保存于KPCR(Processor Control Region)结构中(见《再谈Windows NT/2000环境切换》)。GDT中的CallGate是如下的格式：<br><br>    typedef struct<br>    {<br>        unsigned short  offset_0_15;<br>        unsigned short  selector;<br><br>        unsigned char    param_count : 4;<br>        unsigned char    some_bits   : 4;<br><br>        unsigned char    type        : 4;<br>        unsigned char    app_system  : 1;<br>        unsigned char    dpl         : 2;<br>        unsigned char    present     : 1;<br>    <br>        unsigned short  offset_16_31;<br>    } CALLGATE_DESCRIPTOR;<br><br>    GDT位于内核区域，一般用户态的程序是不可能对这段内存区域有直接的访问权。幸运的是Windows NT/2000提供了一个叫PhysicalMemory的Section内核对象位于\Device的路径下。顾名思义，通过这个Section对象可以对物理内存进行操作。用objdir.exe对这个对象分析如下：<br><br>    C:\NTDDK\bin>objdir /D \Device<br><br>    PhysicalMemory                   <br>        Section<br>        DACL - <br>           Ace[ 0] - Grant - 0xf001f - NT AUTHORITY\SYSTEM<br>                             Inherit: <br>                             Access: 0x001F  and  ( D RCtl WOwn WDacl )<br><br>           Ace[ 1] - Grant - 0x2000d - BUILTIN\Administrators<br>                             Inherit: <br>                             Access: 0x000D  and  ( RCtl )<br><br>    从dump出的这个对象DACL的Ace可以看出默认情况下只有SYSTEM用户才有对这个对象的读写权限，即对物理内存有读写能力，而Administrator只有读权限，普通用户根本就没有权限。不过如果我们有Administrator权限就可以通过GetSecurityInfo、SetEntriesInAcl与SetSecurityInfo这些API来修改这个对象的ACE。这也是我提供的代码需要Administrator的原因。实现的代码如下：<br><br>    VOID SetPhyscialMemorySectionCanBeWrited(HANDLE hSection)<br>    {<br><br>       PACL pDacl=NULL;<br>       PACL pNewDacl=NULL;<br>       PSECURITY_DESCRIPTOR pSD=NULL;<br>       DWORD dwRes;<br>       EXPLICIT_ACCESS ea;<br><br>       if(dwRes=GetSecurityInfo(hSection,SE_KERNEL_OBJECT,DACL_SECURITY_INFORMATION,<br>                  NULL,NULL,&amp;pDacl,NULL,&amp;pSD)!=ERROR_SUCCESS)<br>          {<br>             printf( &ldquo;GetSecurityInfo Error %u\n&rdquo;, dwRes );<br>             goto CleanUp;<br>          }<br><br>       ZeroMemory(&amp;ea, sizeof(EXPLICIT_ACCESS));<br>       ea.grfAccessPermissions = SECTION_MAP_WRITE;<br>       ea.grfAccessMode = GRANT_ACCESS;<br>       ea.grfInheritance= NO_INHERITANCE;<br>       ea.Trustee.TrusteeForm = TRUSTEE_IS_NAME;<br>       ea.Trustee.TrusteeType = TRUSTEE_IS_USER;<br>       ea.Trustee.ptstrName = &ldquo;CURRENT_USER&rdquo;;<br><br><br>       if(dwRes=SetEntriesInAcl(1,&amp;ea,pDacl,&amp;pNewDacl)!=ERROR_SUCCESS)<br>          {<br>             printf( &ldquo;SetEntriesInAcl %u\n&rdquo;, dwRes );<br>             goto CleanUp;<br>          }<br><br>       if(dwRes=SetSecurityInfo(hSection,SE_KERNEL_OBJECT,DACL_SECURITY_INFORMATION,NULL,NULL,pNewDacl,NULL)!=ERROR_SUCCESS)<br>          {<br>             printf(&ldquo;SetSecurityInfo %u\n&rdquo;,dwRes);<br>             goto CleanUp;<br>          }<br><br>    CleanUp:<br><br>       if(pSD)<br>          LocalFree(pSD);<br>       if(pNewDacl)<br>          LocalFree(pSD);<br>    }<br><br>    这段代码对给定HANDLE的对象增加了如下的ACE:<br><br>    PhysicalMemory                   <br>        Section<br>        DACL - <br>           Ace[ 0] - Grant - 0x2 - WEBCRAZY\Administrator<br>                             Inherit: <br>                             Access: 0x0002    //SECTION_MAP_WRITE<br><br>    这样我们在有Administrator权限的条件下就有了对物理内存的读写能力。但若要修改GDT表实现Ring 0代码。我们将面临着另一个难题，因为sgdt指令获得的GDT地址是虚拟地址(线性地址)，我们只有知道GDT表的物理地址后才能通过\Device\PhysicalMemory对象修改GDT表，这就牵涉到了线性地址转化成物理地址的问题。我们先来看一看Windows NT/2000是如何实现这个的：<br><br>    kd> u nt!MmGetPhysicalAddress l 30<br>    ntoskrnl!MmGetPhysicalAddress:<br>    801374e0 56               push    esi<br>    801374e1 8b742408         mov     esi,[esp+0x8]<br>    801374e5 33d2             xor     edx,edx<br>    801374e7 81fe00000080     cmp     esi,0x80000000<br>    801374ed 722c             jb    ntoskrnl!MmGetPhysicalAddress+0x2b (8013751b)<br>    801374ef 81fe000000a0     cmp     esi,0xa0000000<br>    801374f5 7324             jnb   ntoskrnl!MmGetPhysicalAddress+0x2b (8013751b)<br>    801374f7 39153ce71780     cmp     [ntoskrnl!MmKseg2Frame (8017e73c)],edx<br>    801374fd 741c             jz    ntoskrnl!MmGetPhysicalAddress+0x2b (8013751b)<br>    801374ff 8bc6             mov     eax,esi<br>    80137501 c1e80c           shr     eax,0xc<br>    80137504 25ffff0100       and     eax,0x1ffff<br>    80137509 6a0c             push    0xc<br>    8013750b 59               pop     ecx<br>    8013750c e8d3a7fcff       call    ntoskrnl!_allshl (80101ce4)<br>    80137511 81e6ff0f0000     and     esi,0xfff<br>    80137517 03c6             add     eax,esi<br>    80137519 eb17             jmp   ntoskrnl!MmGetPhysicalAddress+0x57 (80137532)<br>    8013751b 8bc6             mov     eax,esi<br>    8013751d c1e80a           shr     eax,0xa<br>    80137520 25fcff3f00       and     eax,0x3ffffc<br>    80137525 2d00000040       sub     eax,0x40000000<br>    8013752a 8b00             mov     eax,[eax]<br>    8013752c a801             test    al,0x1<br>    8013752e 7506             jnz   ntoskrnl!MmGetPhysicalAddress+0x44 (80137536)<br>    80137530 33c0             xor     eax,eax<br>    80137532 5e               pop     esi<br>    80137533 c20400           ret     0x4<br><br>    从这段汇编代码可看出如果线性地址在0x80000000与0xa0000000范围内，只是简单的进行移位操作(位于801374ff-80137519指令间)，并未查页表。我想Microsoft这样安排肯定是出于执行效率的考虑。这也为我们指明了一线曙光，因为GDT表在Windows NT/2000中一般情况下均位于这个区域(我不知道/3GB开关的Windows NT/2000是不是这种情况)。<br><br>    经过这样的分析，我们就可以只通过用户态程序修改GDT表了。而增加一个CallGate就不是我可以介绍的了，找本Intel手册自己看一看了。具体实现代码如下：<br><br>    typedef struct gdtr {<br>        short Limit;<br>        short BaseLow;<br>        short BaseHigh;<br>    } Gdtr_t, <em>PGdtr_t;<br><br>    ULONG MiniMmGetPhysicalAddress(ULONG virtualaddress)<br>    {<br>        if(virtualaddress&lt;0x80000000||virtualaddress>=0xA0000000)<br>           return 0;<br>        return virtualaddress&amp;0x1FFFF000;<br>    }<br><br>    BOOL ExecRing0Proc(ULONG Entry,ULONG seglen)<br>    {<br>       Gdtr_t gdt;<br>       __asm sgdt gdt;<br>     <br>       ULONG mapAddr=MiniMmGetPhysicalAddress(gdt.BaseHigh&lt;&lt;16U|gdt.BaseLow);<br>       if(!mapAddr) return 0;<br><br>       HANDLE   hSection=NULL;<br>       NTSTATUS status;<br>       OBJECT_ATTRIBUTES        objectAttributes;<br>       UNICODE_STRING objName;<br>       CALLGATE_DESCRIPTOR <em>cg;<br><br>       status = STATUS_SUCCESS;<br>   <br>       RtlInitUnicodeString(&amp;objName,L"\Device\PhysicalMemory");<br><br>       InitializeObjectAttributes(&amp;objectAttributes,<br>                                  &amp;objName,<br>                                  OBJ_CASE_INSENSITIVE | OBJ_KERNEL_HANDLE,<br>                                  NULL,<br>                                 (PSECURITY_DESCRIPTOR) NULL);<br><br>       status = ZwOpenSection(&amp;hSection,SECTION_MAP_READ|SECTION_MAP_WRITE,&amp;objectAttributes);<br><br>       if(status == STATUS_ACCESS_DENIED){<br>          status = ZwOpenSection(&amp;hSection,READ_CONTROL|WRITE_DAC,&amp;objectAttributes);<br>          SetPhyscialMemorySectionCanBeWrited(hSection);<br>          ZwClose(hSection);<br>          status =ZwOpenSection(&amp;hSection,SECTION_MAP_WRITE|SECTION_MAP_WRITE,&amp;objectAttributes);<br>       }<br><br>       if(status != STATUS_SUCCESS)<br>         {<br>            printf(&ldquo;Error Open PhysicalMemory Section Object,Status:%08X\n&rdquo;,status);<br>            return 0;<br>         }<br>      <br>       PVOID BaseAddress;<br><br>       BaseAddress=MapViewOfFile(hSection,<br>                     FILE_MAP_READ|FILE_MAP_WRITE,<br>                     0,<br>                     mapAddr,    //low part<br>                     (gdt.Limit+1));<br><br>       if(!BaseAddress)<br>          {<br>             printf(&ldquo;Error MapViewOfFile:&rdquo;);<br>             PrintWin32Error(GetLastError());<br>             return 0;<br>          }<br><br>       BOOL setcg=FALSE;<br><br>       for(cg=(CALLGATE_DESCRIPTOR </em>)((ULONG)BaseAddress+(gdt.Limit&amp;0xFFF8));(ULONG)cg>(ULONG)BaseAddress;cg&ndash;)<br>           if(cg->type == 0){<br>             cg->offset_0_15 = LOWORD(Entry);<br>             cg->selector = 8;<br>             cg->param_count = 0;<br>             cg->some_bits = 0;<br>             cg->type = 0xC;          // 386 call gate<br>             cg->app_system = 0;      // A system descriptor<br>             cg->dpl = 3;             // Ring 3 code can call<br>             cg->present = 1;<br>             cg->offset_16_31 = HIWORD(Entry);<br>             setcg=TRUE;<br>             break;<br>          }<br><br>       if(!setcg){<br>            ZwClose(hSection);<br>            return 0;<br>       }<br><br>       short farcall[3];<br><br>       farcall[2]=((short)((ULONG)cg-(ULONG)BaseAddress))|3;  //Ring 3 callgate;<br><br>       if(!VirtualLock((PVOID)Entry,seglen))<br>          {<br>             printf(&ldquo;Error VirtualLock:&rdquo;);<br>             PrintWin32Error(GetLastError());<br>             return 0;<br>          }<br><br>       SetThreadPriority(GetCurrentThread(),THREAD_PRIORITY_TIME_CRITICAL);<br><br>       Sleep(0);<br><br>       _asm call fword ptr [farcall]<br><br>       SetThreadPriority(GetCurrentThread(),THREAD_PRIORITY_NORMAL);<br><br>       VirtualUnlock((PVOID)Entry,seglen);<br><br>       //Clear callgate<br>       </em>(ULONG <em>)cg=0;<br>       </em>((ULONG *)cg+1)=0;<br><br>       ZwClose(hSection);<br>       return TRUE;<br><br>    }<br><br>    我在提供的代码中演示了对Control Register与I/O端口的操作。CIH病毒在Windows 9X中就是因为获得Ring 0权限才有了一定的危害，但Windows NT/2000毕竟不是Windows 9X，她已经有了比较多的安全审核机制，本文提供的代码也要求具有Administrator权限，但如果系统存在某种漏洞，如缓冲区溢出等等，还是有可能获得这种权限的，所以我不对本文提供的方法负有任何的责任，所有讨论只是一个技术热爱者在讨论技术而已。谢谢！ <br><br>    参考资料：<br>      1.Intel Corp&lt;&lt;Intel Architecture Software Developer&rsquo;s Manual,Volume 3>>  <br><br><br>代码下载:http://www.cnblogs.com/Files/flying_bat/ntring0.zip</p></div><footer class=post-footer><div class=post-button><a class=btn href=/post/windows-nt-2000-xp-ring0-implementation-without-driver/#more rel=contents>阅读全文 &#187;</a></div><div class=post-eof></div></footer></article></div><div class=post-block><article itemscope itemtype=http://schema.org/Article class=post-content lang><link itemprop=mainEntityOfPage href=https://blogs.qipai360.cn/post/alpha-color-blending-in-d3d-3/><span hidden itemprop=author itemscope itemtype=http://schema.org/Person><meta itemprop=image content="/imgs/avatar.jpg"><meta itemprop=name content="Rise"></span><span hidden itemprop=publisher itemscope itemtype=http://schema.org/Organization><meta itemprop=name content="Rise"><meta itemprop=description content="福兮祸兮，焉知所依？冬去冰泮，春来萌荣。朝生暮死，亦可惊鸿。知足者富，自足者强。"></span><span hidden itemprop=post itemscope itemtype=http://schema.org/CreativeWork><meta itemprop=name content="D3D中的Alpha颜色混合（3）"><meta itemprop=description content="本篇是{% post_link alpha-color-blending-in-D3D-2 &ldquo;D3D中的Alpha颜色混合（2）&rdquo; %}的后续篇。
另一种实现实现背景透明显示的简便方法是直接应用渲染管道流水线的Alpha测试功能进行，{% post_link alpha-color-blending-in-D3D-2 &ldquo;D3D中的Alpha颜色混合（2）&rdquo; %}介绍的接口方法实际就是对Alpha测试的一个包装。Alpha测试是对需要写入绘图表面的像素颜色Alpha值进行测试，判断该Alpha值是否满足预先设定的条件，如果满足条件，则将该像素颜色值写入绘图表面，否则不写入。"></span><header class=post-header><h2 class=post-title itemprop="name headline"><a href=/post/alpha-color-blending-in-d3d-3/ itemprop=url class=post-title-link>D3D中的Alpha颜色混合（3）</a></h2><div class=post-meta-container><div class=post-meta-items><span class=post-meta-item><span class=post-meta-item-icon><i class="fas fa-solid fa-calendar"></i>
</span><span class=post-meta-item-text title=发表于>发表于：
</span><time title="创建时间：2007年09月20日 21:36:00 CST" itemprop="dateCreated datePublished" datetime="2007-09-20 21:36:00 +0800 +0800">2007年09月20日
</time></span><span class=post-meta-item><span class=post-meta-item-icon><i class="fas fa-solid fa-folder-open"></i>
</span><span class=post-meta-item-text title=分类于>分类于：
</span><span itemprop=about itemscope itemtype=http://schema.org/Thing><a href=/categories/gamedev/ itemprop=url rel=index><span itemprop=name>dev/GameDev</span>
</a></span></span><span class=post-meta-item title=浏览><span class=post-meta-item-icon><i class="fas fa-solid fa-eye"></i>
</span><span class=post-meta-item-text>浏览：
</span><span id=pageview-count data-path=/post/alpha-color-blending-in-d3d-3/><i class="fa fa-sync fa-spin"></i></span></span></div></div></header><div class=post-body itemprop=articleBody><p>本篇是{% post_link alpha-color-blending-in-D3D-2 &ldquo;D3D中的Alpha颜色混合（2）&rdquo; %}的后续篇。</p><p>另一种实现实现背景透明显示的简便方法是直接应用渲染管道流水线的Alpha测试功能进行，{% post_link alpha-color-blending-in-D3D-2 &ldquo;D3D中的Alpha颜色混合（2）&rdquo; %}介绍的接口方法实际就是对Alpha测试的一个包装。Alpha测试是对需要写入绘图表面的像素颜色Alpha值进行测试，判断该Alpha值是否满足预先设定的条件，如果满足条件，则将该像素颜色值写入绘图表面，否则不写入。</p></div><footer class=post-footer><div class=post-button><a class=btn href=/post/alpha-color-blending-in-d3d-3/#more rel=contents>阅读全文 &#187;</a></div><div class=post-eof></div></footer></article></div><div class=post-block><article itemscope itemtype=http://schema.org/Article class=post-content lang><link itemprop=mainEntityOfPage href=https://blogs.qipai360.cn/post/alpha-color-blending-in-d3d-2/><span hidden itemprop=author itemscope itemtype=http://schema.org/Person><meta itemprop=image content="/imgs/avatar.jpg"><meta itemprop=name content="Rise"></span><span hidden itemprop=publisher itemscope itemtype=http://schema.org/Organization><meta itemprop=name content="Rise"><meta itemprop=description content="福兮祸兮，焉知所依？冬去冰泮，春来萌荣。朝生暮死，亦可惊鸿。知足者富，自足者强。"></span><span hidden itemprop=post itemscope itemtype=http://schema.org/CreativeWork><meta itemprop=name content="D3D中的Alpha颜色混合（2）"><meta itemprop=description content="本篇是{% post_link alpha-color-blending-in-D3D-1 &ldquo;D3D中的Alpha颜色混合（1）&rdquo; %}的后续篇，主要讲利用ID3DXSprite来实现图片间的颜色透明效果。"></span><header class=post-header><h2 class=post-title itemprop="name headline"><a href=/post/alpha-color-blending-in-d3d-2/ itemprop=url class=post-title-link>D3D中的Alpha颜色混合（2）</a></h2><div class=post-meta-container><div class=post-meta-items><span class=post-meta-item><span class=post-meta-item-icon><i class="fas fa-solid fa-calendar"></i>
</span><span class=post-meta-item-text title=发表于>发表于：
</span><time title="创建时间：2007年09月20日 21:35:00 CST" itemprop="dateCreated datePublished" datetime="2007-09-20 21:35:00 +0800 +0800">2007年09月20日
</time></span><span class=post-meta-item><span class=post-meta-item-icon><i class="fas fa-solid fa-folder-open"></i>
</span><span class=post-meta-item-text title=分类于>分类于：
</span><span itemprop=about itemscope itemtype=http://schema.org/Thing><a href=/categories/gamedev/ itemprop=url rel=index><span itemprop=name>dev/GameDev</span>
</a></span></span><span class=post-meta-item title=浏览><span class=post-meta-item-icon><i class="fas fa-solid fa-eye"></i>
</span><span class=post-meta-item-text>浏览：
</span><span id=pageview-count data-path=/post/alpha-color-blending-in-d3d-2/><i class="fa fa-sync fa-spin"></i></span></span></div></div></header><div class=post-body itemprop=articleBody><p>本篇是{% post_link alpha-color-blending-in-D3D-1 &ldquo;D3D中的Alpha颜色混合（1）&rdquo; %}的后续篇，主要讲利用ID3DXSprite来实现图片间的颜色透明效果。</p></div><footer class=post-footer><div class=post-button><a class=btn href=/post/alpha-color-blending-in-d3d-2/#more rel=contents>阅读全文 &#187;</a></div><div class=post-eof></div></footer></article></div><div class=post-block><article itemscope itemtype=http://schema.org/Article class=post-content lang><link itemprop=mainEntityOfPage href=https://blogs.qipai360.cn/post/alpha-color-blending-in-d3d-1/><span hidden itemprop=author itemscope itemtype=http://schema.org/Person><meta itemprop=image content="/imgs/avatar.jpg"><meta itemprop=name content="Rise"></span><span hidden itemprop=publisher itemscope itemtype=http://schema.org/Organization><meta itemprop=name content="Rise"><meta itemprop=description content="福兮祸兮，焉知所依？冬去冰泮，春来萌荣。朝生暮死，亦可惊鸿。知足者富，自足者强。"></span><span hidden itemprop=post itemscope itemtype=http://schema.org/CreativeWork><meta itemprop=name content="D3D中的Alpha颜色混合（1）"><meta itemprop=description content="渲染管道流水线通常需要将来自顶点的颜色，纹理像素的颜色，光照颜色以及物体表面材质反射光颜色进行混合，生成计算机屏幕的像素颜色。将多种颜色混合在一起，必须考虑各种颜色的成分比例，这个比例由Alpha因子决定。对于游戏开发来说，利用Alpha颜色混合可产生背景透明的渲染效果。"></span><header class=post-header><h2 class=post-title itemprop="name headline"><a href=/post/alpha-color-blending-in-d3d-1/ itemprop=url class=post-title-link>D3D中的Alpha颜色混合（1）</a></h2><div class=post-meta-container><div class=post-meta-items><span class=post-meta-item><span class=post-meta-item-icon><i class="fas fa-solid fa-calendar"></i>
</span><span class=post-meta-item-text title=发表于>发表于：
</span><time title="创建时间：2007年09月20日 21:34:00 CST" itemprop="dateCreated datePublished" datetime="2007-09-20 21:34:00 +0800 +0800">2007年09月20日
</time></span><span class=post-meta-item><span class=post-meta-item-icon><i class="fas fa-solid fa-folder-open"></i>
</span><span class=post-meta-item-text title=分类于>分类于：
</span><span itemprop=about itemscope itemtype=http://schema.org/Thing><a href=/categories/gamedev/ itemprop=url rel=index><span itemprop=name>dev/GameDev</span>
</a></span></span><span class=post-meta-item title=浏览><span class=post-meta-item-icon><i class="fas fa-solid fa-eye"></i>
</span><span class=post-meta-item-text>浏览：
</span><span id=pageview-count data-path=/post/alpha-color-blending-in-d3d-1/><i class="fa fa-sync fa-spin"></i></span></span></div></div></header><div class=post-body itemprop=articleBody><p>渲染管道流水线通常需要将来自顶点的颜色，纹理像素的颜色，光照颜色以及物体表面材质反射光颜色进行混合，生成计算机屏幕的像素颜色。将多种颜色混合在一起，必须考虑各种颜色的成分比例，这个比例由Alpha因子决定。对于游戏开发来说，利用Alpha颜色混合可产生背景透明的渲染效果。</p></div><footer class=post-footer><div class=post-button><a class=btn href=/post/alpha-color-blending-in-d3d-1/#more rel=contents>阅读全文 &#187;</a></div><div class=post-eof></div></footer></article></div><div class=post-block><article itemscope itemtype=http://schema.org/Article class=post-content lang><link itemprop=mainEntityOfPage href=https://blogs.qipai360.cn/post/verify-microsoft-digital-signature/><span hidden itemprop=author itemscope itemtype=http://schema.org/Person><meta itemprop=image content="/imgs/avatar.jpg"><meta itemprop=name content="Rise"></span><span hidden itemprop=publisher itemscope itemtype=http://schema.org/Organization><meta itemprop=name content="Rise"><meta itemprop=description content="福兮祸兮，焉知所依？冬去冰泮，春来萌荣。朝生暮死，亦可惊鸿。知足者富，自足者强。"></span><span hidden itemprop=post itemscope itemtype=http://schema.org/CreativeWork><meta itemprop=name content="验证微软数字签名"><meta itemprop=description content='代码共享如下，在Win2K sp4/WinXP sp2上调试通过。



 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81


BOOL CheckFileTrust( LPCWSTR lpFileName )
{
        BOOL bRet = FALSE;
    WINTRUST_DATA wd = { 0 };
    WINTRUST_FILE_INFO wfi = { 0 };
    WINTRUST_CATALOG_INFO wci = { 0 };
    CATALOG_INFO ci = { 0 };

    HCATADMIN hCatAdmin = NULL;
    <FONT color=blue>if</FONT> ( !CryptCATAdminAcquireContext( &amp;amp;hCatAdmin, NULL, 0 ) )
    {
            <FONT color=blue>return</FONT> FALSE;
    }

    HANDLE hFile = CreateFileW( lpFileName, GENERIC_READ, FILE_SHARE_READ,
        NULL, OPEN_EXISTING, 0, NULL );
    <FONT color=blue>if</FONT> ( INVALID_HANDLE_VALUE == hFile )
    {
            CryptCATAdminReleaseContext( hCatAdmin, 0 );
        <FONT color=blue>return</FONT> FALSE;
    }

    DWORD dwCnt = 100;
    BYTE byHash[100];
    CryptCATAdminCalcHashFromFileHandle( hFile, &amp;amp;dwCnt, byHash, 0 );
    CloseHandle( hFile );

    LPWSTR pszMemberTag = <FONT color=blue>new</FONT> WCHAR[dwCnt * 2 + 1];
    <FONT color=blue>for</FONT> ( DWORD dw = 0; dw &amp;lt; dwCnt; ++dw )
    {
            wsprintfW( &amp;amp;pszMemberTag[dw * 2], L"%02X", byHash[dw] );
    }

    HCATINFO hCatInfo = CryptCATAdminEnumCatalogFromHash( hCatAdmin,
        byHash, dwCnt, 0, NULL );
    <FONT color=blue>if</FONT> ( NULL == hCatInfo )
    {
            wfi.cbStruct       = <FONT color=blue>sizeof</FONT>( WINTRUST_FILE_INFO );
        wfi.pcwszFilePath  = lpFileName;
        wfi.hFile          = NULL;
        wfi.pgKnownSubject = NULL;

        wd.cbStruct            = <FONT color=blue>sizeof</FONT>( WINTRUST_DATA );
        wd.dwUnionChoice       = WTD_CHOICE_FILE;
        wd.pFile               = &amp;amp;wfi;
        wd.dwUIChoice          = WTD_UI_NONE;
        wd.fdwRevocationChecks = WTD_REVOKE_NONE;
        wd.dwStateAction       = WTD_STATEACTION_IGNORE;
        wd.dwProvFlags         = WTD_SAFER_FLAG;
        wd.hWVTStateData       = NULL;
        wd.pwszURLReference    = NULL;
    }
    <FONT color=blue>else</FONT>
    {
            CryptCATCatalogInfoFromContext( hCatInfo, &amp;amp;ci, 0 );
        wci.cbStruct             = <FONT color=blue>sizeof</FONT>( WINTRUST_CATALOG_INFO );
        wci.pcwszCatalogFilePath = ci.wszCatalogFile;
        wci.pcwszMemberFilePath  = lpFileName;
        wci.pcwszMemberTag       = pszMemberTag;

        wd.cbStruct            = <FONT color=blue>sizeof</FONT>( WINTRUST_DATA );
        wd.dwUnionChoice       = WTD_CHOICE_CATALOG;
        wd.pCatalog            = &amp;amp;wci;
        wd.dwUIChoice          = WTD_UI_NONE;
        wd.fdwRevocationChecks = WTD_STATEACTION_VERIFY;
        wd.dwProvFlags         = 0;
        wd.hWVTStateData       = NULL;
        wd.pwszURLReference    = NULL;
    }
    GUID action = WINTRUST_ACTION_GENERIC_VERIFY_V2;
    HRESULT hr  = WinVerifyTrust( NULL, &amp;amp;action, &amp;amp;wd );
    bRet        = SUCCEEDED( hr );

    <FONT color=blue>if</FONT> ( NULL != hCatInfo )
    {
            CryptCATAdminReleaseCatalogContext( hCatAdmin, hCatInfo, 0 );
    }
    CryptCATAdminReleaseContext( hCatAdmin, 0 ); <FONT color=green>// 2007.4.10感谢童志明君指出一处内存泄漏</FONT>
    <FONT color=blue>delete</FONT>[] pszMemberTag;
    <FONT color=blue>return</FONT> bRet;
}



这段代码是在一个老外的论坛上不经意搜索到的，一个貌似德国人（因为他的注释不是英文写的，德国亦仅猜测尔，西班牙、葡萄牙、法兰西、俄罗斯亦都有可能）写的Delphi代码，其中使用了WinTrust.dll中的导出函数。使用VS2005的朋友们可以包含WinTrust.h、SoftPub.h和Mscat.h，并添加导入库WinTrust.lib；使用VC6的朋友们可以参考MSDN上的函数及结构体声明，并用函数指针进行调用。'></span><header class=post-header><h2 class=post-title itemprop="name headline"><a href=/post/verify-microsoft-digital-signature/ itemprop=url class=post-title-link>验证微软数字签名</a></h2><div class=post-meta-container><div class=post-meta-items><span class=post-meta-item><span class=post-meta-item-icon><i class="fas fa-solid fa-calendar"></i>
</span><span class=post-meta-item-text title=发表于>发表于：
</span><time title="创建时间：2007年09月20日 14:30:00 CST" itemprop="dateCreated datePublished" datetime="2007-09-20 14:30:00 +0800 +0800">2007年09月20日
</time></span><span class=post-meta-item><span class=post-meta-item-icon><i class="fas fa-solid fa-folder-open"></i>
</span><span class=post-meta-item-text title=分类于>分类于：
</span><span itemprop=about itemscope itemtype=http://schema.org/Thing><a href=/categories/win32dev/ itemprop=url rel=index><span itemprop=name>dev/Win32Dev</span>
</a></span></span><span class=post-meta-item title=浏览><span class=post-meta-item-icon><i class="fas fa-solid fa-eye"></i>
</span><span class=post-meta-item-text>浏览：
</span><span id=pageview-count data-path=/post/verify-microsoft-digital-signature/><i class="fa fa-sync fa-spin"></i></span></span></div></div></header><div class=post-body itemprop=articleBody><p>代码共享如下，在Win2K sp4/WinXP sp2上调试通过。</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-0-1><a class=lnlinks href=#hl-0-1> 1</a>
</span><span class=lnt id=hl-0-2><a class=lnlinks href=#hl-0-2> 2</a>
</span><span class=lnt id=hl-0-3><a class=lnlinks href=#hl-0-3> 3</a>
</span><span class=lnt id=hl-0-4><a class=lnlinks href=#hl-0-4> 4</a>
</span><span class=lnt id=hl-0-5><a class=lnlinks href=#hl-0-5> 5</a>
</span><span class=lnt id=hl-0-6><a class=lnlinks href=#hl-0-6> 6</a>
</span><span class=lnt id=hl-0-7><a class=lnlinks href=#hl-0-7> 7</a>
</span><span class=lnt id=hl-0-8><a class=lnlinks href=#hl-0-8> 8</a>
</span><span class=lnt id=hl-0-9><a class=lnlinks href=#hl-0-9> 9</a>
</span><span class=lnt id=hl-0-10><a class=lnlinks href=#hl-0-10>10</a>
</span><span class=lnt id=hl-0-11><a class=lnlinks href=#hl-0-11>11</a>
</span><span class=lnt id=hl-0-12><a class=lnlinks href=#hl-0-12>12</a>
</span><span class=lnt id=hl-0-13><a class=lnlinks href=#hl-0-13>13</a>
</span><span class=lnt id=hl-0-14><a class=lnlinks href=#hl-0-14>14</a>
</span><span class=lnt id=hl-0-15><a class=lnlinks href=#hl-0-15>15</a>
</span><span class=lnt id=hl-0-16><a class=lnlinks href=#hl-0-16>16</a>
</span><span class=lnt id=hl-0-17><a class=lnlinks href=#hl-0-17>17</a>
</span><span class=lnt id=hl-0-18><a class=lnlinks href=#hl-0-18>18</a>
</span><span class=lnt id=hl-0-19><a class=lnlinks href=#hl-0-19>19</a>
</span><span class=lnt id=hl-0-20><a class=lnlinks href=#hl-0-20>20</a>
</span><span class=lnt id=hl-0-21><a class=lnlinks href=#hl-0-21>21</a>
</span><span class=lnt id=hl-0-22><a class=lnlinks href=#hl-0-22>22</a>
</span><span class=lnt id=hl-0-23><a class=lnlinks href=#hl-0-23>23</a>
</span><span class=lnt id=hl-0-24><a class=lnlinks href=#hl-0-24>24</a>
</span><span class=lnt id=hl-0-25><a class=lnlinks href=#hl-0-25>25</a>
</span><span class=lnt id=hl-0-26><a class=lnlinks href=#hl-0-26>26</a>
</span><span class=lnt id=hl-0-27><a class=lnlinks href=#hl-0-27>27</a>
</span><span class=lnt id=hl-0-28><a class=lnlinks href=#hl-0-28>28</a>
</span><span class=lnt id=hl-0-29><a class=lnlinks href=#hl-0-29>29</a>
</span><span class=lnt id=hl-0-30><a class=lnlinks href=#hl-0-30>30</a>
</span><span class=lnt id=hl-0-31><a class=lnlinks href=#hl-0-31>31</a>
</span><span class=lnt id=hl-0-32><a class=lnlinks href=#hl-0-32>32</a>
</span><span class=lnt id=hl-0-33><a class=lnlinks href=#hl-0-33>33</a>
</span><span class=lnt id=hl-0-34><a class=lnlinks href=#hl-0-34>34</a>
</span><span class=lnt id=hl-0-35><a class=lnlinks href=#hl-0-35>35</a>
</span><span class=lnt id=hl-0-36><a class=lnlinks href=#hl-0-36>36</a>
</span><span class=lnt id=hl-0-37><a class=lnlinks href=#hl-0-37>37</a>
</span><span class=lnt id=hl-0-38><a class=lnlinks href=#hl-0-38>38</a>
</span><span class=lnt id=hl-0-39><a class=lnlinks href=#hl-0-39>39</a>
</span><span class=lnt id=hl-0-40><a class=lnlinks href=#hl-0-40>40</a>
</span><span class=lnt id=hl-0-41><a class=lnlinks href=#hl-0-41>41</a>
</span><span class=lnt id=hl-0-42><a class=lnlinks href=#hl-0-42>42</a>
</span><span class=lnt id=hl-0-43><a class=lnlinks href=#hl-0-43>43</a>
</span><span class=lnt id=hl-0-44><a class=lnlinks href=#hl-0-44>44</a>
</span><span class=lnt id=hl-0-45><a class=lnlinks href=#hl-0-45>45</a>
</span><span class=lnt id=hl-0-46><a class=lnlinks href=#hl-0-46>46</a>
</span><span class=lnt id=hl-0-47><a class=lnlinks href=#hl-0-47>47</a>
</span><span class=lnt id=hl-0-48><a class=lnlinks href=#hl-0-48>48</a>
</span><span class=lnt id=hl-0-49><a class=lnlinks href=#hl-0-49>49</a>
</span><span class=lnt id=hl-0-50><a class=lnlinks href=#hl-0-50>50</a>
</span><span class=lnt id=hl-0-51><a class=lnlinks href=#hl-0-51>51</a>
</span><span class=lnt id=hl-0-52><a class=lnlinks href=#hl-0-52>52</a>
</span><span class=lnt id=hl-0-53><a class=lnlinks href=#hl-0-53>53</a>
</span><span class=lnt id=hl-0-54><a class=lnlinks href=#hl-0-54>54</a>
</span><span class=lnt id=hl-0-55><a class=lnlinks href=#hl-0-55>55</a>
</span><span class=lnt id=hl-0-56><a class=lnlinks href=#hl-0-56>56</a>
</span><span class=lnt id=hl-0-57><a class=lnlinks href=#hl-0-57>57</a>
</span><span class=lnt id=hl-0-58><a class=lnlinks href=#hl-0-58>58</a>
</span><span class=lnt id=hl-0-59><a class=lnlinks href=#hl-0-59>59</a>
</span><span class=lnt id=hl-0-60><a class=lnlinks href=#hl-0-60>60</a>
</span><span class=lnt id=hl-0-61><a class=lnlinks href=#hl-0-61>61</a>
</span><span class=lnt id=hl-0-62><a class=lnlinks href=#hl-0-62>62</a>
</span><span class=lnt id=hl-0-63><a class=lnlinks href=#hl-0-63>63</a>
</span><span class=lnt id=hl-0-64><a class=lnlinks href=#hl-0-64>64</a>
</span><span class=lnt id=hl-0-65><a class=lnlinks href=#hl-0-65>65</a>
</span><span class=lnt id=hl-0-66><a class=lnlinks href=#hl-0-66>66</a>
</span><span class=lnt id=hl-0-67><a class=lnlinks href=#hl-0-67>67</a>
</span><span class=lnt id=hl-0-68><a class=lnlinks href=#hl-0-68>68</a>
</span><span class=lnt id=hl-0-69><a class=lnlinks href=#hl-0-69>69</a>
</span><span class=lnt id=hl-0-70><a class=lnlinks href=#hl-0-70>70</a>
</span><span class=lnt id=hl-0-71><a class=lnlinks href=#hl-0-71>71</a>
</span><span class=lnt id=hl-0-72><a class=lnlinks href=#hl-0-72>72</a>
</span><span class=lnt id=hl-0-73><a class=lnlinks href=#hl-0-73>73</a>
</span><span class=lnt id=hl-0-74><a class=lnlinks href=#hl-0-74>74</a>
</span><span class=lnt id=hl-0-75><a class=lnlinks href=#hl-0-75>75</a>
</span><span class=lnt id=hl-0-76><a class=lnlinks href=#hl-0-76>76</a>
</span><span class=lnt id=hl-0-77><a class=lnlinks href=#hl-0-77>77</a>
</span><span class=lnt id=hl-0-78><a class=lnlinks href=#hl-0-78>78</a>
</span><span class=lnt id=hl-0-79><a class=lnlinks href=#hl-0-79>79</a>
</span><span class=lnt id=hl-0-80><a class=lnlinks href=#hl-0-80>80</a>
</span><span class=lnt id=hl-0-81><a class=lnlinks href=#hl-0-81>81</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-c++ data-lang=c++><span class=line><span class=cl><span class=n>BOOL</span> <span class=nf>CheckFileTrust</span><span class=p>(</span> <span class=n>LPCWSTR</span> <span class=n>lpFileName</span> <span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=n>BOOL</span> <span class=n>bRet</span> <span class=o>=</span> <span class=n>FALSE</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=n>WINTRUST_DATA</span> <span class=n>wd</span> <span class=o>=</span> <span class=p>{</span> <span class=mi>0</span> <span class=p>};</span>
</span></span><span class=line><span class=cl>    <span class=n>WINTRUST_FILE_INFO</span> <span class=n>wfi</span> <span class=o>=</span> <span class=p>{</span> <span class=mi>0</span> <span class=p>};</span>
</span></span><span class=line><span class=cl>    <span class=n>WINTRUST_CATALOG_INFO</span> <span class=n>wci</span> <span class=o>=</span> <span class=p>{</span> <span class=mi>0</span> <span class=p>};</span>
</span></span><span class=line><span class=cl>    <span class=n>CATALOG_INFO</span> <span class=n>ci</span> <span class=o>=</span> <span class=p>{</span> <span class=mi>0</span> <span class=p>};</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=n>HCATADMIN</span> <span class=n>hCatAdmin</span> <span class=o>=</span> <span class=nb>NULL</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=o>&lt;</span><span class=n>FONT</span> <span class=n>color</span><span class=o>=</span><span class=n>blue</span><span class=o>&gt;</span><span class=k>if</span><span class=o>&lt;/</span><span class=n>FONT</span><span class=o>&gt;</span> <span class=p>(</span> <span class=o>!</span><span class=n>CryptCATAdminAcquireContext</span><span class=p>(</span> <span class=o>&amp;</span><span class=n>amp</span><span class=p>;</span><span class=n>hCatAdmin</span><span class=p>,</span> <span class=nb>NULL</span><span class=p>,</span> <span class=mi>0</span> <span class=p>)</span> <span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=o>&lt;</span><span class=n>FONT</span> <span class=n>color</span><span class=o>=</span><span class=n>blue</span><span class=o>&gt;</span><span class=k>return</span><span class=o>&lt;/</span><span class=n>FONT</span><span class=o>&gt;</span> <span class=n>FALSE</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=n>HANDLE</span> <span class=n>hFile</span> <span class=o>=</span> <span class=n>CreateFileW</span><span class=p>(</span> <span class=n>lpFileName</span><span class=p>,</span> <span class=n>GENERIC_READ</span><span class=p>,</span> <span class=n>FILE_SHARE_READ</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=nb>NULL</span><span class=p>,</span> <span class=n>OPEN_EXISTING</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=nb>NULL</span> <span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=o>&lt;</span><span class=n>FONT</span> <span class=n>color</span><span class=o>=</span><span class=n>blue</span><span class=o>&gt;</span><span class=k>if</span><span class=o>&lt;/</span><span class=n>FONT</span><span class=o>&gt;</span> <span class=p>(</span> <span class=n>INVALID_HANDLE_VALUE</span> <span class=o>==</span> <span class=n>hFile</span> <span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=n>CryptCATAdminReleaseContext</span><span class=p>(</span> <span class=n>hCatAdmin</span><span class=p>,</span> <span class=mi>0</span> <span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=o>&lt;</span><span class=n>FONT</span> <span class=n>color</span><span class=o>=</span><span class=n>blue</span><span class=o>&gt;</span><span class=k>return</span><span class=o>&lt;/</span><span class=n>FONT</span><span class=o>&gt;</span> <span class=n>FALSE</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=n>DWORD</span> <span class=n>dwCnt</span> <span class=o>=</span> <span class=mi>100</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=n>BYTE</span> <span class=n>byHash</span><span class=p>[</span><span class=mi>100</span><span class=p>];</span>
</span></span><span class=line><span class=cl>    <span class=n>CryptCATAdminCalcHashFromFileHandle</span><span class=p>(</span> <span class=n>hFile</span><span class=p>,</span> <span class=o>&amp;</span><span class=n>amp</span><span class=p>;</span><span class=n>dwCnt</span><span class=p>,</span> <span class=n>byHash</span><span class=p>,</span> <span class=mi>0</span> <span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=n>CloseHandle</span><span class=p>(</span> <span class=n>hFile</span> <span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=n>LPWSTR</span> <span class=n>pszMemberTag</span> <span class=o>=</span> <span class=o>&lt;</span><span class=n>FONT</span> <span class=n>color</span><span class=o>=</span><span class=n>blue</span><span class=o>&gt;</span><span class=k>new</span><span class=o>&lt;/</span><span class=n>FONT</span><span class=o>&gt;</span> <span class=n>WCHAR</span><span class=p>[</span><span class=n>dwCnt</span> <span class=o>*</span> <span class=mi>2</span> <span class=o>+</span> <span class=mi>1</span><span class=p>];</span>
</span></span><span class=line><span class=cl>    <span class=o>&lt;</span><span class=n>FONT</span> <span class=n>color</span><span class=o>=</span><span class=n>blue</span><span class=o>&gt;</span><span class=k>for</span><span class=o>&lt;/</span><span class=n>FONT</span><span class=o>&gt;</span> <span class=p>(</span> <span class=n>DWORD</span> <span class=n>dw</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span> <span class=n>dw</span> <span class=o>&amp;</span><span class=n>lt</span><span class=p>;</span> <span class=n>dwCnt</span><span class=p>;</span> <span class=o>++</span><span class=n>dw</span> <span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=n>wsprintfW</span><span class=p>(</span> <span class=o>&amp;</span><span class=n>amp</span><span class=p>;</span><span class=n>pszMemberTag</span><span class=p>[</span><span class=n>dw</span> <span class=o>*</span> <span class=mi>2</span><span class=p>],</span> <span class=sa>L</span><span class=s>&#34;%02X&#34;</span><span class=p>,</span> <span class=n>byHash</span><span class=p>[</span><span class=n>dw</span><span class=p>]</span> <span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=n>HCATINFO</span> <span class=n>hCatInfo</span> <span class=o>=</span> <span class=n>CryptCATAdminEnumCatalogFromHash</span><span class=p>(</span> <span class=n>hCatAdmin</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=n>byHash</span><span class=p>,</span> <span class=n>dwCnt</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=nb>NULL</span> <span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=o>&lt;</span><span class=n>FONT</span> <span class=n>color</span><span class=o>=</span><span class=n>blue</span><span class=o>&gt;</span><span class=k>if</span><span class=o>&lt;/</span><span class=n>FONT</span><span class=o>&gt;</span> <span class=p>(</span> <span class=nb>NULL</span> <span class=o>==</span> <span class=n>hCatInfo</span> <span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=n>wfi</span><span class=p>.</span><span class=n>cbStruct</span>       <span class=o>=</span> <span class=o>&lt;</span><span class=n>FONT</span> <span class=n>color</span><span class=o>=</span><span class=n>blue</span><span class=o>&gt;</span><span class=k>sizeof</span><span class=o>&lt;/</span><span class=n>FONT</span><span class=o>&gt;</span><span class=p>(</span> <span class=n>WINTRUST_FILE_INFO</span> <span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=n>wfi</span><span class=p>.</span><span class=n>pcwszFilePath</span>  <span class=o>=</span> <span class=n>lpFileName</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=n>wfi</span><span class=p>.</span><span class=n>hFile</span>          <span class=o>=</span> <span class=nb>NULL</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=n>wfi</span><span class=p>.</span><span class=n>pgKnownSubject</span> <span class=o>=</span> <span class=nb>NULL</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=n>wd</span><span class=p>.</span><span class=n>cbStruct</span>            <span class=o>=</span> <span class=o>&lt;</span><span class=n>FONT</span> <span class=n>color</span><span class=o>=</span><span class=n>blue</span><span class=o>&gt;</span><span class=k>sizeof</span><span class=o>&lt;/</span><span class=n>FONT</span><span class=o>&gt;</span><span class=p>(</span> <span class=n>WINTRUST_DATA</span> <span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=n>wd</span><span class=p>.</span><span class=n>dwUnionChoice</span>       <span class=o>=</span> <span class=n>WTD_CHOICE_FILE</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=n>wd</span><span class=p>.</span><span class=n>pFile</span>               <span class=o>=</span> <span class=o>&amp;</span><span class=n>amp</span><span class=p>;</span><span class=n>wfi</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=n>wd</span><span class=p>.</span><span class=n>dwUIChoice</span>          <span class=o>=</span> <span class=n>WTD_UI_NONE</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=n>wd</span><span class=p>.</span><span class=n>fdwRevocationChecks</span> <span class=o>=</span> <span class=n>WTD_REVOKE_NONE</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=n>wd</span><span class=p>.</span><span class=n>dwStateAction</span>       <span class=o>=</span> <span class=n>WTD_STATEACTION_IGNORE</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=n>wd</span><span class=p>.</span><span class=n>dwProvFlags</span>         <span class=o>=</span> <span class=n>WTD_SAFER_FLAG</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=n>wd</span><span class=p>.</span><span class=n>hWVTStateData</span>       <span class=o>=</span> <span class=nb>NULL</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=n>wd</span><span class=p>.</span><span class=n>pwszURLReference</span>    <span class=o>=</span> <span class=nb>NULL</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=o>&lt;</span><span class=n>FONT</span> <span class=n>color</span><span class=o>=</span><span class=n>blue</span><span class=o>&gt;</span><span class=k>else</span><span class=o>&lt;/</span><span class=n>FONT</span><span class=o>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=n>CryptCATCatalogInfoFromContext</span><span class=p>(</span> <span class=n>hCatInfo</span><span class=p>,</span> <span class=o>&amp;</span><span class=n>amp</span><span class=p>;</span><span class=n>ci</span><span class=p>,</span> <span class=mi>0</span> <span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=n>wci</span><span class=p>.</span><span class=n>cbStruct</span>             <span class=o>=</span> <span class=o>&lt;</span><span class=n>FONT</span> <span class=n>color</span><span class=o>=</span><span class=n>blue</span><span class=o>&gt;</span><span class=k>sizeof</span><span class=o>&lt;/</span><span class=n>FONT</span><span class=o>&gt;</span><span class=p>(</span> <span class=n>WINTRUST_CATALOG_INFO</span> <span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=n>wci</span><span class=p>.</span><span class=n>pcwszCatalogFilePath</span> <span class=o>=</span> <span class=n>ci</span><span class=p>.</span><span class=n>wszCatalogFile</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=n>wci</span><span class=p>.</span><span class=n>pcwszMemberFilePath</span>  <span class=o>=</span> <span class=n>lpFileName</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=n>wci</span><span class=p>.</span><span class=n>pcwszMemberTag</span>       <span class=o>=</span> <span class=n>pszMemberTag</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=n>wd</span><span class=p>.</span><span class=n>cbStruct</span>            <span class=o>=</span> <span class=o>&lt;</span><span class=n>FONT</span> <span class=n>color</span><span class=o>=</span><span class=n>blue</span><span class=o>&gt;</span><span class=k>sizeof</span><span class=o>&lt;/</span><span class=n>FONT</span><span class=o>&gt;</span><span class=p>(</span> <span class=n>WINTRUST_DATA</span> <span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=n>wd</span><span class=p>.</span><span class=n>dwUnionChoice</span>       <span class=o>=</span> <span class=n>WTD_CHOICE_CATALOG</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=n>wd</span><span class=p>.</span><span class=n>pCatalog</span>            <span class=o>=</span> <span class=o>&amp;</span><span class=n>amp</span><span class=p>;</span><span class=n>wci</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=n>wd</span><span class=p>.</span><span class=n>dwUIChoice</span>          <span class=o>=</span> <span class=n>WTD_UI_NONE</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=n>wd</span><span class=p>.</span><span class=n>fdwRevocationChecks</span> <span class=o>=</span> <span class=n>WTD_STATEACTION_VERIFY</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=n>wd</span><span class=p>.</span><span class=n>dwProvFlags</span>         <span class=o>=</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=n>wd</span><span class=p>.</span><span class=n>hWVTStateData</span>       <span class=o>=</span> <span class=nb>NULL</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=n>wd</span><span class=p>.</span><span class=n>pwszURLReference</span>    <span class=o>=</span> <span class=nb>NULL</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=n>GUID</span> <span class=n>action</span> <span class=o>=</span> <span class=n>WINTRUST_ACTION_GENERIC_VERIFY_V2</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=n>HRESULT</span> <span class=n>hr</span>  <span class=o>=</span> <span class=n>WinVerifyTrust</span><span class=p>(</span> <span class=nb>NULL</span><span class=p>,</span> <span class=o>&amp;</span><span class=n>amp</span><span class=p>;</span><span class=n>action</span><span class=p>,</span> <span class=o>&amp;</span><span class=n>amp</span><span class=p>;</span><span class=n>wd</span> <span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=n>bRet</span>        <span class=o>=</span> <span class=n>SUCCEEDED</span><span class=p>(</span> <span class=n>hr</span> <span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=o>&lt;</span><span class=n>FONT</span> <span class=n>color</span><span class=o>=</span><span class=n>blue</span><span class=o>&gt;</span><span class=k>if</span><span class=o>&lt;/</span><span class=n>FONT</span><span class=o>&gt;</span> <span class=p>(</span> <span class=nb>NULL</span> <span class=o>!=</span> <span class=n>hCatInfo</span> <span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=n>CryptCATAdminReleaseCatalogContext</span><span class=p>(</span> <span class=n>hCatAdmin</span><span class=p>,</span> <span class=n>hCatInfo</span><span class=p>,</span> <span class=mi>0</span> <span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=n>CryptCATAdminReleaseContext</span><span class=p>(</span> <span class=n>hCatAdmin</span><span class=p>,</span> <span class=mi>0</span> <span class=p>);</span> <span class=o>&lt;</span><span class=n>FONT</span> <span class=n>color</span><span class=o>=</span><span class=n>green</span><span class=o>&gt;</span><span class=c1>// 2007.4.10感谢童志明君指出一处内存泄漏&lt;/FONT&gt;
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=o>&lt;</span><span class=n>FONT</span> <span class=n>color</span><span class=o>=</span><span class=n>blue</span><span class=o>&gt;</span><span class=k>delete</span><span class=o>&lt;/</span><span class=n>FONT</span><span class=o>&gt;</span><span class=p>[]</span> <span class=n>pszMemberTag</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=o>&lt;</span><span class=n>FONT</span> <span class=n>color</span><span class=o>=</span><span class=n>blue</span><span class=o>&gt;</span><span class=k>return</span><span class=o>&lt;/</span><span class=n>FONT</span><span class=o>&gt;</span> <span class=n>bRet</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span></span></span></code></pre></td></tr></table></div></div><p>这段代码是在一个老外的论坛上不经意搜索到的，一个貌似德国人（因为他的注释不是英文写的，德国亦仅猜测尔，西班牙、葡萄牙、法兰西、俄罗斯亦都有可能）写的Delphi代码，其中使用了WinTrust.dll中的导出函数。使用VS2005的朋友们可以包含WinTrust.h、SoftPub.h和Mscat.h，并添加导入库WinTrust.lib；使用VC6的朋友们可以参考MSDN上的函数及结构体声明，并用函数指针进行调用。</p></div><footer class=post-footer><div class=post-button><a class=btn href=/post/verify-microsoft-digital-signature/#more rel=contents>阅读全文 &#187;</a></div><div class=post-eof></div></footer></article></div><div class=post-block><article itemscope itemtype=http://schema.org/Article class=post-content lang><link itemprop=mainEntityOfPage href=https://blogs.qipai360.cn/post/master-of-my-emotions-another-article/><span hidden itemprop=author itemscope itemtype=http://schema.org/Person><meta itemprop=image content="/imgs/avatar.jpg"><meta itemprop=name content="Rise"></span><span hidden itemprop=publisher itemscope itemtype=http://schema.org/Organization><meta itemprop=name content="Rise"><meta itemprop=description content="福兮祸兮，焉知所依？冬去冰泮，春来萌荣。朝生暮死，亦可惊鸿。知足者富，自足者强。"></span><span hidden itemprop=post itemscope itemtype=http://schema.org/CreativeWork><meta itemprop=name content="我要做自己情绪的主人-又一篇"><meta itemprop=description content="我要做自己情绪的主人！潮起潮落、冬去春来、月圆月缺、花飞花谢，自然界万物都在循环往复的变化之中，我也不例外，情绪会时好时坏。每天清晨醒来时，我可能不再有旧日的情怀。昨日的欢乐变成今日的哀愁，今日的悲伤又转为明日的喜悦。我的心像车轮般不停地旋转：由乐而悲，由悲而喜，由喜而忧。这就好比花儿的变化，今日绽放时的喜悦终将变成明天凋谢时的绝望。但是我要牢牢记住：正如今天枯败的花儿蕴藏着明天新生的种子，今天的悲伤也预示着明日的欢乐。我要做自己情绪的主人！我怎样才能控制自己的情绪，使我的每一天卓有成效？我只知道这样一个事实：无论我为他人带来的是风雨、忧郁、黑暗和悲观，还是欢乐、喜悦、光明和笑声，他们都会以同样而报之。花草树木，随着气候的变化而生长，而我要为自己创造天气，学会用自己的心灵弥补气候的不足。我必须得心平气和，否则迎来的又将是失败的一天。我要做自己情绪的主人！我怎样才能控制自己的情绪，让我的每一天充满幸福和欢乐？我要学会这个千古秘诀：弱者任思绪控制行为，强者让行为控制思绪。每天醒来当我被悲伤、自怜、失败的情绪包围时，我就这样与之对抗：沮丧时，我引亢高歌；悲伤时，我开怀大笑；病痛时，我加倍工作；恐惧时，我勇往直前；自卑时，我换上新装；不安时，我提高嗓音；穷困潦倒时，我想象未来的富有；力不从心时，我回想过去的成功；自轻自贱时，我想想自己的目标。我要做自己情绪的主人！从今往后，我必须不断对抗那些企图摧垮我的力量。失望与悲伤一眼就可识破，而那些不易觉察、面带微笑、招手而来的敌人，却随时可能将我摧毁。对它们，我永远不能放松警惕：自高自大时，我要追寻失败的记忆；洋洋得意时，我要想想竞争的对手；沾沾自喜时，不要忘了那忍辱的时刻；自以为是时，看看自己能否让风止步；骄傲自满时，要想到自己怯懦的时候；不可一世时，抬起头来，仰望天上群星。我要做自己情绪的主人！有了这项本领，我就能体察别人的情绪变化。我会宽容怒气冲冲的人，因为他尚未懂得控制自己的情绪；我能忍受他人的指责与辱骂，因为知道明天他会重新变得随和。我不再只凭一面之交来判断他人，也不再因一时的怨恨与人绝交。今天不肯花一分钱购买金蓬马车的人，明天也许会用全部家当换取树苗。知道了这个秘密，我对人可以宽容大度，对事能够冷静客观。我要做自己情绪的主人！我从此领悟了人类情绪变化的奥秘。对于自己千变万化的个性，我不再听之任之，我知道，只有积极主动地控制情绪，才能掌握自己的命运。我成为自己情绪的主人，我由此而变得伟大。我要做自己情绪的主人！"></span><header class=post-header><h2 class=post-title itemprop="name headline"><a href=/post/master-of-my-emotions-another-article/ itemprop=url class=post-title-link>我要做自己情绪的主人-又一篇</a></h2><div class=post-meta-container><div class=post-meta-items><span class=post-meta-item><span class=post-meta-item-icon><i class="fas fa-solid fa-calendar"></i>
</span><span class=post-meta-item-text title=发表于>发表于：
</span><time title="创建时间：2007年09月20日 13:53:00 CST" itemprop="dateCreated datePublished" datetime="2007-09-20 13:53:00 +0800 +0800">2007年09月20日
</time></span><span class=post-meta-item><span class=post-meta-item-icon><i class="fas fa-solid fa-folder-open"></i>
</span><span class=post-meta-item-text title=分类于>分类于：
</span><span itemprop=about itemscope itemtype=http://schema.org/Thing><a href=/categories/capricethink/ itemprop=url rel=index><span itemprop=name>CapriceThink</span>
</a></span></span><span class=post-meta-item title=浏览><span class=post-meta-item-icon><i class="fas fa-solid fa-eye"></i>
</span><span class=post-meta-item-text>浏览：
</span><span id=pageview-count data-path=/post/master-of-my-emotions-another-article/><i class="fa fa-sync fa-spin"></i></span></span></div></div></header><div class=post-body itemprop=articleBody><p>我要做自己情绪的主人！<br><br>潮起潮落、冬去春来、月圆月缺、花飞花谢，自然界万物都在循环往复的变化之中，我也不例外，情绪会时好时坏。每天清晨醒来时，我可能不再有旧日的情怀。昨日的欢乐变成今日的哀愁，今日的悲伤又转为明日的喜悦。我的心像车轮般不停地旋转：由乐而悲，由悲而喜，由喜而忧。这就好比花儿的变化，今日绽放时的喜悦终将变成明天凋谢时的绝望。但是我要牢牢记住：正如今天枯败的花儿蕴藏着明天新生的种子，今天的悲伤也预示着明日的欢乐。<br><br>我要做自己情绪的主人！<br><br>我怎样才能控制自己的情绪，使我的每一天卓有成效？我只知道这样一个事实：无论我为他人带来的是风雨、忧郁、黑暗和悲观，还是欢乐、喜悦、光明和笑声，他们都会以同样而报之。花草树木，随着气候的变化而生长，而我要为自己创造天气，学会用自己的心灵弥补气候的不足。我必须得心平气和，否则迎来的又将是失败的一天。<br><br>我要做自己情绪的主人！<br><br>我怎样才能控制自己的情绪，让我的每一天充满幸福和欢乐？我要学会这个千古秘诀：弱者任思绪控制行为，强者让行为控制思绪。每天醒来当我被悲伤、自怜、失败的情绪包围时，我就这样与之对抗：沮丧时，我引亢高歌；悲伤时，我开怀大笑；病痛时，我加倍工作；恐惧时，我勇往直前；自卑时，我换上新装；不安时，我提高嗓音；穷困潦倒时，我想象未来的富有；力不从心时，我回想过去的成功；自轻自贱时，我想想自己的目标。<br><br>我要做自己情绪的主人！<br><br>从今往后，我必须不断对抗那些企图摧垮我的力量。失望与悲伤一眼就可识破，而那些不易觉察、面带微笑、招手而来的敌人，却随时可能将我摧毁。对它们，我永远不能放松警惕：自高自大时，我要追寻失败的记忆；洋洋得意时，我要想想竞争的对手；沾沾自喜时，不要忘了那忍辱的时刻；自以为是时，看看自己能否让风止步；骄傲自满时，要想到自己怯懦的时候；不可一世时，抬起头来，仰望天上群星。<br><br>我要做自己情绪的主人！<br><br>有了这项本领，我就能体察别人的情绪变化。我会宽容怒气冲冲的人，因为他尚未懂得控制自己的情绪；我能忍受他人的指责与辱骂，因为知道明天他会重新变得随和。我不再只凭一面之交来判断他人，也不再因一时的怨恨与人绝交。今天不肯花一分钱购买金蓬马车的人，明天也许会用全部家当换取树苗。知道了这个秘密，我对人可以宽容大度，对事能够冷静客观。<br><br>我要做自己情绪的主人！<br><br>我从此领悟了人类情绪变化的奥秘。对于自己千变万化的个性，我不再听之任之，我知道，只有积极主动地控制情绪，才能掌握自己的命运。我成为自己情绪的主人，我由此而变得伟大。<br><br>我要做自己情绪的主人！</p></div><footer class=post-footer><div class=post-button><a class=btn href=/post/master-of-my-emotions-another-article/#more rel=contents>阅读全文 &#187;</a></div><div class=post-eof></div></footer></article></div><div class=post-block><article itemscope itemtype=http://schema.org/Article class=post-content lang><link itemprop=mainEntityOfPage href=https://blogs.qipai360.cn/post/today-i-will-be-master-of-my-emotions/><span hidden itemprop=author itemscope itemtype=http://schema.org/Person><meta itemprop=image content="/imgs/avatar.jpg"><meta itemprop=name content="Rise"></span><span hidden itemprop=publisher itemscope itemtype=http://schema.org/Organization><meta itemprop=name content="Rise"><meta itemprop=description content="福兮祸兮，焉知所依？冬去冰泮，春来萌荣。朝生暮死，亦可惊鸿。知足者富，自足者强。"></span><span hidden itemprop=post itemscope itemtype=http://schema.org/CreativeWork><meta itemprop=name content="今天，我要做自己情绪的主人 Today I will be master of my emotions."><meta itemprop=description content="年初的时候，几乎天天跟人吵架，因为什么呢？因为自己的狗脾气，那会甚至都不管自己到底对不对，反正就是吵。坦诚的说，后来都有点因此而沾沾自喜，觉得那是自己NB，自己是个有个性的人。事到如今，真是忍不住要笑一笑自己了，呵呵，用下面文章里的一句话来说就是：弱 者任情绪控制行为，强者让行为控制情绪。我是弱者，所以让情绪控制了自己的行为，还引以为荣。呵呵，你说可笑不？可笑。把这篇文章收藏在这里，供自己今后 再次翻阅。我想，只要在今后狗脾气再犯的时候，能来这里看看，确实能认真的读一下下面的文字，那我一定可以从弱者变成一个可以控制情绪的人的。"></span><header class=post-header><h2 class=post-title itemprop="name headline"><a href=/post/today-i-will-be-master-of-my-emotions/ itemprop=url class=post-title-link>今天，我要做自己情绪的主人 Today I will be master of my emotions.</a></h2><div class=post-meta-container><div class=post-meta-items><span class=post-meta-item><span class=post-meta-item-icon><i class="fas fa-solid fa-calendar"></i>
</span><span class=post-meta-item-text title=发表于>发表于：
</span><time title="创建时间：2007年09月20日 13:52:00 CST" itemprop="dateCreated datePublished" datetime="2007-09-20 13:52:00 +0800 +0800">2007年09月20日
</time></span><span class=post-meta-item title=浏览><span class=post-meta-item-icon><i class="fas fa-solid fa-eye"></i>
</span><span class=post-meta-item-text>浏览：
</span><span id=pageview-count data-path=/post/today-i-will-be-master-of-my-emotions/><i class="fa fa-sync fa-spin"></i></span></span></div></div></header><div class=post-body itemprop=articleBody><p>年初的时候，几乎天天跟人吵架，因为什么呢？因为自己的狗脾气，那会甚至都不管自己到底对不对，反正就是吵。坦诚的说，后来都有点因此而沾沾自喜，觉得那是自己NB，自己是个有个性的人。事到如今，真是忍不住要笑一笑自己了，呵呵，用下面文章里的一句话来说就是：<strong>弱 者任情绪控制行为，强者让行为控制情绪。</strong>我是弱者，所以让情绪控制了自己的行为，还引以为荣。呵呵，你说可笑不？可笑。把这篇文章收藏在这里，供自己今后 再次翻阅。我想，只要在今后狗脾气再犯的时候，能来这里看看，确实能认真的读一下下面的文字，那我一定可以从弱者变成一个可以控制情绪的人的。</p></div><footer class=post-footer><div class=post-button><a class=btn href=/post/today-i-will-be-master-of-my-emotions/#more rel=contents>阅读全文 &#187;</a></div><div class=post-eof></div></footer></article></div><div class=post-block><article itemscope itemtype=http://schema.org/Article class=post-content lang><link itemprop=mainEntityOfPage href=https://blogs.qipai360.cn/post/past-present-future-mindfulness/><span hidden itemprop=author itemscope itemtype=http://schema.org/Person><meta itemprop=image content="/imgs/avatar.jpg"><meta itemprop=name content="Rise"></span><span hidden itemprop=publisher itemscope itemtype=http://schema.org/Organization><meta itemprop=name content="Rise"><meta itemprop=description content="福兮祸兮，焉知所依？冬去冰泮，春来萌荣。朝生暮死，亦可惊鸿。知足者富，自足者强。"></span><span hidden itemprop=post itemscope itemtype=http://schema.org/CreativeWork><meta itemprop=name content="所以者何，须菩提。过去心不可得，现在心不可得，未来心不可得。"><meta itemprop=description content="【肇法师曰】闻说诸心。谓有实心。故须破遣。明三世皆空。故论云。过去已灭。未来未起。现在虚妄。三世推求。了不可得。
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 【疏钞云】未觉不知。随时流转。故有三世。若悟真一之心。即无过去现在未来。若有过去心可灭。即是自灭。若有未来心可生。即是自生。既有生有灭。即非常住真心。即为依他心。虚妄心。若一念有生灭心。即成六十二种邪见。九百种烦恼。
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 【王日休曰】常住真心。即真性也。是以自无量无数劫来。常一定而不变动。岂有过去未来现在哉。若有过去未来现在。则为妄想。此三心是也。且若饱而未欲食。则饮食之心为未来。饥而正欲食。则欲食之心为现在。食毕而放匕箸。则欲食之心为过去。是此心因事而起。事过而灭。故为妄想也。不可得者。谓无也。言此三心本来无有。乃因事而有耳。圆觉经所以言六尘缘影。为自心相者。谓众生以六种尘缘之影。为自己之心相也。
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 【僧若讷曰】本生心地观经云。如佛所说。唯将心法。为三界主。心法本源。不染尘秽。云何心法。染贪嗔痴。于三世法。唯说为心。过去心已灭。未来心未至。现在心不住。诸法之内性不可得。诸法之外相不可得。诸法中间都不可得。心法本来无有形相。心法本来无有住处。一切如来尚不可见心。何况余人。得见心法。
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 【颜丙曰】谓思念前事者。为过去心。思念今事者。为现在心。思念后事者。为未来心。三念总放下者。谓之不可得。经云。前念后念及今念。念念不被邪见染。此为三心不可得。古云。一念不生全体现。亦谓三际俱断。三念俱妄。了不可得。
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 【傅大士颂曰】依他一念起。俱为妄所行。便分六十二。九百乱纵横。（法华经二卷。世尊偈言。薄德少福人。众苦所逼迫。入邪见稠林。若有若无等。依止此诸见。具足六十二。毗婆沙论云。六十二见者。五蕴中各起四见。四五二十。三世各二十。通为六十。断常二见为根本。总为六十二见。且于色蕴中。即色是我。离色非我。我中有色。色中有我。五蕴中具有此四。疏钞解三心云。若一念有生灭心。即成六十二种邪见。九百种烦恼。）过此灭无灭。（一作不灭。）当来生不生。常能作此观。（去声）真妄坦然平。（晁文元公遇高士刘惟一。访以生灭之事。刘曰。人常不死。公骇之。刘曰。形死性不灭。是知此性历长存。）
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 【川禅师曰】低声低声。真得鼻孔里出气。颂曰。三际求心心不见。两眼依然对两眼。不须遗剑刻舟寻。雪月风花常见面。
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 【未曾有经云】妙吉祥菩萨。因见一人。言我造杀业。决堕地狱。如何救度。菩萨即化一人。亦曰。我造杀业。决堕地狱。前人闻已。言我亦然。化人告之。唯佛能救。相随共诣。化人白佛。我造杀业。怖堕地狱。愿佛救度。佛即告言。如汝所说造杀业者。汝从何心而起业相。为过去耶。未来耶。现在耶。若起过去心者。过去已灭。心不可得。若起未来心者。未来未来。心不可得。若起见在心者。见在不住。心不可得。三界俱不可得故。即无起作。无起作故。于其罪相何所见耶。善男子。心无所住。不在内外中间。心无色相。非青黄赤白。心无造作。无作者故。心非幻化。本真实故。心无边际。非限量故。心无取舍。非善恶故。心无转动。非生灭故。心等空虚。无障碍故。心非染净。离一切数故。善男子作是观者。即于一切法中。求心不可得。何以故。心之自性。即诸法性。诸法性空。即真实性。由是义故。汝今不应妄生怖畏。是时化人闻佛说法。即白佛言。我今得悟罪业性空。不生怖畏。尔时实造业者。亦白佛言。我今得悟罪业性空。而不复生怖畏之心。
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 【李文会曰】谓三世心无性可得。故可从缘而生。
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 【肇法师云】闻说诸心。谓有实心。故须破遣。明三世皆空。故云过去已灭。未来未起。现在虚妄。三世推求。了不可得。故云若悟无法无相无事平常真心。即法体空寂。不生不灭。湛然清净。岂有前念今念后念可得也。
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 【马祖云】道不用修。但莫洿染。何谓洿染。但有生死造作趣向。皆是洿染。若欲直会其道。平常心即是道。何谓平常心。无造作。无是非。无取舍。无憎爱。无圣凡。是故经云。非凡夫行。非圣贤行。是菩萨行。
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 【赵州问南泉云】如何是道。泉云。平常心是道。
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 【圜悟禅师颂曰】欲识平常道。天真任自然。行船宜举棹。走马即加鞭。若遇饥来饭。还应困即眠。尽从缘所得。所得亦非缘。"></span><header class=post-header><h2 class=post-title itemprop="name headline"><a href=/post/past-present-future-mindfulness/ itemprop=url class=post-title-link>所以者何，须菩提。过去心不可得，现在心不可得，未来心不可得。</a></h2><div class=post-meta-container><div class=post-meta-items><span class=post-meta-item><span class=post-meta-item-icon><i class="fas fa-solid fa-calendar"></i>
</span><span class=post-meta-item-text title=发表于>发表于：
</span><time title="创建时间：2007年09月20日 13:48:00 CST" itemprop="dateCreated datePublished" datetime="2007-09-20 13:48:00 +0800 +0800">2007年09月20日
</time></span><span class=post-meta-item><span class=post-meta-item-icon><i class="fas fa-solid fa-folder-open"></i>
</span><span class=post-meta-item-text title=分类于>分类于：
</span><span itemprop=about itemscope itemtype=http://schema.org/Thing><a href=/categories/capricethink/ itemprop=url rel=index><span itemprop=name>CapriceThink</span>
</a></span></span><span class=post-meta-item title=浏览><span class=post-meta-item-icon><i class="fas fa-solid fa-eye"></i>
</span><span class=post-meta-item-text>浏览：
</span><span id=pageview-count data-path=/post/past-present-future-mindfulness/><i class="fa fa-sync fa-spin"></i></span></span></div></div></header><div class=post-body itemprop=articleBody><p>【肇法师曰】闻说诸心。谓有实心。故须破遣。明三世皆空。故论云。过去已灭。未来未起。现在虚妄。三世推求。了不可得。</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 【疏钞云】未觉不知。随时流转。故有三世。若悟真一之心。即无过去现在未来。若有过去心可灭。即是自灭。若有未来心可生。即是自生。既有生有灭。即非常住真心。即为依他心。虚妄心。若一念有生灭心。即成六十二种邪见。九百种烦恼。</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 【王日休曰】常住真心。即真性也。是以自无量无数劫来。常一定而不变动。岂有过去未来现在哉。若有过去未来现在。则为妄想。此三心是也。且若饱而未欲食。则饮食之心为未来。饥而正欲食。则欲食之心为现在。食毕而放匕箸。则欲食之心为过去。是此心因事而起。事过而灭。故为妄想也。不可得者。谓无也。言此三心本来无有。乃因事而有耳。圆觉经所以言六尘缘影。为自心相者。谓众生以六种尘缘之影。为自己之心相也。</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 【僧若讷曰】本生心地观经云。如佛所说。唯将心法。为三界主。心法本源。不染尘秽。云何心法。染贪嗔痴。于三世法。唯说为心。过去心已灭。未来心未至。现在心不住。诸法之内性不可得。诸法之外相不可得。诸法中间都不可得。心法本来无有形相。心法本来无有住处。一切如来尚不可见心。何况余人。得见心法。</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 【颜丙曰】谓思念前事者。为过去心。思念今事者。为现在心。思念后事者。为未来心。三念总放下者。谓之不可得。经云。前念后念及今念。念念不被邪见染。此为三心不可得。古云。一念不生全体现。亦谓三际俱断。三念俱妄。了不可得。</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 【傅大士颂曰】依他一念起。俱为妄所行。便分六十二。九百乱纵横。（法华经二卷。世尊偈言。薄德少福人。众苦所逼迫。入邪见稠林。若有若无等。依止此诸见。具足六十二。毗婆沙论云。六十二见者。五蕴中各起四见。四五二十。三世各二十。通为六十。断常二见为根本。总为六十二见。且于色蕴中。即色是我。离色非我。我中有色。色中有我。五蕴中具有此四。疏钞解三心云。若一念有生灭心。即成六十二种邪见。九百种烦恼。）过此灭无灭。（一作不灭。）当来生不生。常能作此观。（去声）真妄坦然平。（晁文元公遇高士刘惟一。访以生灭之事。刘曰。人常不死。公骇之。刘曰。形死性不灭。是知此性历长存。）</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 【川禅师曰】低声低声。真得鼻孔里出气。颂曰。三际求心心不见。两眼依然对两眼。不须遗剑刻舟寻。雪月风花常见面。</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 【未曾有经云】妙吉祥菩萨。因见一人。言我造杀业。决堕地狱。如何救度。菩萨即化一人。亦曰。我造杀业。决堕地狱。前人闻已。言我亦然。化人告之。唯佛能救。相随共诣。化人白佛。我造杀业。怖堕地狱。愿佛救度。佛即告言。如汝所说造杀业者。汝从何心而起业相。为过去耶。未来耶。现在耶。若起过去心者。过去已灭。心不可得。若起未来心者。未来未来。心不可得。若起见在心者。见在不住。心不可得。三界俱不可得故。即无起作。无起作故。于其罪相何所见耶。善男子。心无所住。不在内外中间。心无色相。非青黄赤白。心无造作。无作者故。心非幻化。本真实故。心无边际。非限量故。心无取舍。非善恶故。心无转动。非生灭故。心等空虚。无障碍故。心非染净。离一切数故。善男子作是观者。即于一切法中。求心不可得。何以故。心之自性。即诸法性。诸法性空。即真实性。由是义故。汝今不应妄生怖畏。是时化人闻佛说法。即白佛言。我今得悟罪业性空。不生怖畏。尔时实造业者。亦白佛言。我今得悟罪业性空。而不复生怖畏之心。</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 【李文会曰】谓三世心无性可得。故可从缘而生。</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 【肇法师云】闻说诸心。谓有实心。故须破遣。明三世皆空。故云过去已灭。未来未起。现在虚妄。三世推求。了不可得。故云若悟无法无相无事平常真心。即法体空寂。不生不灭。湛然清净。岂有前念今念后念可得也。</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 【马祖云】道不用修。但莫洿染。何谓洿染。但有生死造作趣向。皆是洿染。若欲直会其道。平常心即是道。何谓平常心。无造作。无是非。无取舍。无憎爱。无圣凡。是故经云。非凡夫行。非圣贤行。是菩萨行。</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 【赵州问南泉云】如何是道。泉云。平常心是道。</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 【圜悟禅师颂曰】欲识平常道。天真任自然。行船宜举棹。走马即加鞭。若遇饥来饭。还应困即眠。尽从缘所得。所得亦非缘。</p></div><footer class=post-footer><div class=post-button><a class=btn href=/post/past-present-future-mindfulness/#more rel=contents>阅读全文 &#187;</a></div><div class=post-eof></div></footer></article></div><nav class=pagination><a class="extend prev" rel=prev href=/post/page/46/><i class="fa fa-angle-left"></i>
</a><a class=page-number href=/post/page/43/>43</a>
<a class=page-number href=/post/page/44/>44</a>
<a class=page-number href=/post/page/45/>45</a>
<a class=page-number href=/post/page/46/>46</a>
<span class="page-number current">47</span>
<a class=page-number href=/post/page/48/>48</a>
<a class=page-number href=/post/page/49/>49</a>
<a class=page-number href=/post/page/50/>50</a>
<a class=page-number href=/post/page/51/>51</a>
<a class="extend next" rel=next href=/post/page/48/><i class="fa fa-angle-right"></i></a></nav></div></main><footer class=footer><div class=footer-inner><div class=copyright>&copy;
<span itemprop=copyrightYear>2004 - 2025
</span><span class=with-love><i class="fa fa-heart"></i>
</span><span class=author itemprop=copyrightHolder>Rise</span></div><div class=powered-by>由 <a href=https://gohugo.io title=0.152.2 target=_blank>Hugo</a> & <a href=https://github.com/hugo-next/hugo-theme-next title=4.8.3 target=_blank>Hugo NexT.Gemini</a> 强力驱动</div><div class=beian><a href=https://beian.miit.gov.cn target=_blank>豫ICP备2021009490号</a>
<img src=/imgs/gongan.png alt=豫公网安备>
<a href="http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=41162302000074" target=_blank>豫公网安备 41162302000074 号</a></div></div></footer><script class=next-config data-name=page type=application/json>{"comments":true,"expired":false,"isHome":false,"isPage":false,"path":"post","permalink":"https://blogs.qipai360.cn/post/","title":"Posts","toc":false,"waline3":{"pagecnt":{"alias":"@waline/client","alias_name":"waline","file":"dist/pageview.js","name":"pageview","version":"3.5.7"}}}</script><script type=text/javascript src=https://blogs.qipai360.cn/js/3rd/animejs/3.2.2/anime.min.js crossorigin=anonymous defer></script><script type=text/javascript src=https://blogs.qipai360.cn/js/3rd/viewerjs/1.11.6/viewer.min.js crossorigin=anonymous defer></script><script class=next-config data-name=main type=application/json>{"bookmark":{"color":"#222","enable":true,"save":"manual"},"copybtn":true,"darkmode":true,"giscus":{"cfg":{"category":"Announcements","categoryid":"DIC_kwDOA6L0YM4CiXf9","emit":false,"inputposition":"top","mapping":"title","reactions":false,"repo":"rise-worlds/rise-worlds.github.io","repoid":"MDEwOlJlcG9zaXRvcnk2MTAxMTA0MA==","theme":"transparent_dark"},"js":"https://giscus.app/client.js"},"hostname":"https://blogs.qipai360.cn/","i18n":{"ds_day":" 天前","ds_days":" 天 ","ds_hour":" 小时前","ds_hours":" 小时 ","ds_just":"刚刚","ds_min":" 分钟前","ds_mins":" 分钟","ds_month":" 个月前","ds_years":" 年 ","empty":"没有找到任何搜索结果：${query}","hits":"找到 ${hits} 个搜索结果","hits_time":"找到 ${hits} 个搜索结果（用时 ${time} 毫秒）","placeholder":"搜索..."},"isMultiLang":false,"lang":"zh-CN","lazyload":false,"motion":{"async":true,"enable":true,"transition":{"collheader":"fadeInLeft","postblock":"fadeIn","postbody":"fadeInDown","postheader":"fadeInDown","sidebar":"fadeInUp"}},"postmeta":{"comments":{"enable":false,"plugin":"waline3"},"views":{"enable":true,"plugin":"waline3"}},"root":"/","scheme":"Gemini","share":{"addtoany":{"js":"https://static.addtoany.com/menu/page.js","locale":"zh-CN","num":8},"enable":false},"sidebar":{"display":"post","offset":12,"padding":18,"position":"left","width":256},"vendor":{"plugins":"local","router":{"name":"local","type":"modern","url":"https://blogs.qipai360.cn/js/3rd"}},"version":"4.8.3","waline3":{"cfg":{"emoji":false,"imguploader":false,"placeholder":"请文明发言哟 ヾ(≧▽≦*)o 可用快捷键选取表情符号：😀😄😁🥳👻👽👀🚄 (Window系统：Win+.，Mac系统：Control+Command+Space)","reaction":true,"reactiontext":["点赞","踩一下","得意","不屑","尴尬","睡觉"],"reactiontitle":"你认为这篇文章怎么样？","requiredmeta":["nick","mail"],"search":true,"serverurl":"https://walinejs.comment.lithub.cc","sofa":"快来发表你的意见吧 (≧∀≦)ゞ","wordlimit":200},"css":{"alias":"@waline/client","file":"dist/waline.css","name":"waline","version":"3.5.7"},"js":{"alias":"@waline/client","file":"dist/waline.js","name":"waline","version":"3.5.7"}}}</script><script type=text/javascript src="/js/main.min.js?=1761990624" defer></script></body></html>