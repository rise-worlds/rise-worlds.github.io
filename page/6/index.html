<!doctype html><html lang=zh-CN data-theme=dark><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=theme-color content="#222" media="(prefers-color-scheme: dark)"><meta name=generator content="Hugo 0.152.2"><link rel="shortcut icon" type=image/x-icon href=/imgs/icons/favicon.ico><link rel=icon type=image/x-icon href=/imgs/icons/favicon.ico><link rel=icon type=image/png sizes=16x16 href=/imgs/icons/favicon_32_32_next.png><link rel=icon type=image/png sizes=32x32 href=/imgs/icons/favicon_128_128_next.png><link rel=apple-touch-icon sizes=180x180 href=/imgs/icons/apple_touch_icon_next.png><meta itemprop=name content="Rise的自留地"><meta itemprop=description content="福兮祸兮，焉知所依？冬去冰泮，春来萌荣。朝生暮死，亦可惊鸿。知足者富，自足者强。"><meta name=description content="福兮祸兮，焉知所依？冬去冰泮，春来萌荣。朝生暮死，亦可惊鸿。知足者富，自足者强。"><meta itemprop=image content="https://blogs.qipai360.cn/imgs/avatar.jpg"><meta itemprop=keywords content="Rise,ZhangTuohui,技术,C++,Unity3D,Lua,NodeJS,C#,JavaScript,游戏开发,机器学习,深度学习,AI,编程,编程语言,编程技术,编程开发,游戏引擎,游戏设计,游戏制作,游戏开发者,游戏开发者博客,游戏开发者网站,游戏开发者工具,游戏开发者教程,游戏开发者学习,游戏开发者交流,游戏开发者分享,游戏开发者经验,游戏开发者心得,游戏开发者技巧,游戏开发者方法,游戏开发者思路,游戏开发者理念,游戏开发者文化,游戏开发者精神,游戏开发者信仰"><meta property="og:type" content="website"><meta property="og:title" content="Rise的自留地"><meta property="og:description" content="福兮祸兮，焉知所依？冬去冰泮，春来萌荣。朝生暮死，亦可惊鸿。知足者富，自足者强。"><meta property="og:image" content="/imgs/avatar.jpg"><meta property="og:image:width" content="312"><meta property="og:image:height" content="312"><meta property="og:image:type" content="image/jpeg/png/svg/jpg"><meta property="og:url" content="https://blogs.qipai360.cn/"><meta property="og:site_name" content="Rise的自留地"><meta property="og:locale" content="zh-CN"><link type=text/css rel=stylesheet href=https://blogs.qipai360.cn/js/3rd/font-awesome/6.7.2/css/all.min.css><link type=text/css rel=stylesheet href=https://blogs.qipai360.cn/js/3rd/animate.css/3.1.1/animate.min.css><link type=text/css rel=stylesheet href=https://blogs.qipai360.cn/js/3rd/viewerjs/1.11.6/viewer.min.css><link rel=stylesheet href="/css/main.min.css?=1761990624"><style type=text/css>.post-footer hr:after{content:"~ 我可是有底线的哟 ~"}.flinks-list-footer hr:after{content:"~ 我可是有底线的哟 ~"}</style><script type=text/javascript>(function(){localDB={set:function(e,t,n){if(n===0)return;const s=new Date,o=n*864e5,i={value:t,expiry:s.getTime()+o};localStorage.setItem(e,JSON.stringify(i))},get:function(e){const t=localStorage.getItem(e);if(!t)return 0[0];const n=JSON.parse(t),s=new Date;return s.getTime()>n.expiry?(localStorage.removeItem(e),0[0]):n.value}},theme={active:function(){const e=localDB.get("theme");if(e==null)return;theme.toggle(e),window.matchMedia("(prefers-color-scheme: dark)").addListener(function(e){theme.toggle(e.matches?"dark":"light")})},toggle:function(e){document.documentElement.setAttribute("data-theme",e),localDB.set("theme",e,2);const t=document.querySelector("iframe.giscus-frame");if(t){const n={setConfig:{theme:e}};t.contentWindow.postMessage({giscus:n},"https://giscus.app")}}},theme.active()})(window)</script><script type=text/javascript>document.addEventListener("DOMContentLoaded",()=>{var e=document.createElement("script");e.charset="UTF-8",e.src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js",e.async=!1,e.defer=!0,document.head.appendChild(e),e.onload=function(){NexT.utils.fmtBusuanzi()}})</script><script defer src=https://static.cloudflareinsights.com/beacon.min.js data-cf-beacon='{"token": "2b23669184fc49269e400525ac2447d9"}'></script><title>Rise的自留地</title><noscript><link rel=stylesheet href=/css/noscript.css></noscript></head><body itemscope itemtype=http://schema.org/WebPage class=use-motion><div class=headband></div><main class=main><header class=header itemscope itemtype=http://schema.org/WPHeader><div class=header-inner><div class=site-brand-container><div class=site-nav-toggle><div class=toggle aria-label role=button><span class=toggle-line></span>
<span class=toggle-line></span>
<span class=toggle-line></span></div></div><div class=site-meta><a href=/ class=brand rel=start><i class=logo-line></i><h1 class=site-title>Rise的自留地</h1><i class=logo-line></i></a><p class=site-subtitle itemprop=description>记录生活中的点滴，分享编程技术和游戏开发经验。</p></div><div class=site-nav-right><div class="toggle popup-trigger"></div></div></div><nav class=site-nav><ul class="main-menu menu"><li class="menu-item menu-item-home"><a href=/ class="hvr-icon-pulse menu-item-active" rel=section><i class="fa fa-home hvr-icon"></i>首页</a></li><li class="menu-item menu-item-about"><a href=/about.html class=hvr-icon-pulse rel=section><i class="fa fa-user hvr-icon"></i>关于</a></li><li class="menu-item menu-item-archives"><a href=/archives/ class=hvr-icon-pulse rel=section><i class="fa fa-archive hvr-icon"></i>归档
<span class=badge>678</span></a></li><li class="menu-item menu-item-tags"><a href=/tags/ class=hvr-icon-pulse rel=section><i class="fa fa-tags hvr-icon"></i>标签</a></li><li class="menu-item menu-item-message"><a href=/message/ class=hvr-icon-pulse rel=section><i class="fa fa-comments hvr-icon"></i>留言板</a></li><li class="menu-item menu-item-commonweal"><a href=/404.html class=hvr-icon-pulse rel=section><i class="fa fa-heartbeat hvr-icon"></i>公益 404</a></li></ul></nav></div><div class="toggle sidebar-toggle" role=button><span class=toggle-line></span>
<span class=toggle-line></span>
<span class=toggle-line></span></div><aside class=sidebar><div class="sidebar-inner sidebar-overview-active"><ul class=sidebar-nav><li class=sidebar-nav-toc>文章目录</li><li class=sidebar-nav-overview>站点概览</li></ul><div class=sidebar-panel-container><div class="post-toc-wrap sidebar-panel"><div class="post-toc animated"><nav id=TableOfContents></nav></div></div><div class="site-overview-wrap sidebar-panel"><div class="site-author site-overview-item animated" itemprop=author itemscope itemtype=http://schema.org/Person><img class=site-author-image itemprop=image alt=Rise src=/imgs/img-lazy-loading.gif data-src=/imgs/avatar.jpg><p class=site-author-name itemprop=name>Rise</p><div class=site-description itemprop=description>福兮祸兮，焉知所依？冬去冰泮，春来萌荣。朝生暮死，亦可惊鸿。知足者富，自足者强。</div></div><div class="site-state-wrap site-overview-item animated"><nav class=site-state><div class="site-state-item site-state-posts"><a href=/archives/><span class=site-state-item-count>678</span>
<span class=site-state-item-name>日志</span></a></div><div class="site-state-item site-state-categories"><a href=/categories/><span class=site-state-item-count>34</span>
<span class=site-state-item-name>分类</span></a></div><div class="site-state-item site-state-tags"><a href=/tags/><span class=site-state-item-count>117</span>
<span class=site-state-item-name>标签</span></a></div></nav></div><div class="links-of-social site-overview-item animated"><span class=links-of-social-item><a href=https://github.com/rise-worlds title="Github → https://github.com/rise-worlds" rel=noopener class=hvr-icon-pulse target=_blank><i class="fab fa-github fa-fw hvr-icon"></i>
Github
</a></span><span class=links-of-social-item><a href=mailto:rise.worlds@outlook.com title="E-Mail → mailto:rise.worlds@outlook.com" rel=noopener class=hvr-icon-pulse target=_blank><i class="fa fa-envelope fa-fw hvr-icon"></i>
E-Mail
</a></span><span class=links-of-social-item><a href=https://www.zhihu.com/people/rise-worlds title="知乎 → https://www.zhihu.com/people/rise-worlds" rel=noopener class=hvr-icon-pulse target=_blank><i class="fa fa-book fa-fw hvr-icon"></i>
知乎
</a></span><span class=links-of-social-item><a href=https://twitter.com/riseworlds title="Twitter → https://twitter.com/riseworlds" rel=noopener class=hvr-icon-pulse target=_blank><i class="fab fa-twitter fa-fw hvr-icon"></i>
Twitter
</a></span><span class=links-of-social-item><a href=https://www.facebook.com/rise.worlds title="facebook → https://www.facebook.com/rise.worlds" rel=noopener class=hvr-icon-pulse target=_blank><i class="fab fa-facebook fa-fw hvr-icon"></i>
facebook
</a></span><span class=links-of-social-item><a href=https://youtube.com/@YiXuan title="YouTube → https://youtube.com/@YiXuan" rel=noopener class=hvr-icon-pulse target=_blank><i class="fab fa-youtube fa-fw hvr-icon"></i>
YouTube
</a></span><span class=links-of-social-item><a href=https://instagram.com/rise.worlds title="Instagram → https://instagram.com/rise.worlds" rel=noopener class=hvr-icon-pulse target=_blank><i class="fab fa-instagram fa-fw hvr-icon"></i>
Instagram
</a></span><span class=links-of-social-item><a href=https://t.me/riseworlds title="Telegram → https://t.me/riseworlds" rel=noopener class=hvr-icon-pulse target=_blank><i class="fab fa-telegram fa-fw hvr-icon"></i>
Telegram</a></span></div><div class="links-of-blogroll site-overview-item animated"><div class=links-of-blogroll-title><i class="fa fa-globe fa-fw"></i>
友情链接</div><ul class=links-of-blogroll-list><li class=links-of-blogroll-item><a href=https://www.qipai360.cn title=https://www.qipai360.cn target=_blank>Qipai360</a></li><li class=links-of-blogroll-item><a href=https://www.cnblogs.com/flying_bat title=https://www.cnblogs.com/flying_bat target=_blank>博客园</a></li><li class=links-of-blogroll-item><a href=https://zishu.me title=https://zishu.me target=_blank>子舒的博客</a></li><li class=links-of-blogroll-item><a href=https://gitee.com/hugo-next/hugo-theme-next title=https://gitee.com/hugo-next/hugo-theme-next target=_blank>Hugo-NexT</a></li></ul></div></div></div></div><div id=siteinfo-card-widget class=sidebar-card-widget><div class=item-headline><i class="fas fa-chart-line"></i>
<span>网站资讯</span></div><div class=siteinfo><div class=siteinfo-item><div class=item-name><i class="fa-solid fa-calendar-check"></i>已运行：</div><div class=item-count id=runTimes data-publishdate="2004-10-06 15:24:00 +0800 +0800"></div></div><div class=siteinfo-item><div class=item-name><i class="fas fa fa-user"></i>总访客数：</div><div class=item-count id=busuanzi_value_site_uv><i class="fa fa-sync fa-spin"></i></div></div><div class=siteinfo-item><div class=item-name><i class="fas fa fa-eye"></i>页面浏览：</div><div class=item-count id=busuanzi_value_site_pv><i class="fa fa-sync fa-spin"></i></div></div><div class=siteinfo-item><div class=item-name><i class="fa fa-font"></i>总字数：</div><div class=item-count id=wordsCount data-count=2418817></div></div><div class=siteinfo-item><div class=item-name><i class="fa fa-mug-hot"></i>阅读约：</div><div class=item-count id=readTimes data-times=5198></div></div><div class=siteinfo-item><div class=item-name><i class="fa fa-clock-rotate-left"></i>最后更新于：</div><div class=item-count id=last-push-date data-lastpushdate="2025-11-01 14:55:00 +0800 +0800"></div></div></div></div></aside><div class=sidebar-dimmer></div></header><div class=tool-buttons><div id=goto-comments class="button goto-comments" title=直达评论><i class="fas fa-comments"></i></div><div id=toggle-theme class=button title=深浅模式切换><i class="fas fa-adjust"></i></div><div class=back-to-top role=button title=返回顶部><i class="fa fa-arrow-up"></i>
<span>0%</span></div></div><div class=reading-progress-bar></div><a role=button class="book-mark-link book-mark-link-fixed"></a><a href=https://github.com/rise-worlds rel="noopener external nofollow noreferrer" target=_blank title="Follow me on GitHub" class="exturl github-corner"><svg width="80" height="80" viewBox="0 0 250 250" aria-hidden="true"><path d="M0 0 115 115h15l12 27L250 250V0z"/><path d="M128.3 109C113.8 99.7 119 89.6 119 89.6 122 82.7 120.5 78.6 120.5 78.6 119.2 72 123.4 76.3 123.4 76.3 127.3 80.9 125.5 87.3 125.5 87.3 122.9 97.6 130.6 101.9 134.4 103.2" fill="currentColor" style="transform-origin:130px 106px" class="octo-arm"/><path d="M115 115C114.9 115.1 118.7 116.5 119.8 115.4l13.9-13.8C136.9 99.2 139.9 98.4 142.2 98.6 133.8 88 127.5 74.4 143.8 58 148.5 53.4 154 51.2 159.7 51 160.3 49.4 163.2 43.6 171.4 40.1 171.4 40.1 176.1 42.5 178.8 56.2 183.1 58.6 187.2 61.8 190.9 65.4 194.5 69 197.7 73.2 200.1 77.6 213.8 80.2 216.3 84.9 216.3 84.9 212.7 93.1 206.9 96 205.4 96.6 205.1 102.4 203 107.8 198.3 112.5 181.9 128.9 168.3 122.5 157.7 114.1 157.9 116.9 156.7 120.9 152.7 124.9L141 136.5C139.8 137.7 141.6 141.9 141.8 141.8z" fill="currentColor" class="octo-body"/></svg></a><noscript><div class=noscript-warning>Theme NexT works best with JavaScript enabled</div></noscript><div class="main-inner index posts-expand"><div class=post-block><article itemscope itemtype=http://schema.org/Article class=post-content lang><link itemprop=mainEntityOfPage href=https://blogs.qipai360.cn/post/rust-compiling-openssl-on-windows/><span hidden itemprop=author itemscope itemtype=http://schema.org/Person><meta itemprop=image content="/imgs/avatar.jpg"><meta itemprop=name content="Rise"></span><span hidden itemprop=publisher itemscope itemtype=http://schema.org/Organization><meta itemprop=name content="Rise"><meta itemprop=description content="福兮祸兮，焉知所依？冬去冰泮，春来萌荣。朝生暮死，亦可惊鸿。知足者富，自足者强。"></span><span hidden itemprop=post itemscope itemtype=http://schema.org/CreativeWork><meta itemprop=name content="rust在windows上编译openssl"><meta itemprop=description content="

 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25


#安装vcpkg和openssl
cd F:\Github
git clone https://github.com/microsoft/vcpkg --depth=1
cd vcpkg
./bootstrap-vcpkg.bat
./vcpkg install openssl:x64-windows-static

#设置环境变量
$env:VCPKG_ROOT = 'F:\Github\vcpkg'
$env:OPENSSL_DIR = &#34;%VCPKG_ROOT%\installed\x64-windows-static&#34;
$env:OPENSSL_INCLUDE_DIR=&#34;%VCPKG_ROOT%\installed\x64-windows-static\include&#34;
$env:OPENSSL_LIB_DIR=&#34;%VCPKG_ROOT%\installed\x64-windows-static\lib&#34;
$env:OPENSSL_STATIC = 'Yes'
$env:OPENSSL_NO_VENDOR=1

[System.Environment]::SetEnvironmentVariable('VCPKG_ROOT', $env:VCPKG_ROOT, [System.EnvironmentVariableTarget]::Machine)
[System.Environment]::SetEnvironmentVariable('OPENSSL_DIR', $env:OPENSSL_DIR, [System.EnvironmentVariableTarget]::Machine)
[System.Environment]::SetEnvironmentVariable('OPENSSL_INCLUDE_DIR', $env:OPENSSL_INCLUDE_DIR, [System.EnvironmentVariableTarget]::Machine)
[System.Environment]::SetEnvironmentVariable('OPENSSL_LIB_DIR', $env:OPENSSL_LIB_DIR, [System.EnvironmentVariableTarget]::Machine)
[System.Environment]::SetEnvironmentVariable('OPENSSL_STATIC', $env:OPENSSL_STATIC, [System.EnvironmentVariableTarget]::Machine)
[System.Environment]::SetEnvironmentVariable('OPENSSL_NO_VENDOR', $env:OPENSSL_NO_VENDOR, [System.EnvironmentVariableTarget]::Machine)

#安装choco和make
Set-ExecutionPolicy Bypass -Scope Process -Force; [System.Net.ServicePointManager]::SecurityProtocol = [System.Net.ServicePointManager]::SecurityProtocol -bor 3072; iex ((New-Object System.Net.WebClient).DownloadString('https://community.chocolatey.org/install.ps1'))
choco install make -y

"></span><header class=post-header><h2 class=post-title itemprop="name headline"><a href=/post/rust-compiling-openssl-on-windows/ itemprop=url class=post-title-link>rust在windows上编译openssl</a></h2><div class=post-meta-container><div class=post-meta-items><span class=post-meta-item><span class=post-meta-item-icon><i class="fas fa-solid fa-calendar"></i>
</span><span class=post-meta-item-text title=发表于>发表于：
</span><time title="创建时间：2022年04月08日 23:06:00 CST" itemprop="dateCreated datePublished" datetime="2022-04-08 23:06:00 +0800 +0800">2022年04月08日
</time></span><span class=post-meta-item><span class=post-meta-item-icon><i class="fas fa-solid fa-calendar-check"></i>
</span><span class=post-meta-item-text title=更新于>更新于：
</span><time title="修改时间：2024年04月21日 14:53:00 CST" itemprop="dateModified dateLastmod" datetime="2024-04-21 14:53:00 +0800 +0800">2024年04月21日
</time></span><span class=post-meta-item><span class=post-meta-item-icon><i class="fas fa-solid fa-folder-open"></i>
</span><span class=post-meta-item-text title=分类于>分类于：
</span><span itemprop=about itemscope itemtype=http://schema.org/Thing><a href=/categories/dev/ itemprop=url rel=index><span itemprop=name>dev</span>
</a></span></span><span class=post-meta-item title=浏览><span class=post-meta-item-icon><i class="fas fa-solid fa-eye"></i>
</span><span class=post-meta-item-text>浏览：
</span><span id=pageview-count data-path=/post/rust-compiling-openssl-on-windows/><i class="fa fa-sync fa-spin"></i></span></span></div></div></header><div class=post-body itemprop=articleBody><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-0-1><a class=lnlinks href=#hl-0-1> 1</a>
</span><span class=lnt id=hl-0-2><a class=lnlinks href=#hl-0-2> 2</a>
</span><span class=lnt id=hl-0-3><a class=lnlinks href=#hl-0-3> 3</a>
</span><span class=lnt id=hl-0-4><a class=lnlinks href=#hl-0-4> 4</a>
</span><span class=lnt id=hl-0-5><a class=lnlinks href=#hl-0-5> 5</a>
</span><span class=lnt id=hl-0-6><a class=lnlinks href=#hl-0-6> 6</a>
</span><span class=lnt id=hl-0-7><a class=lnlinks href=#hl-0-7> 7</a>
</span><span class=lnt id=hl-0-8><a class=lnlinks href=#hl-0-8> 8</a>
</span><span class=lnt id=hl-0-9><a class=lnlinks href=#hl-0-9> 9</a>
</span><span class=lnt id=hl-0-10><a class=lnlinks href=#hl-0-10>10</a>
</span><span class=lnt id=hl-0-11><a class=lnlinks href=#hl-0-11>11</a>
</span><span class=lnt id=hl-0-12><a class=lnlinks href=#hl-0-12>12</a>
</span><span class=lnt id=hl-0-13><a class=lnlinks href=#hl-0-13>13</a>
</span><span class=lnt id=hl-0-14><a class=lnlinks href=#hl-0-14>14</a>
</span><span class=lnt id=hl-0-15><a class=lnlinks href=#hl-0-15>15</a>
</span><span class=lnt id=hl-0-16><a class=lnlinks href=#hl-0-16>16</a>
</span><span class=lnt id=hl-0-17><a class=lnlinks href=#hl-0-17>17</a>
</span><span class=lnt id=hl-0-18><a class=lnlinks href=#hl-0-18>18</a>
</span><span class=lnt id=hl-0-19><a class=lnlinks href=#hl-0-19>19</a>
</span><span class=lnt id=hl-0-20><a class=lnlinks href=#hl-0-20>20</a>
</span><span class=lnt id=hl-0-21><a class=lnlinks href=#hl-0-21>21</a>
</span><span class=lnt id=hl-0-22><a class=lnlinks href=#hl-0-22>22</a>
</span><span class=lnt id=hl-0-23><a class=lnlinks href=#hl-0-23>23</a>
</span><span class=lnt id=hl-0-24><a class=lnlinks href=#hl-0-24>24</a>
</span><span class=lnt id=hl-0-25><a class=lnlinks href=#hl-0-25>25</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl><span class=c1>#安装vcpkg和openssl</span>
</span></span><span class=line><span class=cl><span class=nb>cd</span> F:<span class=se>\G</span>ithub
</span></span><span class=line><span class=cl>git clone https://github.com/microsoft/vcpkg --depth<span class=o>=</span><span class=m>1</span>
</span></span><span class=line><span class=cl><span class=nb>cd</span> vcpkg
</span></span><span class=line><span class=cl>./bootstrap-vcpkg.bat
</span></span><span class=line><span class=cl>./vcpkg install openssl:x64-windows-static
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>#设置环境变量</span>
</span></span><span class=line><span class=cl><span class=nv>$env</span>:VCPKG_ROOT <span class=o>=</span> <span class=s1>&#39;F:\Github\vcpkg&#39;</span>
</span></span><span class=line><span class=cl><span class=nv>$env</span>:OPENSSL_DIR <span class=o>=</span> <span class=s2>&#34;%VCPKG_ROOT%\installed\x64-windows-static&#34;</span>
</span></span><span class=line><span class=cl><span class=nv>$env</span>:OPENSSL_INCLUDE_DIR<span class=o>=</span><span class=s2>&#34;%VCPKG_ROOT%\installed\x64-windows-static\include&#34;</span>
</span></span><span class=line><span class=cl><span class=nv>$env</span>:OPENSSL_LIB_DIR<span class=o>=</span><span class=s2>&#34;%VCPKG_ROOT%\installed\x64-windows-static\lib&#34;</span>
</span></span><span class=line><span class=cl><span class=nv>$env</span>:OPENSSL_STATIC <span class=o>=</span> <span class=s1>&#39;Yes&#39;</span>
</span></span><span class=line><span class=cl><span class=nv>$env</span>:OPENSSL_NO_VENDOR<span class=o>=</span><span class=m>1</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=o>[</span>System.Environment<span class=o>]</span>::SetEnvironmentVariable<span class=o>(</span><span class=s1>&#39;VCPKG_ROOT&#39;</span>, <span class=nv>$env</span>:VCPKG_ROOT, <span class=o>[</span>System.EnvironmentVariableTarget<span class=o>]</span>::Machine<span class=o>)</span>
</span></span><span class=line><span class=cl><span class=o>[</span>System.Environment<span class=o>]</span>::SetEnvironmentVariable<span class=o>(</span><span class=s1>&#39;OPENSSL_DIR&#39;</span>, <span class=nv>$env</span>:OPENSSL_DIR, <span class=o>[</span>System.EnvironmentVariableTarget<span class=o>]</span>::Machine<span class=o>)</span>
</span></span><span class=line><span class=cl><span class=o>[</span>System.Environment<span class=o>]</span>::SetEnvironmentVariable<span class=o>(</span><span class=s1>&#39;OPENSSL_INCLUDE_DIR&#39;</span>, <span class=nv>$env</span>:OPENSSL_INCLUDE_DIR, <span class=o>[</span>System.EnvironmentVariableTarget<span class=o>]</span>::Machine<span class=o>)</span>
</span></span><span class=line><span class=cl><span class=o>[</span>System.Environment<span class=o>]</span>::SetEnvironmentVariable<span class=o>(</span><span class=s1>&#39;OPENSSL_LIB_DIR&#39;</span>, <span class=nv>$env</span>:OPENSSL_LIB_DIR, <span class=o>[</span>System.EnvironmentVariableTarget<span class=o>]</span>::Machine<span class=o>)</span>
</span></span><span class=line><span class=cl><span class=o>[</span>System.Environment<span class=o>]</span>::SetEnvironmentVariable<span class=o>(</span><span class=s1>&#39;OPENSSL_STATIC&#39;</span>, <span class=nv>$env</span>:OPENSSL_STATIC, <span class=o>[</span>System.EnvironmentVariableTarget<span class=o>]</span>::Machine<span class=o>)</span>
</span></span><span class=line><span class=cl><span class=o>[</span>System.Environment<span class=o>]</span>::SetEnvironmentVariable<span class=o>(</span><span class=s1>&#39;OPENSSL_NO_VENDOR&#39;</span>, <span class=nv>$env</span>:OPENSSL_NO_VENDOR, <span class=o>[</span>System.EnvironmentVariableTarget<span class=o>]</span>::Machine<span class=o>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>#安装choco和make</span>
</span></span><span class=line><span class=cl>Set-ExecutionPolicy Bypass -Scope Process -Force<span class=p>;</span> <span class=o>[</span>System.Net.ServicePointManager<span class=o>]</span>::SecurityProtocol <span class=o>=</span> <span class=o>[</span>System.Net.ServicePointManager<span class=o>]</span>::SecurityProtocol -bor 3072<span class=p>;</span> iex <span class=o>((</span>New-Object System.Net.WebClient<span class=o>)</span>.DownloadString<span class=o>(</span><span class=s1>&#39;https://community.chocolatey.org/install.ps1&#39;</span><span class=o>))</span>
</span></span><span class=line><span class=cl>choco install make -y</span></span></code></pre></td></tr></table></div></div></div><footer class=post-footer><div class=post-button><a class=btn href=/post/rust-compiling-openssl-on-windows/#more rel=contents>阅读全文 &#187;</a></div><div class=post-eof></div></footer></article></div><div class=post-block><article itemscope itemtype=http://schema.org/Article class=post-content lang><link itemprop=mainEntityOfPage href=https://blogs.qipai360.cn/post/mac-remote-desktop-user-account-did-not-work-solution/><span hidden itemprop=author itemscope itemtype=http://schema.org/Person><meta itemprop=image content="/imgs/avatar.jpg"><meta itemprop=name content="Rise"></span><span hidden itemprop=publisher itemscope itemtype=http://schema.org/Organization><meta itemprop=name content="Rise"><meta itemprop=description content="福兮祸兮，焉知所依？冬去冰泮，春来萌荣。朝生暮死，亦可惊鸿。知足者富，自足者强。"></span><span hidden itemprop=post itemscope itemtype=http://schema.org/CreativeWork><meta itemprop=name content="mac 远程桌面 the user account did not work的解决办法"><meta itemprop=description content="在windows 10/11中登录方式很多，如果提前设置了Windows Hello 登录(PIN)可能导致账号不能登录，根据我的测试结果要进行以下几步操作："></span><header class=post-header><h2 class=post-title itemprop="name headline"><a href=/post/mac-remote-desktop-user-account-did-not-work-solution/ itemprop=url class=post-title-link>mac 远程桌面 the user account did not work的解决办法</a></h2><div class=post-meta-container><div class=post-meta-items><span class=post-meta-item><span class=post-meta-item-icon><i class="fas fa-solid fa-calendar"></i>
</span><span class=post-meta-item-text title=发表于>发表于：
</span><time title="创建时间：2022年02月11日 17:17:00 CST" itemprop="dateCreated datePublished" datetime="2022-02-11 17:17:00 +0800 +0800">2022年02月11日
</time></span><span class=post-meta-item><span class=post-meta-item-icon><i class="fas fa-solid fa-calendar-check"></i>
</span><span class=post-meta-item-text title=更新于>更新于：
</span><time title="修改时间：2022年02月11日 17:25:00 CST" itemprop="dateModified dateLastmod" datetime="2022-02-11 17:25:00 +0800 +0800">2022年02月11日
</time></span><span class=post-meta-item title=浏览><span class=post-meta-item-icon><i class="fas fa-solid fa-eye"></i>
</span><span class=post-meta-item-text>浏览：
</span><span id=pageview-count data-path=/post/mac-remote-desktop-user-account-did-not-work-solution/><i class="fa fa-sync fa-spin"></i></span></span></div></div></header><div class=post-body itemprop=articleBody><p>在windows 10/11中登录方式很多，如果提前设置了Windows Hello 登录(PIN)可能导致账号不能登录，根据我的测试结果要进行以下几步操作：</p></div><footer class=post-footer><div class=post-button><a class=btn href=/post/mac-remote-desktop-user-account-did-not-work-solution/#more rel=contents>阅读全文 &#187;</a></div><div class=post-eof></div></footer></article></div><div class=post-block><article itemscope itemtype=http://schema.org/Article class=post-content lang><link itemprop=mainEntityOfPage href=https://blogs.qipai360.cn/post/macos-static-compile-ffmpeg-x264-x265-codec-libraries-script/><span hidden itemprop=author itemscope itemtype=http://schema.org/Person><meta itemprop=image content="/imgs/avatar.jpg"><meta itemprop=name content="Rise"></span><span hidden itemprop=publisher itemscope itemtype=http://schema.org/Organization><meta itemprop=name content="Rise"><meta itemprop=description content="福兮祸兮，焉知所依？冬去冰泮，春来萌荣。朝生暮死，亦可惊鸿。知足者富，自足者强。"></span><span hidden itemprop=post itemscope itemtype=http://schema.org/CreativeWork><meta itemprop=name content="MacOS静态编译ffmpeg 4.4.1、x264、x265等编解码库的脚本"><meta itemprop=description content="说明

MacOS平台的ffmpeg编译脚本，包含x264、x265、fdk-aac、opus以及openssl和rtmp库。
注释中有相关包的下载地址，需要先下载解压。
如果需要openssl则把openssl的相关的脚本注释去掉，并在ffmpeg脚本参数&ndash;extra-libs中添加上 -lssl -lcrypto。
如果需要rtmp库，则必须启用openssl，并在ffmpeg脚本参数中启用&ndash;enable-rtmp，现在是禁用状态。（其实没必要启用，只要支持flv格式就推拉流）"></span><header class=post-header><h2 class=post-title itemprop="name headline"><a href=/post/macos-static-compile-ffmpeg-x264-x265-codec-libraries-script/ itemprop=url class=post-title-link>MacOS静态编译ffmpeg 4.4.1、x264、x265等编解码库的脚本</a></h2><div class=post-meta-container><div class=post-meta-items><span class=post-meta-item><span class=post-meta-item-icon><i class="fas fa-solid fa-calendar"></i>
</span><span class=post-meta-item-text title=发表于>发表于：
</span><time title="创建时间：2022年01月22日 15:59:00 CST" itemprop="dateCreated datePublished" datetime="2022-01-22 15:59:00 +0800 +0800">2022年01月22日
</time></span><span class=post-meta-item><span class=post-meta-item-icon><i class="fas fa-solid fa-folder-open"></i>
</span><span class=post-meta-item-text title=分类于>分类于：
</span><span itemprop=about itemscope itemtype=http://schema.org/Thing><a href=/categories/dev/ itemprop=url rel=index><span itemprop=name>dev</span>
</a></span></span><span class=post-meta-item title=浏览><span class=post-meta-item-icon><i class="fas fa-solid fa-eye"></i>
</span><span class=post-meta-item-text>浏览：
</span><span id=pageview-count data-path=/post/macos-static-compile-ffmpeg-x264-x265-codec-libraries-script/><i class="fa fa-sync fa-spin"></i></span></span></div></div></header><div class=post-body itemprop=articleBody><h4 id=说明>说明
<a class=header-anchor href=#%e8%af%b4%e6%98%8e></a></h4><p>MacOS平台的ffmpeg编译脚本，包含x264、x265、fdk-aac、opus以及openssl和rtmp库。</p><p>注释中有相关包的下载地址，需要先下载解压。
如果需要openssl则把openssl的相关的脚本注释去掉，并在ffmpeg脚本参数&ndash;extra-libs中添加上 -lssl -lcrypto。
如果需要rtmp库，则必须启用openssl，并在ffmpeg脚本参数中启用&ndash;enable-rtmp，现在是禁用状态。（其实没必要启用，只要支持flv格式就推拉流）</p></div><footer class=post-footer><div class=post-button><a class=btn href=/post/macos-static-compile-ffmpeg-x264-x265-codec-libraries-script/#more rel=contents>阅读全文 &#187;</a></div><div class=post-eof></div></footer></article></div><div class=post-block><article itemscope itemtype=http://schema.org/Article class=post-content lang><link itemprop=mainEntityOfPage href=https://blogs.qipai360.cn/post/linux-windows-static-compile-ffmpeg-441-x264-x265-codec-libraries-script/><span hidden itemprop=author itemscope itemtype=http://schema.org/Person><meta itemprop=image content="/imgs/avatar.jpg"><meta itemprop=name content="Rise"></span><span hidden itemprop=publisher itemscope itemtype=http://schema.org/Organization><meta itemprop=name content="Rise"><meta itemprop=description content="福兮祸兮，焉知所依？冬去冰泮，春来萌荣。朝生暮死，亦可惊鸿。知足者富，自足者强。"></span><span hidden itemprop=post itemscope itemtype=http://schema.org/CreativeWork><meta itemprop=name content="Linux、Windows静态编译ffmpeg 4.4.1、x264、x265等编解码库的脚本"><meta itemprop=description content="说明

Ubuntu、Centos和Windows三平台的ffmpeg编译脚本，包含x264、x265、cuda加速、fdk-aac、opus以及openssl和rtmp库。"></span><header class=post-header><h2 class=post-title itemprop="name headline"><a href=/post/linux-windows-static-compile-ffmpeg-441-x264-x265-codec-libraries-script/ itemprop=url class=post-title-link>Linux、Windows静态编译ffmpeg 4.4.1、x264、x265等编解码库的脚本</a></h2><div class=post-meta-container><div class=post-meta-items><span class=post-meta-item><span class=post-meta-item-icon><i class="fas fa-solid fa-calendar"></i>
</span><span class=post-meta-item-text title=发表于>发表于：
</span><time title="创建时间：2022年01月11日 11:02:00 CST" itemprop="dateCreated datePublished" datetime="2022-01-11 11:02:00 +0800 +0800">2022年01月11日
</time></span><span class=post-meta-item><span class=post-meta-item-icon><i class="fas fa-solid fa-calendar-check"></i>
</span><span class=post-meta-item-text title=更新于>更新于：
</span><time title="修改时间：2022年01月11日 11:15:00 CST" itemprop="dateModified dateLastmod" datetime="2022-01-11 11:15:00 +0800 +0800">2022年01月11日
</time></span><span class=post-meta-item><span class=post-meta-item-icon><i class="fas fa-solid fa-folder-open"></i>
</span><span class=post-meta-item-text title=分类于>分类于：
</span><span itemprop=about itemscope itemtype=http://schema.org/Thing><a href=/categories/dev/ itemprop=url rel=index><span itemprop=name>dev</span>
</a></span></span><span class=post-meta-item title=浏览><span class=post-meta-item-icon><i class="fas fa-solid fa-eye"></i>
</span><span class=post-meta-item-text>浏览：
</span><span id=pageview-count data-path=/post/linux-windows-static-compile-ffmpeg-441-x264-x265-codec-libraries-script/><i class="fa fa-sync fa-spin"></i></span></span></div></div></header><div class=post-body itemprop=articleBody><h3 id=说明>说明
<a class=header-anchor href=#%e8%af%b4%e6%98%8e></a></h3><p>Ubuntu、Centos和Windows三平台的ffmpeg编译脚本，包含x264、x265、cuda加速、fdk-aac、opus以及openssl和rtmp库。</p></div><footer class=post-footer><div class=post-button><a class=btn href=/post/linux-windows-static-compile-ffmpeg-441-x264-x265-codec-libraries-script/#more rel=contents>阅读全文 &#187;</a></div><div class=post-eof></div></footer></article></div><div class=post-block><article itemscope itemtype=http://schema.org/Article class=post-content lang><link itemprop=mainEntityOfPage href=https://blogs.qipai360.cn/post/visual-studio-2022-key/><span hidden itemprop=author itemscope itemtype=http://schema.org/Person><meta itemprop=image content="/imgs/avatar.jpg"><meta itemprop=name content="Rise"></span><span hidden itemprop=publisher itemscope itemtype=http://schema.org/Organization><meta itemprop=name content="Rise"><meta itemprop=description content="福兮祸兮，焉知所依？冬去冰泮，春来萌荣。朝生暮死，亦可惊鸿。知足者富，自足者强。"></span><span hidden itemprop=post itemscope itemtype=http://schema.org/CreativeWork><meta itemprop=name content="Visual Studio 2022 Key"><meta itemprop=description content="Visual Studio 2022
Pro:        TD244-P4NB7-YQ6XK-Y8MMM-YWV2J
Enterprise: VHF9H-NXBBB-638P6-6JHCY-88JWH
Visual Studio 2019
Pro:        NYWVH-HT4XC-R2WYW-9Y3CM-X4V3Y
Enterprise: BF8Y8-GN2QH-T84XB-QVY3B-RC4DF"></span><header class=post-header><h2 class=post-title itemprop="name headline"><a href=/post/visual-studio-2022-key/ itemprop=url class=post-title-link>Visual Studio 2022 Key</a></h2><div class=post-meta-container><div class=post-meta-items><span class=post-meta-item><span class=post-meta-item-icon><i class="fas fa-solid fa-calendar"></i>
</span><span class=post-meta-item-text title=发表于>发表于：
</span><time title="创建时间：2021年11月10日 15:35:00 CST" itemprop="dateCreated datePublished" datetime="2021-11-10 15:35:00 +0800 +0800">2021年11月10日
</time></span><span class=post-meta-item><span class=post-meta-item-icon><i class="fas fa-solid fa-folder-open"></i>
</span><span class=post-meta-item-text title=分类于>分类于：
</span><span itemprop=about itemscope itemtype=http://schema.org/Thing><a href=/categories/toolstips/ itemprop=url rel=index><span itemprop=name>ToolsTips</span>
</a></span></span><span class=post-meta-item title=浏览><span class=post-meta-item-icon><i class="fas fa-solid fa-eye"></i>
</span><span class=post-meta-item-text>浏览：
</span><span id=pageview-count data-path=/post/visual-studio-2022-key/><i class="fa fa-sync fa-spin"></i></span></span></div></div></header><div class=post-body itemprop=articleBody><p>Visual Studio 2022
Pro: TD244-P4NB7-YQ6XK-Y8MMM-YWV2J
Enterprise: VHF9H-NXBBB-638P6-6JHCY-88JWH</p><p>Visual Studio 2019
Pro: NYWVH-HT4XC-R2WYW-9Y3CM-X4V3Y
Enterprise: BF8Y8-GN2QH-T84XB-QVY3B-RC4DF</p></div><footer class=post-footer><div class=post-button><a class=btn href=/post/visual-studio-2022-key/#more rel=contents>阅读全文 &#187;</a></div><div class=post-eof></div></footer></article></div><div class=post-block><article itemscope itemtype=http://schema.org/Article class=post-content lang><link itemprop=mainEntityOfPage href=https://blogs.qipai360.cn/post/install-bt-panel-in-docker/><span hidden itemprop=author itemscope itemtype=http://schema.org/Person><meta itemprop=image content="/imgs/avatar.jpg"><meta itemprop=name content="Rise"></span><span hidden itemprop=publisher itemscope itemtype=http://schema.org/Organization><meta itemprop=name content="Rise"><meta itemprop=description content="福兮祸兮，焉知所依？冬去冰泮，春来萌荣。朝生暮死，亦可惊鸿。知足者富，自足者强。"></span><span hidden itemprop=post itemscope itemtype=http://schema.org/CreativeWork><meta itemprop=name content="在Docker中安装宝塔面板"><meta itemprop=description content="安装宝塔




1
2
3
4
5


sudo docker pull centos:centos7 #centos:centos8 centos:latest #下载centos镜像
sudo docker run -i -t -d --name baota --net=host --restart=always \
  --privileged=true -v /home/www:/www centos:centos7
sudo docker exec -it baota /bin/bash #进入容器系统
yum install -y wget && wget -O install.sh http://download.bt.cn/install/install_6.0.sh && sh install.sh #正常安装宝塔



注意：为了能够保存（持久化）数据以及共享容器间的数据,docker一定使用-v挂载主机目录到容器，比如上面启动容器的 docker -v 参数。
宝塔默认密码使用 : bt default 查看，登录进去修改即可"></span><header class=post-header><h2 class=post-title itemprop="name headline"><a href=/post/install-bt-panel-in-docker/ itemprop=url class=post-title-link>在Docker中安装宝塔面板</a></h2><div class=post-meta-container><div class=post-meta-items><span class=post-meta-item><span class=post-meta-item-icon><i class="fas fa-solid fa-calendar"></i>
</span><span class=post-meta-item-text title=发表于>发表于：
</span><time title="创建时间：2021年10月07日 18:04:00 CST" itemprop="dateCreated datePublished" datetime="2021-10-07 18:04:00 +0800 +0800">2021年10月07日
</time></span><span class=post-meta-item><span class=post-meta-item-icon><i class="fas fa-solid fa-calendar-check"></i>
</span><span class=post-meta-item-text title=更新于>更新于：
</span><time title="修改时间：2021年10月07日 20:48:00 CST" itemprop="dateModified dateLastmod" datetime="2021-10-07 20:48:00 +0800 +0800">2021年10月07日
</time></span><span class=post-meta-item><span class=post-meta-item-icon><i class="fas fa-solid fa-folder-open"></i>
</span><span class=post-meta-item-text title=分类于>分类于：
</span><span itemprop=about itemscope itemtype=http://schema.org/Thing><a href=/categories/toolstips/ itemprop=url rel=index><span itemprop=name>ToolsTips</span>
</a></span></span><span class=post-meta-item title=浏览><span class=post-meta-item-icon><i class="fas fa-solid fa-eye"></i>
</span><span class=post-meta-item-text>浏览：
</span><span id=pageview-count data-path=/post/install-bt-panel-in-docker/><i class="fa fa-sync fa-spin"></i></span></span></div></div></header><div class=post-body itemprop=articleBody><h3 id=安装宝塔>安装宝塔
<a class=header-anchor href=#%e5%ae%89%e8%a3%85%e5%ae%9d%e5%a1%94></a></h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-0-1><a class=lnlinks href=#hl-0-1>1</a>
</span><span class=lnt id=hl-0-2><a class=lnlinks href=#hl-0-2>2</a>
</span><span class=lnt id=hl-0-3><a class=lnlinks href=#hl-0-3>3</a>
</span><span class=lnt id=hl-0-4><a class=lnlinks href=#hl-0-4>4</a>
</span><span class=lnt id=hl-0-5><a class=lnlinks href=#hl-0-5>5</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>sudo docker pull centos:centos7 <span class=c1>#centos:centos8 centos:latest #下载centos镜像</span>
</span></span><span class=line><span class=cl>sudo docker run -i -t -d --name baota --net<span class=o>=</span>host --restart<span class=o>=</span>always <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>  --privileged<span class=o>=</span><span class=nb>true</span> -v /home/www:/www centos:centos7
</span></span><span class=line><span class=cl>sudo docker <span class=nb>exec</span> -it baota /bin/bash <span class=c1>#进入容器系统</span>
</span></span><span class=line><span class=cl>yum install -y wget <span class=o>&amp;&amp;</span> wget -O install.sh http://download.bt.cn/install/install_6.0.sh <span class=o>&amp;&amp;</span> sh install.sh <span class=c1>#正常安装宝塔</span></span></span></code></pre></td></tr></table></div></div><p>注意：为了能够保存（持久化）数据以及共享容器间的数据,docker一定使用-v挂载主机目录到容器，比如上面启动容器的 docker -v 参数。
宝塔默认密码使用 : bt default 查看，登录进去修改即可</p></div><footer class=post-footer><div class=post-button><a class=btn href=/post/install-bt-panel-in-docker/#more rel=contents>阅读全文 &#187;</a></div><div class=post-eof></div></footer></article></div><div class=post-block><article itemscope itemtype=http://schema.org/Article class=post-content lang><link itemprop=mainEntityOfPage href=https://blogs.qipai360.cn/post/idea-clion-comment-position/><span hidden itemprop=author itemscope itemtype=http://schema.org/Person><meta itemprop=image content="/imgs/avatar.jpg"><meta itemprop=name content="Rise"></span><span hidden itemprop=publisher itemscope itemtype=http://schema.org/Organization><meta itemprop=name content="Rise"><meta itemprop=description content="福兮祸兮，焉知所依？冬去冰泮，春来萌荣。朝生暮死，亦可惊鸿。知足者富，自足者强。"></span><span hidden itemprop=post itemscope itemtype=http://schema.org/CreativeWork><meta itemprop=name content="idea/clion行注释位置(不在首列，注释就靠近代码块)"><meta itemprop=description content="进入 Settings -> Code Style -> Java或C/C++ ，在右边选择 “Code Generation” Tab，然后找到 Comment Code 那块，把
Line comment at first column
Block comment at first column
去掉前面两个的复选框，这样注释就靠近代码块了。
选上Add a space at comment start就会在代码块前添加一个空格。"></span><header class=post-header><h2 class=post-title itemprop="name headline"><a href=/post/idea-clion-comment-position/ itemprop=url class=post-title-link>idea/clion行注释位置(不在首列，注释就靠近代码块)</a></h2><div class=post-meta-container><div class=post-meta-items><span class=post-meta-item><span class=post-meta-item-icon><i class="fas fa-solid fa-calendar"></i>
</span><span class=post-meta-item-text title=发表于>发表于：
</span><time title="创建时间：2021年06月03日 23:24:00 CST" itemprop="dateCreated datePublished" datetime="2021-06-03 23:24:00 +0800 +0800">2021年06月03日
</time></span><span class=post-meta-item><span class=post-meta-item-icon><i class="fas fa-solid fa-calendar-check"></i>
</span><span class=post-meta-item-text title=更新于>更新于：
</span><time title="修改时间：2021年06月03日 23:25:00 CST" itemprop="dateModified dateLastmod" datetime="2021-06-03 23:25:00 +0800 +0800">2021年06月03日
</time></span><span class=post-meta-item><span class=post-meta-item-icon><i class="fas fa-solid fa-folder-open"></i>
</span><span class=post-meta-item-text title=分类于>分类于：
</span><span itemprop=about itemscope itemtype=http://schema.org/Thing><a href=/categories/toolstips/ itemprop=url rel=index><span itemprop=name>ToolsTips</span>
</a></span></span><span class=post-meta-item title=浏览><span class=post-meta-item-icon><i class="fas fa-solid fa-eye"></i>
</span><span class=post-meta-item-text>浏览：
</span><span id=pageview-count data-path=/post/idea-clion-comment-position/><i class="fa fa-sync fa-spin"></i></span></span></div></div></header><div class=post-body itemprop=articleBody><p>进入 Settings -> Code Style -> Java或C/C++ ，在右边选择 “Code Generation” Tab，然后找到 Comment Code 那块，把
Line comment at first column
Block comment at first column
去掉前面两个的复选框，这样注释就靠近代码块了。
选上Add a space at comment start就会在代码块前添加一个空格。</p></div><footer class=post-footer><div class=post-button><a class=btn href=/post/idea-clion-comment-position/#more rel=contents>阅读全文 &#187;</a></div><div class=post-eof></div></footer></article></div><div class=post-block><article itemscope itemtype=http://schema.org/Article class=post-content lang><link itemprop=mainEntityOfPage href=https://blogs.qipai360.cn/post/linux-manual-compilation-llvm_clang/><span hidden itemprop=author itemscope itemtype=http://schema.org/Person><meta itemprop=image content="/imgs/avatar.jpg"><meta itemprop=name content="Rise"></span><span hidden itemprop=publisher itemscope itemtype=http://schema.org/Organization><meta itemprop=name content="Rise"><meta itemprop=description content="福兮祸兮，焉知所依？冬去冰泮，春来萌荣。朝生暮死，亦可惊鸿。知足者富，自足者强。"></span><span hidden itemprop=post itemscope itemtype=http://schema.org/CreativeWork><meta itemprop=name content="linux手动编译llvm/clang"><meta itemprop=description content='
centos 7 安装前置依赖




 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14


sudo yum install git python-devel libffi-devel graphviz-devel elfutils-libelf-devel \
  readline-devel libedit-devel libxml2-devel protobuf-devel gtext-devel doxygen swig
sudo yum install -y centos-release-scl scl-utils-build
sudo yum install -y devtoolset-9 
source /opt/rh/devtoolset-9/enable
export CC=/opt/rh/devtoolset-9/root/bin/gcc
export CXX=/opt/rh/devtoolset-9/root/bin/g++

wget https://github.com/Kitware/CMake/releases/download/v3.20.0/cmake-3.20.0.tar.gz
tar xzvf cmake-3.20.0.tar.gz
cd cmake-3.20.0
./bootstrap --prefix=/usr/local
make -j8
sudo make install




ubuntu 18.04+ 安装前置依赖




1
2


sudo apt install git build-essential cmake python3-dev libncurses5-dev libxml2-dev \
  libedit-dev swig doxygen graphviz xz-utils




下载&编译




1
2
3
4
5
6


git clone git@github.com:llvm/llvm-project.git -b release/11.x
cd llvm-project && mkdir build && cd build
cmake -G "Unix Makefiles" ../llvm -DCMAKE_BUILD_TYPE=Release -DCMAKE_INSTALL_PREFIX=/usr/local \
  -DLLVM_ENABLE_PROJECTS="clang;" -DLLVM_TARGETS_TO_BUILD="AArch64;X86;"
make -j8
sudo make install



如果只要编译clang，在cmake命令添加定义 -DLLVM_ENABLE_PROJECTS=clang;
LLVM_ENABLE_PROJECTS可用的项目有
clang;clang-tools-extra;compiler-rt;debuginfo-tests;libc;libclc;libcxx;libcxxabi;libunwind;lld;lldb;mlir;openmp;parallel-libs;polly;pstl'></span><header class=post-header><h2 class=post-title itemprop="name headline"><a href=/post/linux-manual-compilation-llvm_clang/ itemprop=url class=post-title-link>linux手动编译llvm/clang</a></h2><div class=post-meta-container><div class=post-meta-items><span class=post-meta-item><span class=post-meta-item-icon><i class="fas fa-solid fa-calendar"></i>
</span><span class=post-meta-item-text title=发表于>发表于：
</span><time title="创建时间：2021年03月28日 14:13:00 CST" itemprop="dateCreated datePublished" datetime="2021-03-28 14:13:00 +0800 +0800">2021年03月28日
</time></span><span class=post-meta-item><span class=post-meta-item-icon><i class="fas fa-solid fa-calendar-check"></i>
</span><span class=post-meta-item-text title=更新于>更新于：
</span><time title="修改时间：2021年03月28日 14:32:00 CST" itemprop="dateModified dateLastmod" datetime="2021-03-28 14:32:00 +0800 +0800">2021年03月28日
</time></span><span class=post-meta-item><span class=post-meta-item-icon><i class="fas fa-solid fa-folder-open"></i>
</span><span class=post-meta-item-text title=分类于>分类于：
</span><span itemprop=about itemscope itemtype=http://schema.org/Thing><a href=/categories/llvm/ itemprop=url rel=index><span itemprop=name>dev/LLVM</span>
</a></span></span><span class=post-meta-item title=浏览><span class=post-meta-item-icon><i class="fas fa-solid fa-eye"></i>
</span><span class=post-meta-item-text>浏览：
</span><span id=pageview-count data-path=/post/linux-manual-compilation-llvm_clang/><i class="fa fa-sync fa-spin"></i></span></span></div></div></header><div class=post-body itemprop=articleBody><ul><li>centos 7 安装前置依赖</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-0-1><a class=lnlinks href=#hl-0-1> 1</a>
</span><span class=lnt id=hl-0-2><a class=lnlinks href=#hl-0-2> 2</a>
</span><span class=lnt id=hl-0-3><a class=lnlinks href=#hl-0-3> 3</a>
</span><span class=lnt id=hl-0-4><a class=lnlinks href=#hl-0-4> 4</a>
</span><span class=lnt id=hl-0-5><a class=lnlinks href=#hl-0-5> 5</a>
</span><span class=lnt id=hl-0-6><a class=lnlinks href=#hl-0-6> 6</a>
</span><span class=lnt id=hl-0-7><a class=lnlinks href=#hl-0-7> 7</a>
</span><span class=lnt id=hl-0-8><a class=lnlinks href=#hl-0-8> 8</a>
</span><span class=lnt id=hl-0-9><a class=lnlinks href=#hl-0-9> 9</a>
</span><span class=lnt id=hl-0-10><a class=lnlinks href=#hl-0-10>10</a>
</span><span class=lnt id=hl-0-11><a class=lnlinks href=#hl-0-11>11</a>
</span><span class=lnt id=hl-0-12><a class=lnlinks href=#hl-0-12>12</a>
</span><span class=lnt id=hl-0-13><a class=lnlinks href=#hl-0-13>13</a>
</span><span class=lnt id=hl-0-14><a class=lnlinks href=#hl-0-14>14</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>sudo yum install git python-devel libffi-devel graphviz-devel elfutils-libelf-devel <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>  readline-devel libedit-devel libxml2-devel protobuf-devel gtext-devel doxygen swig
</span></span><span class=line><span class=cl>sudo yum install -y centos-release-scl scl-utils-build
</span></span><span class=line><span class=cl>sudo yum install -y devtoolset-9 
</span></span><span class=line><span class=cl><span class=nb>source</span> /opt/rh/devtoolset-9/enable
</span></span><span class=line><span class=cl><span class=nb>export</span> <span class=nv>CC</span><span class=o>=</span>/opt/rh/devtoolset-9/root/bin/gcc
</span></span><span class=line><span class=cl><span class=nb>export</span> <span class=nv>CXX</span><span class=o>=</span>/opt/rh/devtoolset-9/root/bin/g++
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>wget https://github.com/Kitware/CMake/releases/download/v3.20.0/cmake-3.20.0.tar.gz
</span></span><span class=line><span class=cl>tar xzvf cmake-3.20.0.tar.gz
</span></span><span class=line><span class=cl><span class=nb>cd</span> cmake-3.20.0
</span></span><span class=line><span class=cl>./bootstrap --prefix<span class=o>=</span>/usr/local
</span></span><span class=line><span class=cl>make -j8
</span></span><span class=line><span class=cl>sudo make install</span></span></code></pre></td></tr></table></div></div><ul><li>ubuntu 18.04+ 安装前置依赖</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-1-1><a class=lnlinks href=#hl-1-1>1</a>
</span><span class=lnt id=hl-1-2><a class=lnlinks href=#hl-1-2>2</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>sudo apt install git build-essential cmake python3-dev libncurses5-dev libxml2-dev <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>  libedit-dev swig doxygen graphviz xz-utils</span></span></code></pre></td></tr></table></div></div><ul><li>下载&编译</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-2-1><a class=lnlinks href=#hl-2-1>1</a>
</span><span class=lnt id=hl-2-2><a class=lnlinks href=#hl-2-2>2</a>
</span><span class=lnt id=hl-2-3><a class=lnlinks href=#hl-2-3>3</a>
</span><span class=lnt id=hl-2-4><a class=lnlinks href=#hl-2-4>4</a>
</span><span class=lnt id=hl-2-5><a class=lnlinks href=#hl-2-5>5</a>
</span><span class=lnt id=hl-2-6><a class=lnlinks href=#hl-2-6>6</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>git clone git@github.com:llvm/llvm-project.git -b release/11.x
</span></span><span class=line><span class=cl><span class=nb>cd</span> llvm-project <span class=o>&amp;&amp;</span> mkdir build <span class=o>&amp;&amp;</span> <span class=nb>cd</span> build
</span></span><span class=line><span class=cl>cmake -G <span class=s2>&#34;Unix Makefiles&#34;</span> ../llvm -DCMAKE_BUILD_TYPE<span class=o>=</span>Release -DCMAKE_INSTALL_PREFIX<span class=o>=</span>/usr/local <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>  -DLLVM_ENABLE_PROJECTS<span class=o>=</span><span class=s2>&#34;clang;&#34;</span> -DLLVM_TARGETS_TO_BUILD<span class=o>=</span><span class=s2>&#34;AArch64;X86;&#34;</span>
</span></span><span class=line><span class=cl>make -j8
</span></span><span class=line><span class=cl>sudo make install</span></span></code></pre></td></tr></table></div></div><p>如果只要编译clang，在cmake命令添加定义 <code>-DLLVM_ENABLE_PROJECTS=clang;</code>
<code>LLVM_ENABLE_PROJECTS</code>可用的项目有
<code>clang;clang-tools-extra;compiler-rt;debuginfo-tests;libc;libclc;libcxx;libcxxabi;libunwind;lld;lldb;mlir;openmp;parallel-libs;polly;pstl</code></p></div><footer class=post-footer><div class=post-button><a class=btn href=/post/linux-manual-compilation-llvm_clang/#more rel=contents>阅读全文 &#187;</a></div><div class=post-eof></div></footer></article></div><div class=post-block><article itemscope itemtype=http://schema.org/Article class=post-content lang><link itemprop=mainEntityOfPage href=https://blogs.qipai360.cn/post/linux-and-windows-synchronize-time/><span hidden itemprop=author itemscope itemtype=http://schema.org/Person><meta itemprop=image content="/imgs/avatar.jpg"><meta itemprop=name content="Rise"></span><span hidden itemprop=publisher itemscope itemtype=http://schema.org/Organization><meta itemprop=name content="Rise"><meta itemprop=description content="福兮祸兮，焉知所依？冬去冰泮，春来萌荣。朝生暮死，亦可惊鸿。知足者富，自足者强。"></span><span hidden itemprop=post itemscope itemtype=http://schema.org/CreativeWork><meta itemprop=name content="linux与windows双系统保持时间同步"><meta itemprop=description content="linux和windows需要同时启用UTC，或者linux单独禁用UTC
修改Linux时区为UTC




1
2


sudo mv /etc/localtime  /etc/localtime.bak
sudo ln -s /usr/share/zoneinfo/UTC /etc/localtime



使用 ntpdate 更新系统时间




 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17


# ubuntu 
sudo apt install ntpdate ntp -y
sudo timedatectl set-timezone UTC
sudo ntpdate -u time.windows.com
sudo hwclock --systohc # 写入硬件
# 启动ntpd服务
sudo systemctl enable ntp # ubuntu
sudo systemctl start ntp

# centos
sudo yum install ntpdate ntp -y # centos
sudo timedatectl set-timezone UTC
sudo ntpdate -u time.windows.com
sudo hwclock --systohc # 写入硬件
# 启动ntpd服务
sudo systemctl enable ntpd # centos
sudo systemctl start ntpd



Linux禁用UTC




1
2


sudo timedatectl set-local-rtc 1
sudo hwclock --localtime --systohc



windows启用UTC




1


reg add HKLM\SYSTEM\CurrentControlSet\Control\TimeZoneInformation /v RealTimeIsUniversal /t REG_DWORD /d 1

"></span><header class=post-header><h2 class=post-title itemprop="name headline"><a href=/post/linux-and-windows-synchronize-time/ itemprop=url class=post-title-link>linux与windows双系统保持时间同步</a></h2><div class=post-meta-container><div class=post-meta-items><span class=post-meta-item><span class=post-meta-item-icon><i class="fas fa-solid fa-calendar"></i>
</span><span class=post-meta-item-text title=发表于>发表于：
</span><time title="创建时间：2021年03月01日 10:08:22 CST" itemprop="dateCreated datePublished" datetime="2021-03-01 10:08:22 +0800 +0800">2021年03月01日
</time></span><span class=post-meta-item title=浏览><span class=post-meta-item-icon><i class="fas fa-solid fa-eye"></i>
</span><span class=post-meta-item-text>浏览：
</span><span id=pageview-count data-path=/post/linux-and-windows-synchronize-time/><i class="fa fa-sync fa-spin"></i></span></span></div></div></header><div class=post-body itemprop=articleBody><p>linux和windows需要同时启用UTC，或者linux单独禁用UTC</p><h4 id=修改linux时区为utc>修改Linux时区为UTC
<a class=header-anchor href=#%e4%bf%ae%e6%94%b9linux%e6%97%b6%e5%8c%ba%e4%b8%bautc></a></h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-0-1><a class=lnlinks href=#hl-0-1>1</a>
</span><span class=lnt id=hl-0-2><a class=lnlinks href=#hl-0-2>2</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>sudo mv /etc/localtime  /etc/localtime.bak
</span></span><span class=line><span class=cl>sudo ln -s /usr/share/zoneinfo/UTC /etc/localtime</span></span></code></pre></td></tr></table></div></div><h4 id=使用-ntpdate-更新系统时间>使用 ntpdate 更新系统时间
<a class=header-anchor href=#%e4%bd%bf%e7%94%a8-ntpdate-%e6%9b%b4%e6%96%b0%e7%b3%bb%e7%bb%9f%e6%97%b6%e9%97%b4></a></h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-1-1><a class=lnlinks href=#hl-1-1> 1</a>
</span><span class=lnt id=hl-1-2><a class=lnlinks href=#hl-1-2> 2</a>
</span><span class=lnt id=hl-1-3><a class=lnlinks href=#hl-1-3> 3</a>
</span><span class=lnt id=hl-1-4><a class=lnlinks href=#hl-1-4> 4</a>
</span><span class=lnt id=hl-1-5><a class=lnlinks href=#hl-1-5> 5</a>
</span><span class=lnt id=hl-1-6><a class=lnlinks href=#hl-1-6> 6</a>
</span><span class=lnt id=hl-1-7><a class=lnlinks href=#hl-1-7> 7</a>
</span><span class=lnt id=hl-1-8><a class=lnlinks href=#hl-1-8> 8</a>
</span><span class=lnt id=hl-1-9><a class=lnlinks href=#hl-1-9> 9</a>
</span><span class=lnt id=hl-1-10><a class=lnlinks href=#hl-1-10>10</a>
</span><span class=lnt id=hl-1-11><a class=lnlinks href=#hl-1-11>11</a>
</span><span class=lnt id=hl-1-12><a class=lnlinks href=#hl-1-12>12</a>
</span><span class=lnt id=hl-1-13><a class=lnlinks href=#hl-1-13>13</a>
</span><span class=lnt id=hl-1-14><a class=lnlinks href=#hl-1-14>14</a>
</span><span class=lnt id=hl-1-15><a class=lnlinks href=#hl-1-15>15</a>
</span><span class=lnt id=hl-1-16><a class=lnlinks href=#hl-1-16>16</a>
</span><span class=lnt id=hl-1-17><a class=lnlinks href=#hl-1-17>17</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># ubuntu </span>
</span></span><span class=line><span class=cl>sudo apt install ntpdate ntp -y
</span></span><span class=line><span class=cl>sudo timedatectl set-timezone UTC
</span></span><span class=line><span class=cl>sudo ntpdate -u time.windows.com
</span></span><span class=line><span class=cl>sudo hwclock --systohc <span class=c1># 写入硬件</span>
</span></span><span class=line><span class=cl><span class=c1># 启动ntpd服务</span>
</span></span><span class=line><span class=cl>sudo systemctl <span class=nb>enable</span> ntp <span class=c1># ubuntu</span>
</span></span><span class=line><span class=cl>sudo systemctl start ntp
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># centos</span>
</span></span><span class=line><span class=cl>sudo yum install ntpdate ntp -y <span class=c1># centos</span>
</span></span><span class=line><span class=cl>sudo timedatectl set-timezone UTC
</span></span><span class=line><span class=cl>sudo ntpdate -u time.windows.com
</span></span><span class=line><span class=cl>sudo hwclock --systohc <span class=c1># 写入硬件</span>
</span></span><span class=line><span class=cl><span class=c1># 启动ntpd服务</span>
</span></span><span class=line><span class=cl>sudo systemctl <span class=nb>enable</span> ntpd <span class=c1># centos</span>
</span></span><span class=line><span class=cl>sudo systemctl start ntpd</span></span></code></pre></td></tr></table></div></div><h4 id=linux禁用utc>Linux禁用UTC
<a class=header-anchor href=#linux%e7%a6%81%e7%94%a8utc></a></h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-2-1><a class=lnlinks href=#hl-2-1>1</a>
</span><span class=lnt id=hl-2-2><a class=lnlinks href=#hl-2-2>2</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>sudo timedatectl set-local-rtc <span class=m>1</span>
</span></span><span class=line><span class=cl>sudo hwclock --localtime --systohc</span></span></code></pre></td></tr></table></div></div><h4 id=windows启用utc>windows启用UTC
<a class=header-anchor href=#windows%e5%90%af%e7%94%a8utc></a></h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-3-1><a class=lnlinks href=#hl-3-1>1</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-cmd data-lang=cmd><span class=line><span class=cl>reg add HKLM\SYSTEM\CurrentControlSet\Control\TimeZoneInformation /v RealTimeIsUniversal /t REG_DWORD /d 1</span></span></code></pre></td></tr></table></div></div></div><footer class=post-footer><div class=post-button><a class=btn href=/post/linux-and-windows-synchronize-time/#more rel=contents>阅读全文 &#187;</a></div><div class=post-eof></div></footer></article></div><div class=post-block><article itemscope itemtype=http://schema.org/Article class=post-content lang><link itemprop=mainEntityOfPage href=https://blogs.qipai360.cn/post/linux-windows-dual-boot-time-sync/><span hidden itemprop=author itemscope itemtype=http://schema.org/Person><meta itemprop=image content="/imgs/avatar.jpg"><meta itemprop=name content="Rise"></span><span hidden itemprop=publisher itemscope itemtype=http://schema.org/Organization><meta itemprop=name content="Rise"><meta itemprop=description content="福兮祸兮，焉知所依？冬去冰泮，春来萌荣。朝生暮死，亦可惊鸿。知足者富，自足者强。"></span><span hidden itemprop=post itemscope itemtype=http://schema.org/CreativeWork><meta itemprop=name content="linux与windows双系统保持时间同步"><meta itemprop=description content="linux和windows需要同时启用UTC，或者linux单独禁用UTC
修改Linux时区为UTC




1
2


sudo mv /etc/localtime  /etc/localtime.bak
sudo ln -s /usr/share/zoneinfo/UTC /etc/localtime



使用 ntpdate 更新系统时间




 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17


# ubuntu 
sudo apt install ntpdate ntp -y
sudo timedatectl set-timezone UTC
sudo ntpdate -u time.windows.com
sudo hwclock --systohc # 写入硬件
# 启动ntpd服务
sudo systemctl enable ntp # ubuntu
sudo systemctl start ntp

# centos
sudo yum install ntpdate ntp -y # centos
sudo timedatectl set-timezone UTC
sudo ntpdate -u time.windows.com
sudo hwclock --systohc # 写入硬件
# 启动ntpd服务
sudo systemctl enable ntpd # centos
sudo systemctl start ntpd



Linux禁用UTC




1
2


sudo timedatectl set-local-rtc 1
sudo hwclock --localtime --systohc



windows启用UTC




1


reg add HKLM\SYSTEM\CurrentControlSet\Control\TimeZoneInformation /v RealTimeIsUniversal /t REG_DWORD /d 1

"></span><header class=post-header><h2 class=post-title itemprop="name headline"><a href=/post/linux-windows-dual-boot-time-sync/ itemprop=url class=post-title-link>linux与windows双系统保持时间同步</a></h2><div class=post-meta-container><div class=post-meta-items><span class=post-meta-item><span class=post-meta-item-icon><i class="fas fa-solid fa-calendar"></i>
</span><span class=post-meta-item-text title=发表于>发表于：
</span><time title="创建时间：2021年03月01日 10:08:00 CST" itemprop="dateCreated datePublished" datetime="2021-03-01 10:08:00 +0800 +0800">2021年03月01日
</time></span><span class=post-meta-item><span class=post-meta-item-icon><i class="fas fa-solid fa-folder-open"></i>
</span><span class=post-meta-item-text title=分类于>分类于：
</span><span itemprop=about itemscope itemtype=http://schema.org/Thing><a href=/categories/linux/ itemprop=url rel=index><span itemprop=name>Linux</span>
</a></span></span><span class=post-meta-item title=浏览><span class=post-meta-item-icon><i class="fas fa-solid fa-eye"></i>
</span><span class=post-meta-item-text>浏览：
</span><span id=pageview-count data-path=/post/linux-windows-dual-boot-time-sync/><i class="fa fa-sync fa-spin"></i></span></span></div></div></header><div class=post-body itemprop=articleBody><p>linux和windows需要同时启用UTC，或者linux单独禁用UTC</p><h4 id=修改linux时区为utc>修改Linux时区为UTC
<a class=header-anchor href=#%e4%bf%ae%e6%94%b9linux%e6%97%b6%e5%8c%ba%e4%b8%bautc></a></h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-0-1><a class=lnlinks href=#hl-0-1>1</a>
</span><span class=lnt id=hl-0-2><a class=lnlinks href=#hl-0-2>2</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>sudo mv /etc/localtime  /etc/localtime.bak
</span></span><span class=line><span class=cl>sudo ln -s /usr/share/zoneinfo/UTC /etc/localtime</span></span></code></pre></td></tr></table></div></div><h4 id=使用-ntpdate-更新系统时间>使用 ntpdate 更新系统时间
<a class=header-anchor href=#%e4%bd%bf%e7%94%a8-ntpdate-%e6%9b%b4%e6%96%b0%e7%b3%bb%e7%bb%9f%e6%97%b6%e9%97%b4></a></h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-1-1><a class=lnlinks href=#hl-1-1> 1</a>
</span><span class=lnt id=hl-1-2><a class=lnlinks href=#hl-1-2> 2</a>
</span><span class=lnt id=hl-1-3><a class=lnlinks href=#hl-1-3> 3</a>
</span><span class=lnt id=hl-1-4><a class=lnlinks href=#hl-1-4> 4</a>
</span><span class=lnt id=hl-1-5><a class=lnlinks href=#hl-1-5> 5</a>
</span><span class=lnt id=hl-1-6><a class=lnlinks href=#hl-1-6> 6</a>
</span><span class=lnt id=hl-1-7><a class=lnlinks href=#hl-1-7> 7</a>
</span><span class=lnt id=hl-1-8><a class=lnlinks href=#hl-1-8> 8</a>
</span><span class=lnt id=hl-1-9><a class=lnlinks href=#hl-1-9> 9</a>
</span><span class=lnt id=hl-1-10><a class=lnlinks href=#hl-1-10>10</a>
</span><span class=lnt id=hl-1-11><a class=lnlinks href=#hl-1-11>11</a>
</span><span class=lnt id=hl-1-12><a class=lnlinks href=#hl-1-12>12</a>
</span><span class=lnt id=hl-1-13><a class=lnlinks href=#hl-1-13>13</a>
</span><span class=lnt id=hl-1-14><a class=lnlinks href=#hl-1-14>14</a>
</span><span class=lnt id=hl-1-15><a class=lnlinks href=#hl-1-15>15</a>
</span><span class=lnt id=hl-1-16><a class=lnlinks href=#hl-1-16>16</a>
</span><span class=lnt id=hl-1-17><a class=lnlinks href=#hl-1-17>17</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># ubuntu </span>
</span></span><span class=line><span class=cl>sudo apt install ntpdate ntp -y
</span></span><span class=line><span class=cl>sudo timedatectl set-timezone UTC
</span></span><span class=line><span class=cl>sudo ntpdate -u time.windows.com
</span></span><span class=line><span class=cl>sudo hwclock --systohc <span class=c1># 写入硬件</span>
</span></span><span class=line><span class=cl><span class=c1># 启动ntpd服务</span>
</span></span><span class=line><span class=cl>sudo systemctl <span class=nb>enable</span> ntp <span class=c1># ubuntu</span>
</span></span><span class=line><span class=cl>sudo systemctl start ntp
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># centos</span>
</span></span><span class=line><span class=cl>sudo yum install ntpdate ntp -y <span class=c1># centos</span>
</span></span><span class=line><span class=cl>sudo timedatectl set-timezone UTC
</span></span><span class=line><span class=cl>sudo ntpdate -u time.windows.com
</span></span><span class=line><span class=cl>sudo hwclock --systohc <span class=c1># 写入硬件</span>
</span></span><span class=line><span class=cl><span class=c1># 启动ntpd服务</span>
</span></span><span class=line><span class=cl>sudo systemctl <span class=nb>enable</span> ntpd <span class=c1># centos</span>
</span></span><span class=line><span class=cl>sudo systemctl start ntpd</span></span></code></pre></td></tr></table></div></div><h4 id=linux禁用utc>Linux禁用UTC
<a class=header-anchor href=#linux%e7%a6%81%e7%94%a8utc></a></h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-2-1><a class=lnlinks href=#hl-2-1>1</a>
</span><span class=lnt id=hl-2-2><a class=lnlinks href=#hl-2-2>2</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>sudo timedatectl set-local-rtc <span class=m>1</span>
</span></span><span class=line><span class=cl>sudo hwclock --localtime --systohc</span></span></code></pre></td></tr></table></div></div><h4 id=windows启用utc>windows启用UTC
<a class=header-anchor href=#windows%e5%90%af%e7%94%a8utc></a></h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-3-1><a class=lnlinks href=#hl-3-1>1</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-cmd data-lang=cmd><span class=line><span class=cl>reg add HKLM\SYSTEM\CurrentControlSet\Control\TimeZoneInformation /v RealTimeIsUniversal /t REG_DWORD /d 1</span></span></code></pre></td></tr></table></div></div></div><footer class=post-footer><div class=post-button><a class=btn href=/post/linux-windows-dual-boot-time-sync/#more rel=contents>阅读全文 &#187;</a></div><div class=post-eof></div></footer></article></div><nav class=pagination><a class="extend prev" rel=prev href=/page/5/><i class="fa fa-angle-left"></i>
</a><a class=page-number href=/page/2/>2</a>
<a class=page-number href=/page/3/>3</a>
<a class=page-number href=/page/4/>4</a>
<a class=page-number href=/page/5/>5</a>
<span class="page-number current">6</span>
<a class=page-number href=/page/7/>7</a>
<a class=page-number href=/page/8/>8</a>
<a class=page-number href=/page/9/>9</a>
<a class=page-number href=/page/10/>10</a>
<a class="extend next" rel=next href=/page/7/><i class="fa fa-angle-right"></i></a></nav></div></main><footer class=footer><div class=footer-inner><div class=copyright>&copy;
<span itemprop=copyrightYear>2004 - 2025
</span><span class=with-love><i class="fa fa-heart"></i>
</span><span class=author itemprop=copyrightHolder>Rise</span></div><div class=powered-by>由 <a href=https://gohugo.io title=0.152.2 target=_blank>Hugo</a> & <a href=https://github.com/hugo-next/hugo-theme-next title=4.8.3 target=_blank>Hugo NexT.Gemini</a> 强力驱动</div><div class=beian><a href=https://beian.miit.gov.cn target=_blank>豫ICP备2021009490号</a>
<img src=/imgs/gongan.png alt=豫公网安备>
<a href="http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=41162302000074" target=_blank>豫公网安备 41162302000074 号</a></div></div></footer><script class=next-config data-name=page type=application/json>{"comments":true,"expired":false,"isHome":true,"isPage":false,"path":"blogs.qipai360.cn","permalink":"https://blogs.qipai360.cn/","title":"Rise的自留地","toc":false,"waline3":{"pagecnt":{"alias":"@waline/client","alias_name":"waline","file":"dist/pageview.js","name":"pageview","version":"3.5.7"}}}</script><script type=text/javascript src=https://blogs.qipai360.cn/js/3rd/animejs/3.2.2/anime.min.js crossorigin=anonymous defer></script><script type=text/javascript src=https://blogs.qipai360.cn/js/3rd/viewerjs/1.11.6/viewer.min.js crossorigin=anonymous defer></script><script class=next-config data-name=main type=application/json>{"bookmark":{"color":"#222","enable":true,"save":"manual"},"copybtn":true,"darkmode":true,"giscus":{"cfg":{"category":"Announcements","categoryid":"DIC_kwDOA6L0YM4CiXf9","emit":false,"inputposition":"top","mapping":"title","reactions":false,"repo":"rise-worlds/rise-worlds.github.io","repoid":"MDEwOlJlcG9zaXRvcnk2MTAxMTA0MA==","theme":"transparent_dark"},"js":"https://giscus.app/client.js"},"hostname":"https://blogs.qipai360.cn/","i18n":{"ds_day":" 天前","ds_days":" 天 ","ds_hour":" 小时前","ds_hours":" 小时 ","ds_just":"刚刚","ds_min":" 分钟前","ds_mins":" 分钟","ds_month":" 个月前","ds_years":" 年 ","empty":"没有找到任何搜索结果：${query}","hits":"找到 ${hits} 个搜索结果","hits_time":"找到 ${hits} 个搜索结果（用时 ${time} 毫秒）","placeholder":"搜索..."},"isMultiLang":false,"lang":"zh-CN","lazyload":false,"motion":{"async":true,"enable":true,"transition":{"collheader":"fadeInLeft","postblock":"fadeIn","postbody":"fadeInDown","postheader":"fadeInDown","sidebar":"fadeInUp"}},"postmeta":{"comments":{"enable":false,"plugin":"waline3"},"views":{"enable":true,"plugin":"waline3"}},"root":"/","scheme":"Gemini","share":{"addtoany":{"js":"https://static.addtoany.com/menu/page.js","locale":"zh-CN","num":8},"enable":false},"sidebar":{"display":"post","offset":12,"padding":18,"position":"left","width":256},"vendor":{"plugins":"local","router":{"name":"local","type":"modern","url":"https://blogs.qipai360.cn/js/3rd"}},"version":"4.8.3","waline3":{"cfg":{"emoji":false,"imguploader":false,"placeholder":"请文明发言哟 ヾ(≧▽≦*)o 可用快捷键选取表情符号：😀😄😁🥳👻👽👀🚄 (Window系统：Win+.，Mac系统：Control+Command+Space)","reaction":true,"reactiontext":["点赞","踩一下","得意","不屑","尴尬","睡觉"],"reactiontitle":"你认为这篇文章怎么样？","requiredmeta":["nick","mail"],"search":true,"serverurl":"https://walinejs.comment.lithub.cc","sofa":"快来发表你的意见吧 (≧∀≦)ゞ","wordlimit":200},"css":{"alias":"@waline/client","file":"dist/waline.css","name":"waline","version":"3.5.7"},"js":{"alias":"@waline/client","file":"dist/waline.js","name":"waline","version":"3.5.7"}}}</script><script type=text/javascript src="/js/main.min.js?=1761990624" defer></script></body></html>